(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function Mh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qu={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function vv(){if(Xp)return Po;Xp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(a,r,d){var m=null;if(d!==void 0&&(m=""+d),r.key!==void 0&&(m=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:a,key:m,ref:r!==void 0?r:null,props:d}}return Po.Fragment=n,Po.jsx=o,Po.jsxs=o,Po}var Zp;function Tv(){return Zp||(Zp=1,qu.exports=vv()),qu.exports}var S=Tv(),Bu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function Sv(){if(Wp)return ye;Wp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,X={};function J(N,H,$){this.props=N,this.context=H,this.refs=X,this.updater=$||q}J.prototype.isReactComponent={},J.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function W(){}W.prototype=J.prototype;function Q(N,H,$){this.props=N,this.context=H,this.refs=X,this.updater=$||q}var ne=Q.prototype=new W;ne.constructor=Q,G(ne,J.prototype),ne.isPureReactComponent=!0;var se=Array.isArray;function ue(){}var Y={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function F(N,H,$){var ie=$.ref;return{$$typeof:i,type:N,key:H,ref:ie!==void 0?ie:null,props:$}}function ce(N,H){return F(N.type,H,N.props)}function Re(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function me(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function($){return H[$]})}var Ke=/\/+/g;function Xe(N,H){return typeof N=="object"&&N!==null&&N.key!=null?me(""+N.key):H.toString(36)}function it(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ue,ue):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function k(N,H,$,ie,ge){var Se=typeof N;(Se==="undefined"||Se==="boolean")&&(N=null);var Ie=!1;if(N===null)Ie=!0;else switch(Se){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(N.$$typeof){case i:case n:Ie=!0;break;case v:return Ie=N._init,k(Ie(N._payload),H,$,ie,ge)}}if(Ie)return ge=ge(N),Ie=ie===""?"."+Xe(N,0):ie,se(ge)?($="",Ie!=null&&($=Ie.replace(Ke,"$&/")+"/"),k(ge,H,$,"",function(Yn){return Yn})):ge!=null&&(Re(ge)&&(ge=ce(ge,$+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(Ke,"$&/")+"/")+Ie)),H.push(ge)),1;Ie=0;var ct=ie===""?".":ie+":";if(se(N))for(var ze=0;ze<N.length;ze++)ie=N[ze],Se=ct+Xe(ie,ze),Ie+=k(ie,H,$,Se,ge);else if(ze=R(N),typeof ze=="function")for(N=ze.call(N),ze=0;!(ie=N.next()).done;)ie=ie.value,Se=ct+Xe(ie,ze++),Ie+=k(ie,H,$,Se,ge);else if(Se==="object"){if(typeof N.then=="function")return k(it(N),H,$,ie,ge);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Z(N,H,$){if(N==null)return N;var ie=[],ge=0;return k(N,ie,"","",function(Se){return H.call($,Se,ge++)}),ie}function de(N){if(N._status===-1){var H=N._result;H=H(),H.then(function($){(N._status===0||N._status===-1)&&(N._status=1,N._result=$)},function($){(N._status===0||N._status===-1)&&(N._status=2,N._result=$)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var Ce=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},be={map:Z,forEach:function(N,H,$){Z(N,function(){H.apply(this,arguments)},$)},count:function(N){var H=0;return Z(N,function(){H++}),H},toArray:function(N){return Z(N,function(H){return H})||[]},only:function(N){if(!Re(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ye.Activity=E,ye.Children=be,ye.Component=J,ye.Fragment=o,ye.Profiler=r,ye.PureComponent=Q,ye.StrictMode=a,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ye.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Y.H.useMemoCache(N)}},ye.cache=function(N){return function(){return N.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(N,H,$){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=G({},N.props),ge=N.key;if(H!=null)for(Se in H.key!==void 0&&(ge=""+H.key),H)!he.call(H,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&H.ref===void 0||(ie[Se]=H[Se]);var Se=arguments.length-2;if(Se===1)ie.children=$;else if(1<Se){for(var Ie=Array(Se),ct=0;ct<Se;ct++)Ie[ct]=arguments[ct+2];ie.children=Ie}return F(N.type,ge,ie)},ye.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},ye.createElement=function(N,H,$){var ie,ge={},Se=null;if(H!=null)for(ie in H.key!==void 0&&(Se=""+H.key),H)he.call(H,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=H[ie]);var Ie=arguments.length-2;if(Ie===1)ge.children=$;else if(1<Ie){for(var ct=Array(Ie),ze=0;ze<Ie;ze++)ct[ze]=arguments[ze+2];ge.children=ct}if(N&&N.defaultProps)for(ie in Ie=N.defaultProps,Ie)ge[ie]===void 0&&(ge[ie]=Ie[ie]);return F(N,Se,ge)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(N){return{$$typeof:g,render:N}},ye.isValidElement=Re,ye.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:de}},ye.memo=function(N,H){return{$$typeof:h,type:N,compare:H===void 0?null:H}},ye.startTransition=function(N){var H=Y.T,$={};Y.T=$;try{var ie=N(),ge=Y.S;ge!==null&&ge($,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ue,Ce)}catch(Se){Ce(Se)}finally{H!==null&&$.types!==null&&(H.types=$.types),Y.T=H}},ye.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ye.use=function(N){return Y.H.use(N)},ye.useActionState=function(N,H,$){return Y.H.useActionState(N,H,$)},ye.useCallback=function(N,H){return Y.H.useCallback(N,H)},ye.useContext=function(N){return Y.H.useContext(N)},ye.useDebugValue=function(){},ye.useDeferredValue=function(N,H){return Y.H.useDeferredValue(N,H)},ye.useEffect=function(N,H){return Y.H.useEffect(N,H)},ye.useEffectEvent=function(N){return Y.H.useEffectEvent(N)},ye.useId=function(){return Y.H.useId()},ye.useImperativeHandle=function(N,H,$){return Y.H.useImperativeHandle(N,H,$)},ye.useInsertionEffect=function(N,H){return Y.H.useInsertionEffect(N,H)},ye.useLayoutEffect=function(N,H){return Y.H.useLayoutEffect(N,H)},ye.useMemo=function(N,H){return Y.H.useMemo(N,H)},ye.useOptimistic=function(N,H){return Y.H.useOptimistic(N,H)},ye.useReducer=function(N,H,$){return Y.H.useReducer(N,H,$)},ye.useRef=function(N){return Y.H.useRef(N)},ye.useState=function(N){return Y.H.useState(N)},ye.useSyncExternalStore=function(N,H,$){return Y.H.useSyncExternalStore(N,H,$)},ye.useTransition=function(){return Y.H.useTransition()},ye.version="19.2.0",ye}var $p;function nc(){return $p||($p=1,Bu.exports=Sv()),Bu.exports}var V=nc();const Ev=Mh(V);var Vu={exports:{}},Oo={},Hu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Cv(){return jp||(jp=1,(function(i){function n(k,Z){var de=k.length;k.push(Z);e:for(;0<de;){var Ce=de-1>>>1,be=k[Ce];if(0<r(be,Z))k[Ce]=Z,k[de]=be,de=Ce;else break e}}function o(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var Z=k[0],de=k.pop();if(de!==Z){k[0]=de;e:for(var Ce=0,be=k.length,N=be>>>1;Ce<N;){var H=2*(Ce+1)-1,$=k[H],ie=H+1,ge=k[ie];if(0>r($,de))ie<be&&0>r(ge,$)?(k[Ce]=ge,k[ie]=de,Ce=ie):(k[Ce]=$,k[H]=de,Ce=H);else if(ie<be&&0>r(ge,de))k[Ce]=ge,k[ie]=de,Ce=ie;else break e}}return Z}function r(k,Z){var de=k.sortIndex-Z.sortIndex;return de!==0?de:k.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,E=null,A=3,R=!1,q=!1,G=!1,X=!1,J=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ne(k){for(var Z=o(h);Z!==null;){if(Z.callback===null)a(h);else if(Z.startTime<=k)a(h),Z.sortIndex=Z.expirationTime,n(y,Z);else break;Z=o(h)}}function se(k){if(G=!1,ne(k),!q)if(o(y)!==null)q=!0,ue||(ue=!0,me());else{var Z=o(h);Z!==null&&it(se,Z.startTime-k)}}var ue=!1,Y=-1,he=5,F=-1;function ce(){return X?!0:!(i.unstable_now()-F<he)}function Re(){if(X=!1,ue){var k=i.unstable_now();F=k;var Z=!0;try{e:{q=!1,G&&(G=!1,W(Y),Y=-1),R=!0;var de=A;try{t:{for(ne(k),E=o(y);E!==null&&!(E.expirationTime>k&&ce());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,A=E.priorityLevel;var be=Ce(E.expirationTime<=k);if(k=i.unstable_now(),typeof be=="function"){E.callback=be,ne(k),Z=!0;break t}E===o(y)&&a(y),ne(k)}else a(y);E=o(y)}if(E!==null)Z=!0;else{var N=o(h);N!==null&&it(se,N.startTime-k),Z=!1}}break e}finally{E=null,A=de,R=!1}Z=void 0}}finally{Z?me():ue=!1}}}var me;if(typeof Q=="function")me=function(){Q(Re)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,Xe=Ke.port2;Ke.port1.onmessage=Re,me=function(){Xe.postMessage(null)}}else me=function(){J(Re,0)};function it(k,Z){Y=J(function(){k(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(k){switch(A){case 1:case 2:case 3:var Z=3;break;default:Z=A}var de=A;A=Z;try{return k()}finally{A=de}},i.unstable_requestPaint=function(){X=!0},i.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var de=A;A=k;try{return Z()}finally{A=de}},i.unstable_scheduleCallback=function(k,Z,de){var Ce=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,k){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=de+be,k={id:v++,callback:Z,priorityLevel:k,startTime:de,expirationTime:be,sortIndex:-1},de>Ce?(k.sortIndex=de,n(h,k),o(y)===null&&k===o(h)&&(G?(W(Y),Y=-1):G=!0,it(se,de-Ce))):(k.sortIndex=be,n(y,k),q||R||(q=!0,ue||(ue=!0,me()))),k},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(k){var Z=A;return function(){var de=A;A=Z;try{return k.apply(this,arguments)}finally{A=de}}}})(zu)),zu}var em;function Av(){return em||(em=1,Hu.exports=Cv()),Hu.exports}var Pu={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function _v(){if(tm)return Et;tm=1;var i=nc();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Et.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(y,h,null,v)},Et.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},Et.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},Et.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Et.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin),A=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:R}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:A,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Et.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},Et.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Et.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},Et.requestFormReset=function(y){a.d.r(y)},Et.unstable_batchedUpdates=function(y,h){return y(h)},Et.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},Et.useFormStatus=function(){return m.H.useHostTransitionStatus()},Et.version="19.2.0",Et}var nm;function xv(){if(nm)return Pu.exports;nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Pu.exports=_v(),Pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Nv(){if(im)return Oo;im=1;var i=Av(),n=nc(),o=xv();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(a(188));return t!==e?null:e}for(var l=e,s=t;;){var c=l.return;if(c===null)break;var p=c.alternate;if(p===null){if(s=c.return,s!==null){l=s;continue}break}if(c.child===p.child){for(p=c.child;p;){if(p===l)return y(c),e;if(p===s)return y(c),t;p=p.sibling}throw Error(a(188))}if(l.return!==s.return)l=c,s=p;else{for(var T=!1,C=c.child;C;){if(C===l){T=!0,l=c,s=p;break}if(C===s){T=!0,s=c,l=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===l){T=!0,l=p,s=c;break}if(C===s){T=!0,s=p,l=c;break}C=C.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=Re&&e[Re]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Symbol.for("react.client.reference");function Xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case J:return"Profiler";case X:return"StrictMode";case se:return"Suspense";case ue:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case Q:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:Xe(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return Xe(e(t))}catch{}}return null}var it=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],be=-1;function N(e){return{current:e}}function H(e){0>be||(e.current=Ce[be],Ce[be]=null,be--)}function $(e,t){be++,Ce[be]=e.current,e.current=t}var ie=N(null),ge=N(null),Se=N(null),Ie=N(null);function ct(e,t){switch($(Se,t),$(ge,e),$(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vp(t),e=Tp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(ie),$(ie,e)}function ze(){H(ie),H(ge),H(Se)}function Yn(e){e.memoizedState!==null&&$(Ie,e);var t=ie.current,l=Tp(t,e.type);t!==l&&($(ge,e),$(ie,l))}function Zi(e){ge.current===e&&(H(ie),H(ge)),Ie.current===e&&(H(Ie),Bo._currentValue=de)}var Si,Xo;function an(e){if(Si===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Si=t&&t[1]||"",Xo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Si+e+Xo}var Xl=!1;function Ei(e,t){if(!e||Xl)return"";Xl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(D){var I=D}Reflect.construct(e,[],P)}else{try{P.call()}catch(D){I=D}e.call(P.prototype)}}else{try{throw Error()}catch(D){I=D}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(D){if(D&&I&&typeof D.stack=="string")return[D.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var _=T.split(`
`),b=C.split(`
`);for(c=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;c<b.length&&!b[c].includes("DetermineComponentFrameRoot");)c++;if(s===_.length||c===b.length)for(s=_.length-1,c=b.length-1;1<=s&&0<=c&&_[s]!==b[c];)c--;for(;1<=s&&0<=c;s--,c--)if(_[s]!==b[c]){if(s!==1||c!==1)do if(s--,c--,0>c||_[s]!==b[c]){var L=`
`+_[s].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=s&&0<=c);break}}}finally{Xl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?an(l):""}function Cs(e,t){switch(e.tag){case 26:case 27:case 5:return an(e.type);case 16:return an("Lazy");case 13:return e.child!==t&&t!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return Ei(e.type,!1);case 11:return Ei(e.type.render,!1);case 1:return Ei(e.type,!0);case 31:return an("Activity");default:return""}}function Wi(e){try{var t="",l=null;do t+=Cs(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Zl=Object.prototype.hasOwnProperty,Ci=i.unstable_scheduleCallback,sn=i.unstable_cancelCallback,Wl=i.unstable_shouldYield,As=i.unstable_requestPaint,mt=i.unstable_now,_s=i.unstable_getCurrentPriorityLevel,$i=i.unstable_ImmediatePriority,ji=i.unstable_UserBlockingPriority,el=i.unstable_NormalPriority,xs=i.unstable_LowPriority,Fn=i.unstable_IdlePriority,K=i.log,Ns=i.unstable_setDisableYieldValue,Ai=null,At=null;function Jt(e){if(typeof K=="function"&&Ns(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ai,e)}catch{}}var Tt=Math.clz32?Math.clz32:$o,Zo=Math.log,Wo=Math.LN2;function $o(e){return e>>>=0,e===0?32:31-(Zo(e)/Wo|0)|0}var _i=256,xi=262144,Ni=4194304;function hn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var c=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~p,s!==0?c=hn(s):(T&=C,T!==0?c=hn(T):l||(l=C&~e,l!==0&&(c=hn(l))))):(C=s&~p,C!==0?c=hn(C):T!==0?c=hn(T):l||(l=s&~e,l!==0&&(c=hn(l)))),c===0?0:t!==0&&t!==c&&(t&p)===0&&(p=c&-c,l=t&-t,p>=l||p===32&&(l&4194048)!==0)?t:c}function Kn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rt(){var e=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),e}function Ri(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Cn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rs(e,t,l,s,c,p){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,_=e.expirationTimes,b=e.hiddenUpdates;for(l=T&~l;0<l;){var L=31-Tt(l),P=1<<L;C[L]=0,_[L]=-1;var I=b[L];if(I!==null)for(b[L]=null,L=0;L<I.length;L++){var D=I[L];D!==null&&(D.lane&=-536870913)}l&=~P}s!==0&&Mi(e,s,0),p!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~t))}function Mi(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Tt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function tl(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Tt(l),c=1<<s;c&t|e[s]&t&&(e[s]|=t),l&=~c}}function nl(e,t){var l=t&-t;return l=(l&42)!==0?1:il(l),(l&(e.suspendedLanes|t))!==0?0:l}function il(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Pp(e.type))}function ll(e,t){var l=Z.p;try{return Z.p=e,t()}finally{Z.p=l}}var Yt=Math.random().toString(36).slice(2),et="__reactFiber$"+Yt,dt="__reactProps$"+Yt,Qn="__reactContainer$"+Yt,bi="__reactEvents$"+Yt,Ms="__reactListeners$"+Yt,ws="__reactHandles$"+Yt,ol="__reactResources$"+Yt,An="__reactMarker$"+Yt;function jl(e){delete e[et],delete e[dt],delete e[bi],delete e[Ms],delete e[ws]}function _n(e){var t=e[et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Qn]||l[et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Np(e);e!==null;){if(l=e[et])return l;e=Np(e)}return t}e=l,l=e.parentNode}return null}function xn(e){if(e=e[et]||e[Qn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ii(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Xn(e){var t=e[ol];return t||(t=e[ol]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[An]=!0}var U=new Set,O={};function z(e,t){oe(e,t),oe(e+"Capture",t)}function oe(e,t){for(O[e]=t,e=0;e<t.length;e++)U.add(t[e])}var Me=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},St={};function Mt(e){return Zl.call(St,e)?!0:Zl.call(Oe,e)?!1:Me.test(e)?St[e]=!0:(Oe[e]=!0,!1)}function _t(e,t,l){if(Mt(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function rn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function wt(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fg(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bs(e){if(!e._valueTracker){var t=uc(e)?"checked":"value";e._valueTracker=fg(e,t,""+e[t])}}function cc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=uc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dg=/[\n"\\]/g;function Ft(e){return e.replace(dg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Is(e,t,l,s,c,p,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),t!=null?T==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),t!=null?Ds(e,T,bt(t)):l!=null?Ds(e,T,bt(l)):s!=null&&e.removeAttribute("value"),c==null&&p!=null&&(e.defaultChecked=!!p),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+bt(C):e.removeAttribute("name")}function fc(e,t,l,s,c,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){bs(e);return}l=l!=null?""+bt(l):"",t=t!=null?""+bt(t):l,C||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),bs(e)}function Ds(e,t,l){t==="number"&&ea(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function al(e,t,l,s){if(e=e.options,t){t={};for(var c=0;c<l.length;c++)t["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=t.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&s&&(e[l].defaultSelected=!0)}else{for(l=""+bt(l),t=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function dc(e,t,l){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+bt(l):""}function pc(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(a(92));if(it(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=bt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),bs(e)}function sl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||pg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function hc(e,t,l){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&l[c]!==s&&mc(e,c,s)}else for(var p in t)t.hasOwnProperty(p)&&mc(e,p,t[p])}function ks(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return hg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nn(){}var Us=null;function Gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,ul=null;function gc(e){var t=xn(e);if(t&&(e=t.stateNode)){var l=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Is(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var c=s[dt]||null;if(!c)throw Error(a(90));Is(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&cc(s)}break e;case"textarea":dc(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&al(e,!!l.multiple,t,!1)}}}var Ls=!1;function yc(e,t,l){if(Ls)return e(t,l);Ls=!0;try{var s=e(t);return s}finally{if(Ls=!1,(rl!==null||ul!==null)&&(Pa(),rl&&(t=rl,e=ul,ul=rl=null,gc(t),e)))for(t=0;t<e.length;t++)gc(e[t])}}function eo(e,t){var l=e.stateNode;if(l===null)return null;var s=l[dt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,t,typeof l));return l}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Rn)try{var to={};Object.defineProperty(to,"passive",{get:function(){qs=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{qs=!1}var Zn=null,Bs=null,na=null;function vc(){if(na)return na;var e,t=Bs,l=t.length,s,c="value"in Zn?Zn.value:Zn.textContent,p=c.length;for(e=0;e<l&&t[e]===c[e];e++);var T=l-e;for(s=1;s<=T&&t[l-s]===c[p-s];s++);return na=c.slice(e,1<s?1-s:void 0)}function ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function la(){return!0}function Tc(){return!1}function It(e){function t(l,s,c,p,T){this._reactName=l,this._targetInst=c,this.type=s,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?la:Tc,this.isPropagationStopped=Tc,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=It(Di),no=E({},Di,{view:0,detail:0}),gg=It(no),Vs,Hs,io,aa=E({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(Vs=e.screenX-io.screenX,Hs=e.screenY-io.screenY):Hs=Vs=0,io=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),Sc=It(aa),yg=E({},aa,{dataTransfer:0}),vg=It(yg),Tg=E({},no,{relatedTarget:0}),zs=It(Tg),Sg=E({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Eg=It(Sg),Cg=E({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ag=It(Cg),_g=E({},Di,{data:0}),Ec=It(_g),xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rg[e])?!!t[e]:!1}function Ps(){return Mg}var wg=E({},no,{key:function(e){if(e.key){var t=xg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ng[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bg=It(wg),Ig=E({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=It(Ig),Dg=E({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),kg=It(Dg),Ug=E({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gg=It(Ug),Lg=E({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qg=It(Lg),Bg=E({},Di,{newState:0,oldState:0}),Vg=It(Bg),Hg=[9,13,27,32],Os=Rn&&"CompositionEvent"in window,lo=null;Rn&&"documentMode"in document&&(lo=document.documentMode);var zg=Rn&&"TextEvent"in window&&!lo,Ac=Rn&&(!Os||lo&&8<lo&&11>=lo),_c=" ",xc=!1;function Nc(e,t){switch(e){case"keyup":return Hg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cl=!1;function Pg(e,t){switch(e){case"compositionend":return Rc(t);case"keypress":return t.which!==32?null:(xc=!0,_c);case"textInput":return e=t.data,e===_c&&xc?null:e;default:return null}}function Og(e,t){if(cl)return e==="compositionend"||!Os&&Nc(e,t)?(e=vc(),na=Bs=Zn=null,cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ac&&t.locale!=="ko"?null:t.data;default:return null}}var Jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jg[e.type]:t==="textarea"}function wc(e,t,l,s){rl?ul?ul.push(s):ul=[s]:rl=s,t=Xa(t,"onChange"),0<t.length&&(l=new oa("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var oo=null,ao=null;function Yg(e){dp(e,0)}function sa(e){var t=Ii(e);if(cc(t))return e}function bc(e,t){if(e==="change")return t}var Ic=!1;if(Rn){var Js;if(Rn){var Ys="oninput"in document;if(!Ys){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),Ys=typeof Dc.oninput=="function"}Js=Ys}else Js=!1;Ic=Js&&(!document.documentMode||9<document.documentMode)}function kc(){oo&&(oo.detachEvent("onpropertychange",Uc),ao=oo=null)}function Uc(e){if(e.propertyName==="value"&&sa(ao)){var t=[];wc(t,ao,e,Gs(e)),yc(Yg,t)}}function Fg(e,t,l){e==="focusin"?(kc(),oo=t,ao=l,oo.attachEvent("onpropertychange",Uc)):e==="focusout"&&kc()}function Kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sa(ao)}function Qg(e,t){if(e==="click")return sa(t)}function Xg(e,t){if(e==="input"||e==="change")return sa(t)}function Zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:Zg;function so(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var c=l[s];if(!Zl.call(t,c)||!qt(e[c],t[c]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,t){var l=Gc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gc(l)}}function qc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ea(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=ea(e.document)}return t}function Fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Wg=Rn&&"documentMode"in document&&11>=document.documentMode,fl=null,Ks=null,ro=null,Qs=!1;function Vc(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qs||fl==null||fl!==ea(s)||(s=fl,"selectionStart"in s&&Fs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ro&&so(ro,s)||(ro=s,s=Xa(Ks,"onSelect"),0<s.length&&(t=new oa("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=fl)))}function ki(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var dl={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Xs={},Hc={};Rn&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Ui(e){if(Xs[e])return Xs[e];if(!dl[e])return e;var t=dl[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Hc)return Xs[e]=t[l];return e}var zc=Ui("animationend"),Pc=Ui("animationiteration"),Oc=Ui("animationstart"),$g=Ui("transitionrun"),jg=Ui("transitionstart"),ey=Ui("transitioncancel"),Jc=Ui("transitionend"),Yc=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function un(e,t){Yc.set(e,t),z(t,[e])}var ra=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],pl=0,Ws=0;function ua(){for(var e=pl,t=Ws=pl=0;t<e;){var l=Kt[t];Kt[t++]=null;var s=Kt[t];Kt[t++]=null;var c=Kt[t];Kt[t++]=null;var p=Kt[t];if(Kt[t++]=null,s!==null&&c!==null){var T=s.pending;T===null?c.next=c:(c.next=T.next,T.next=c),s.pending=c}p!==0&&Fc(l,c,p)}}function ca(e,t,l,s){Kt[pl++]=e,Kt[pl++]=t,Kt[pl++]=l,Kt[pl++]=s,Ws|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function $s(e,t,l,s){return ca(e,t,l,s),fa(e)}function Gi(e,t){return ca(e,null,null,t),fa(e)}function Fc(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var c=!1,p=e.return;p!==null;)p.childLanes|=l,s=p.alternate,s!==null&&(s.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(c=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,c&&t!==null&&(c=31-Tt(l),e=p.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=l|536870912),p):null}function fa(e){if(50<Io)throw Io=0,su=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ml={};function ty(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,l,s){return new ty(e,t,l,s)}function js(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,t){var l=e.alternate;return l===null?(l=Bt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Kc(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function da(e,t,l,s,c,p){var T=0;if(s=e,typeof e=="function")js(e)&&(T=1);else if(typeof e=="string")T=av(e,l,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Bt(31,l,t,c),e.elementType=F,e.lanes=p,e;case G:return Li(l.children,c,p,t);case X:T=8,c|=24;break;case J:return e=Bt(12,l,t,c|2),e.elementType=J,e.lanes=p,e;case se:return e=Bt(13,l,t,c),e.elementType=se,e.lanes=p,e;case ue:return e=Bt(19,l,t,c),e.elementType=ue,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:T=10;break e;case W:T=9;break e;case ne:T=11;break e;case Y:T=14;break e;case he:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return t=Bt(T,l,t,c),t.elementType=e,t.type=s,t.lanes=p,t}function Li(e,t,l,s){return e=Bt(7,e,s,t),e.lanes=l,e}function er(e,t,l){return e=Bt(6,e,null,t),e.lanes=l,e}function Qc(e){var t=Bt(18,null,null,0);return t.stateNode=e,t}function tr(e,t,l){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xc=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var l=Xc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Wi(t)},Xc.set(e,t),t)}return{value:e,source:t,stack:Wi(t)}}var hl=[],gl=0,pa=null,uo=0,Xt=[],Zt=0,Wn=null,gn=1,yn="";function wn(e,t){hl[gl++]=uo,hl[gl++]=pa,pa=e,uo=t}function Zc(e,t,l){Xt[Zt++]=gn,Xt[Zt++]=yn,Xt[Zt++]=Wn,Wn=e;var s=gn;e=yn;var c=32-Tt(s)-1;s&=~(1<<c),l+=1;var p=32-Tt(t)+c;if(30<p){var T=c-c%5;p=(s&(1<<T)-1).toString(32),s>>=T,c-=T,gn=1<<32-Tt(t)+c|l<<c|s,yn=p+e}else gn=1<<p|l<<c|s,yn=e}function nr(e){e.return!==null&&(wn(e,1),Zc(e,1,0))}function ir(e){for(;e===pa;)pa=hl[--gl],hl[gl]=null,uo=hl[--gl],hl[gl]=null;for(;e===Wn;)Wn=Xt[--Zt],Xt[Zt]=null,yn=Xt[--Zt],Xt[Zt]=null,gn=Xt[--Zt],Xt[Zt]=null}function Wc(e,t){Xt[Zt++]=gn,Xt[Zt++]=yn,Xt[Zt++]=Wn,gn=t.id,yn=t.overflow,Wn=e}var ht=null,Je=null,we=!1,$n=null,Wt=!1,lr=Error(a(519));function jn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw co(Qt(t,e)),lr}function $c(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[et]=e,t[dt]=s,l){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(l=0;l<ko.length;l++)_e(ko[l],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),fc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),pc(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||gp(t.textContent,l)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=Nn),t=!0):t=!1,t||jn(e,!0)}function jc(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ht=ht.return}}function yl(e){if(e!==ht)return!1;if(!we)return jc(e),we=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Cu(e.type,e.memoizedProps)),l=!l),l&&Je&&jn(e),jc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Je=xp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Je=xp(e)}else t===27?(t=Je,pi(e.type)?(e=Ru,Ru=null,Je=e):Je=t):Je=ht?jt(e.stateNode.nextSibling):null;return!0}function qi(){Je=ht=null,we=!1}function or(){var e=$n;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),$n=null),e}function co(e){$n===null?$n=[e]:$n.push(e)}var ar=N(null),Bi=null,bn=null;function ei(e,t,l){$(ar,t._currentValue),t._currentValue=l}function In(e){e._currentValue=ar.current,H(ar)}function sr(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function rr(e,t,l,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var p=c.dependencies;if(p!==null){var T=c.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=c;for(var _=0;_<t.length;_++)if(C.context===t[_]){p.lanes|=l,C=p.alternate,C!==null&&(C.lanes|=l),sr(p.return,l,e),s||(T=null);break e}p=C.next}}else if(c.tag===18){if(T=c.return,T===null)throw Error(a(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),sr(T,l,e),T=null}else T=c.child;if(T!==null)T.return=c;else for(T=c;T!==null;){if(T===e){T=null;break}if(c=T.sibling,c!==null){c.return=T.return,T=c;break}T=T.return}c=T}}function vl(e,t,l,s){e=null;for(var c=t,p=!1;c!==null;){if(!p){if((c.flags&524288)!==0)p=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var T=c.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=c.type;qt(c.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(c===Ie.current){if(T=c.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Bo):e=[Bo])}c=c.return}e!==null&&rr(t,e,l,s),t.flags|=262144}function ma(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vi(e){Bi=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return ef(Bi,e)}function ha(e,t){return Bi===null&&Vi(e),ef(e,t)}function ef(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},bn===null){if(e===null)throw Error(a(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return l}var ny=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},iy=i.unstable_scheduleCallback,ly=i.unstable_NormalPriority,ot={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ur(){return{controller:new ny,data:new Map,refCount:0}}function fo(e){e.refCount--,e.refCount===0&&iy(ly,function(){e.controller.abort()})}var po=null,cr=0,Tl=0,Sl=null;function oy(e,t){if(po===null){var l=po=[];cr=0,Tl=pu(),Sl={status:"pending",value:void 0,then:function(s){l.push(s)}}}return cr++,t.then(tf,tf),t}function tf(){if(--cr===0&&po!==null){Sl!==null&&(Sl.status="fulfilled");var e=po;po=null,Tl=0,Sl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ay(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<l.length;c++)(0,l[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),s}var nf=k.S;k.S=function(e,t){Hd=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&oy(e,t),nf!==null&&nf(e,t)};var Hi=N(null);function fr(){var e=Hi.current;return e!==null?e:Pe.pooledCache}function ga(e,t){t===null?$(Hi,Hi.current):$(Hi,t.pool)}function lf(){var e=fr();return e===null?null:{parent:ot._currentValue,pool:e}}var El=Error(a(460)),dr=Error(a(474)),ya=Error(a(542)),va={then:function(){}};function of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function af(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Nn,Nn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e;default:if(typeof t.status=="string")t.then(Nn,Nn);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e}throw Pi=t,El}}function zi(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pi=l,El):l}}var Pi=null;function sf(){if(Pi===null)throw Error(a(459));var e=Pi;return Pi=null,e}function rf(e){if(e===El||e===ya)throw Error(a(483))}var Cl=null,mo=0;function Ta(e){var t=mo;return mo+=1,Cl===null&&(Cl=[]),af(Cl,e,t)}function ho(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sa(e,t){throw t.$$typeof===A?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uf(e){function t(M,x){if(e){var w=M.deletions;w===null?(M.deletions=[x],M.flags|=16):w.push(x)}}function l(M,x){if(!e)return null;for(;x!==null;)t(M,x),x=x.sibling;return null}function s(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function c(M,x){return M=Mn(M,x),M.index=0,M.sibling=null,M}function p(M,x,w){return M.index=w,e?(w=M.alternate,w!==null?(w=w.index,w<x?(M.flags|=67108866,x):w):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function T(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function C(M,x,w,B){return x===null||x.tag!==6?(x=er(w,M.mode,B),x.return=M,x):(x=c(x,w),x.return=M,x)}function _(M,x,w,B){var fe=w.type;return fe===G?L(M,x,w.props.children,B,w.key):x!==null&&(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&zi(fe)===x.type)?(x=c(x,w.props),ho(x,w),x.return=M,x):(x=da(w.type,w.key,w.props,null,M.mode,B),ho(x,w),x.return=M,x)}function b(M,x,w,B){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=tr(w,M.mode,B),x.return=M,x):(x=c(x,w.children||[]),x.return=M,x)}function L(M,x,w,B,fe){return x===null||x.tag!==7?(x=Li(w,M.mode,B,fe),x.return=M,x):(x=c(x,w),x.return=M,x)}function P(M,x,w){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=er(""+x,M.mode,w),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case R:return w=da(x.type,x.key,x.props,null,M.mode,w),ho(w,x),w.return=M,w;case q:return x=tr(x,M.mode,w),x.return=M,x;case he:return x=zi(x),P(M,x,w)}if(it(x)||me(x))return x=Li(x,M.mode,w,null),x.return=M,x;if(typeof x.then=="function")return P(M,Ta(x),w);if(x.$$typeof===Q)return P(M,ha(M,x),w);Sa(M,x)}return null}function I(M,x,w,B){var fe=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return fe!==null?null:C(M,x,""+w,B);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case R:return w.key===fe?_(M,x,w,B):null;case q:return w.key===fe?b(M,x,w,B):null;case he:return w=zi(w),I(M,x,w,B)}if(it(w)||me(w))return fe!==null?null:L(M,x,w,B,null);if(typeof w.then=="function")return I(M,x,Ta(w),B);if(w.$$typeof===Q)return I(M,x,ha(M,w),B);Sa(M,w)}return null}function D(M,x,w,B,fe){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return M=M.get(w)||null,C(x,M,""+B,fe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return M=M.get(B.key===null?w:B.key)||null,_(x,M,B,fe);case q:return M=M.get(B.key===null?w:B.key)||null,b(x,M,B,fe);case he:return B=zi(B),D(M,x,w,B,fe)}if(it(B)||me(B))return M=M.get(w)||null,L(x,M,B,fe,null);if(typeof B.then=="function")return D(M,x,w,Ta(B),fe);if(B.$$typeof===Q)return D(M,x,w,ha(x,B),fe);Sa(x,B)}return null}function le(M,x,w,B){for(var fe=null,De=null,re=x,Ee=x=0,Ne=null;re!==null&&Ee<w.length;Ee++){re.index>Ee?(Ne=re,re=null):Ne=re.sibling;var ke=I(M,re,w[Ee],B);if(ke===null){re===null&&(re=Ne);break}e&&re&&ke.alternate===null&&t(M,re),x=p(ke,x,Ee),De===null?fe=ke:De.sibling=ke,De=ke,re=Ne}if(Ee===w.length)return l(M,re),we&&wn(M,Ee),fe;if(re===null){for(;Ee<w.length;Ee++)re=P(M,w[Ee],B),re!==null&&(x=p(re,x,Ee),De===null?fe=re:De.sibling=re,De=re);return we&&wn(M,Ee),fe}for(re=s(re);Ee<w.length;Ee++)Ne=D(re,M,Ee,w[Ee],B),Ne!==null&&(e&&Ne.alternate!==null&&re.delete(Ne.key===null?Ee:Ne.key),x=p(Ne,x,Ee),De===null?fe=Ne:De.sibling=Ne,De=Ne);return e&&re.forEach(function(vi){return t(M,vi)}),we&&wn(M,Ee),fe}function pe(M,x,w,B){if(w==null)throw Error(a(151));for(var fe=null,De=null,re=x,Ee=x=0,Ne=null,ke=w.next();re!==null&&!ke.done;Ee++,ke=w.next()){re.index>Ee?(Ne=re,re=null):Ne=re.sibling;var vi=I(M,re,ke.value,B);if(vi===null){re===null&&(re=Ne);break}e&&re&&vi.alternate===null&&t(M,re),x=p(vi,x,Ee),De===null?fe=vi:De.sibling=vi,De=vi,re=Ne}if(ke.done)return l(M,re),we&&wn(M,Ee),fe;if(re===null){for(;!ke.done;Ee++,ke=w.next())ke=P(M,ke.value,B),ke!==null&&(x=p(ke,x,Ee),De===null?fe=ke:De.sibling=ke,De=ke);return we&&wn(M,Ee),fe}for(re=s(re);!ke.done;Ee++,ke=w.next())ke=D(re,M,Ee,ke.value,B),ke!==null&&(e&&ke.alternate!==null&&re.delete(ke.key===null?Ee:ke.key),x=p(ke,x,Ee),De===null?fe=ke:De.sibling=ke,De=ke);return e&&re.forEach(function(yv){return t(M,yv)}),we&&wn(M,Ee),fe}function He(M,x,w,B){if(typeof w=="object"&&w!==null&&w.type===G&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case R:e:{for(var fe=w.key;x!==null;){if(x.key===fe){if(fe=w.type,fe===G){if(x.tag===7){l(M,x.sibling),B=c(x,w.props.children),B.return=M,M=B;break e}}else if(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&zi(fe)===x.type){l(M,x.sibling),B=c(x,w.props),ho(B,w),B.return=M,M=B;break e}l(M,x);break}else t(M,x);x=x.sibling}w.type===G?(B=Li(w.props.children,M.mode,B,w.key),B.return=M,M=B):(B=da(w.type,w.key,w.props,null,M.mode,B),ho(B,w),B.return=M,M=B)}return T(M);case q:e:{for(fe=w.key;x!==null;){if(x.key===fe)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){l(M,x.sibling),B=c(x,w.children||[]),B.return=M,M=B;break e}else{l(M,x);break}else t(M,x);x=x.sibling}B=tr(w,M.mode,B),B.return=M,M=B}return T(M);case he:return w=zi(w),He(M,x,w,B)}if(it(w))return le(M,x,w,B);if(me(w)){if(fe=me(w),typeof fe!="function")throw Error(a(150));return w=fe.call(w),pe(M,x,w,B)}if(typeof w.then=="function")return He(M,x,Ta(w),B);if(w.$$typeof===Q)return He(M,x,ha(M,w),B);Sa(M,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,x!==null&&x.tag===6?(l(M,x.sibling),B=c(x,w),B.return=M,M=B):(l(M,x),B=er(w,M.mode,B),B.return=M,M=B),T(M)):l(M,x)}return function(M,x,w,B){try{mo=0;var fe=He(M,x,w,B);return Cl=null,fe}catch(re){if(re===El||re===ya)throw re;var De=Bt(29,re,null,M.mode);return De.lanes=B,De.return=M,De}finally{}}}var Oi=uf(!0),cf=uf(!1),ti=!1;function pr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=fa(e),Fc(e,null,l),t}return ca(e,s,t,l),fa(e)}function go(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,tl(e,l)}}function hr(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var c=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?c=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?c=p=t:p=p.next=t}else c=p=t;l={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var gr=!1;function yo(){if(gr){var e=Sl;if(e!==null)throw e}}function vo(e,t,l,s){gr=!1;var c=e.updateQueue;ti=!1;var p=c.firstBaseUpdate,T=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var _=C,b=_.next;_.next=null,T===null?p=b:T.next=b,T=_;var L=e.alternate;L!==null&&(L=L.updateQueue,C=L.lastBaseUpdate,C!==T&&(C===null?L.firstBaseUpdate=b:C.next=b,L.lastBaseUpdate=_))}if(p!==null){var P=c.baseState;T=0,L=b=_=null,C=p;do{var I=C.lane&-536870913,D=I!==C.lane;if(D?(xe&I)===I:(s&I)===I){I!==0&&I===Tl&&(gr=!0),L!==null&&(L=L.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var le=e,pe=C;I=t;var He=l;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){P=le.call(He,P,I);break e}P=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,I=typeof le=="function"?le.call(He,P,I):le,I==null)break e;P=E({},P,I);break e;case 2:ti=!0}}I=C.callback,I!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[I]:D.push(I))}else D={lane:I,tag:C.tag,payload:C.payload,callback:C.callback,next:null},L===null?(b=L=D,_=P):L=L.next=D,T|=I;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;D=C,C=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);L===null&&(_=P),c.baseState=_,c.firstBaseUpdate=b,c.lastBaseUpdate=L,p===null&&(c.shared.lanes=0),ri|=T,e.lanes=T,e.memoizedState=P}}function ff(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function df(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ff(l[e],t)}var Al=N(null),Ea=N(0);function pf(e,t){e=Hn,$(Ea,e),$(Al,t),Hn=e|t.baseLanes}function yr(){$(Ea,Hn),$(Al,Al.current)}function vr(){Hn=Ea.current,H(Al),H(Ea)}var Vt=N(null),$t=null;function li(e){var t=e.alternate;$(tt,tt.current&1),$(Vt,e),$t===null&&(t===null||Al.current!==null||t.memoizedState!==null)&&($t=e)}function Tr(e){$(tt,tt.current),$(Vt,e),$t===null&&($t=e)}function mf(e){e.tag===22?($(tt,tt.current),$(Vt,e),$t===null&&($t=e)):oi()}function oi(){$(tt,tt.current),$(Vt,Vt.current)}function Ht(e){H(Vt),$t===e&&($t=null),H(tt)}var tt=N(0);function Ca(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||xu(l)||Nu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=0,Te=null,Be=null,at=null,Aa=!1,_l=!1,Ji=!1,_a=0,To=0,xl=null,sy=0;function Ze(){throw Error(a(321))}function Sr(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!qt(e[l],t[l]))return!1;return!0}function Er(e,t,l,s,c,p){return Dn=p,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Wf:Lr,Ji=!1,p=l(s,c),Ji=!1,_l&&(p=gf(t,l,s,c)),hf(e),p}function hf(e){k.H=Co;var t=Be!==null&&Be.next!==null;if(Dn=0,at=Be=Te=null,Aa=!1,To=0,xl=null,t)throw Error(a(300));e===null||st||(e=e.dependencies,e!==null&&ma(e)&&(st=!0))}function gf(e,t,l,s){Te=e;var c=0;do{if(_l&&(xl=null),To=0,_l=!1,25<=c)throw Error(a(301));if(c+=1,at=Be=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=$f,p=t(l,s)}while(_l);return p}function ry(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?So(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(Te.flags|=1024),t}function Cr(){var e=_a!==0;return _a=0,e}function Ar(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function _r(e){if(Aa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Aa=!1}Dn=0,at=Be=Te=null,_l=!1,To=_a=0,xl=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Te.memoizedState=at=e:at=at.next=e,at}function nt(){if(Be===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=at===null?Te.memoizedState:at.next;if(t!==null)at=t,Be=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},at===null?Te.memoizedState=at=e:at=at.next=e}return at}function xa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(e){var t=To;return To+=1,xl===null&&(xl=[]),e=af(xl,e,t),t=Te,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Wf:Lr),e}function Na(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return So(e);if(e.$$typeof===Q)return gt(e)}throw Error(a(438,String(e)))}function xr(e){var t=null,l=Te.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=Te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=xa(),Te.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=ce;return t.index++,l}function kn(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=nt();return Nr(t,Be,e)}function Nr(e,t,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var c=e.baseQueue,p=s.pending;if(p!==null){if(c!==null){var T=c.next;c.next=p.next,p.next=T}t.baseQueue=c=p,s.pending=null}if(p=e.baseState,c===null)e.memoizedState=p;else{t=c.next;var C=T=null,_=null,b=t,L=!1;do{var P=b.lane&-536870913;if(P!==b.lane?(xe&P)===P:(Dn&P)===P){var I=b.revertLane;if(I===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),P===Tl&&(L=!0);else if((Dn&I)===I){b=b.next,I===Tl&&(L=!0);continue}else P={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},_===null?(C=_=P,T=p):_=_.next=P,Te.lanes|=I,ri|=I;P=b.action,Ji&&l(p,P),p=b.hasEagerState?b.eagerState:l(p,P)}else I={lane:P,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},_===null?(C=_=I,T=p):_=_.next=I,Te.lanes|=P,ri|=P;b=b.next}while(b!==null&&b!==t);if(_===null?T=p:_.next=C,!qt(p,e.memoizedState)&&(st=!0,L&&(l=Sl,l!==null)))throw l;e.memoizedState=p,e.baseState=T,e.baseQueue=_,s.lastRenderedState=p}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Rr(e){var t=nt(),l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,c=l.pending,p=t.memoizedState;if(c!==null){l.pending=null;var T=c=c.next;do p=e(p,T.action),T=T.next;while(T!==c);qt(p,t.memoizedState)||(st=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),l.lastRenderedState=p}return[p,s]}function yf(e,t,l){var s=Te,c=nt(),p=we;if(p){if(l===void 0)throw Error(a(407));l=l()}else l=t();var T=!qt((Be||c).memoizedState,l);if(T&&(c.memoizedState=l,st=!0),c=c.queue,br(Sf.bind(null,s,c,e),[e]),c.getSnapshot!==t||T||at!==null&&at.memoizedState.tag&1){if(s.flags|=2048,Nl(9,{destroy:void 0},Tf.bind(null,s,c,l,t),null),Pe===null)throw Error(a(349));p||(Dn&127)!==0||vf(s,t,l)}return l}function vf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Te.updateQueue,t===null?(t=xa(),Te.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Tf(e,t,l,s){t.value=l,t.getSnapshot=s,Ef(t)&&Cf(e)}function Sf(e,t,l){return l(function(){Ef(t)&&Cf(e)})}function Ef(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!qt(e,l)}catch{return!0}}function Cf(e){var t=Gi(e,2);t!==null&&Lt(t,e,2)}function Mr(e){var t=xt();if(typeof e=="function"){var l=e;if(e=l(),Ji){Jt(!0);try{l()}finally{Jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},t}function Af(e,t,l,s){return e.baseState=l,Nr(e,Be,typeof s=="function"?s:kn)}function uy(e,t,l,s,c){if(ba(e))throw Error(a(485));if(e=t.action,e!==null){var p={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};k.T!==null?l(!0):p.isTransition=!1,s(p),l=t.pending,l===null?(p.next=t.pending=p,_f(t,p)):(p.next=l.next,t.pending=l.next=p)}}function _f(e,t){var l=t.action,s=t.payload,c=e.state;if(t.isTransition){var p=k.T,T={};k.T=T;try{var C=l(c,s),_=k.S;_!==null&&_(T,C),xf(e,t,C)}catch(b){wr(e,t,b)}finally{p!==null&&T.types!==null&&(p.types=T.types),k.T=p}}else try{p=l(c,s),xf(e,t,p)}catch(b){wr(e,t,b)}}function xf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Nf(e,t,s)},function(s){return wr(e,t,s)}):Nf(e,t,l)}function Nf(e,t,l){t.status="fulfilled",t.value=l,Rf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,_f(e,l)))}function wr(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,Rf(t),t=t.next;while(t!==s)}e.action=null}function Rf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Mf(e,t){return t}function wf(e,t){if(we){var l=Pe.formState;if(l!==null){e:{var s=Te;if(we){if(Je){t:{for(var c=Je,p=Wt;c.nodeType!==8;){if(!p){c=null;break t}if(c=jt(c.nextSibling),c===null){c=null;break t}}p=c.data,c=p==="F!"||p==="F"?c:null}if(c){Je=jt(c.nextSibling),s=c.data==="F!";break e}}jn(s)}s=!1}s&&(t=l[0])}}return l=xt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:t},l.queue=s,l=Qf.bind(null,Te,s),s.dispatch=l,s=Mr(!1),p=Gr.bind(null,Te,!1,s.queue),s=xt(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,l=uy.bind(null,Te,c,p,l),c.dispatch=l,s.memoizedState=e,[t,l,!1]}function bf(e){var t=nt();return If(t,Be,e)}function If(e,t,l){if(t=Nr(e,t,Mf)[0],e=Ra(kn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=So(t)}catch(T){throw T===El?ya:T}else s=t;t=nt();var c=t.queue,p=c.dispatch;return l!==t.memoizedState&&(Te.flags|=2048,Nl(9,{destroy:void 0},cy.bind(null,c,l),null)),[s,p,e]}function cy(e,t){e.action=t}function Df(e){var t=nt(),l=Be;if(l!==null)return If(t,l,e);nt(),t=t.memoizedState,l=nt();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function Nl(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=Te.updateQueue,t===null&&(t=xa(),Te.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function kf(){return nt().memoizedState}function Ma(e,t,l,s){var c=xt();Te.flags|=e,c.memoizedState=Nl(1|t,{destroy:void 0},l,s===void 0?null:s)}function wa(e,t,l,s){var c=nt();s=s===void 0?null:s;var p=c.memoizedState.inst;Be!==null&&s!==null&&Sr(s,Be.memoizedState.deps)?c.memoizedState=Nl(t,p,l,s):(Te.flags|=e,c.memoizedState=Nl(1|t,p,l,s))}function Uf(e,t){Ma(8390656,8,e,t)}function br(e,t){wa(2048,8,e,t)}function fy(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=xa(),Te.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Gf(e){var t=nt().memoizedState;return fy({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Lf(e,t){return wa(4,2,e,t)}function qf(e,t){return wa(4,4,e,t)}function Bf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,l){l=l!=null?l.concat([e]):null,wa(4,4,Bf.bind(null,t,e),l)}function Ir(){}function Hf(e,t){var l=nt();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&Sr(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function zf(e,t){var l=nt();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&Sr(t,s[1]))return s[0];if(s=e(),Ji){Jt(!0);try{e()}finally{Jt(!1)}}return l.memoizedState=[s,t],s}function Dr(e,t,l){return l===void 0||(Dn&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Pd(),Te.lanes|=e,ri|=e,l)}function Pf(e,t,l,s){return qt(l,t)?l:Al.current!==null?(e=Dr(e,l,s),qt(e,t)||(st=!0),e):(Dn&42)===0||(Dn&1073741824)!==0&&(xe&261930)===0?(st=!0,e.memoizedState=l):(e=Pd(),Te.lanes|=e,ri|=e,t)}function Of(e,t,l,s,c){var p=Z.p;Z.p=p!==0&&8>p?p:8;var T=k.T,C={};k.T=C,Gr(e,!1,t,l);try{var _=c(),b=k.S;if(b!==null&&b(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var L=ay(_,s);Eo(e,t,L,Ot(e))}else Eo(e,t,s,Ot(e))}catch(P){Eo(e,t,{then:function(){},status:"rejected",reason:P},Ot())}finally{Z.p=p,T!==null&&C.types!==null&&(T.types=C.types),k.T=T}}function dy(){}function kr(e,t,l,s){if(e.tag!==5)throw Error(a(476));var c=Jf(e).queue;Of(e,c,t,de,l===null?dy:function(){return Yf(e),l(s)})}function Jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:de},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yf(e){var t=Jf(e);t.next===null&&(t=e.alternate.memoizedState),Eo(e,t.next.queue,{},Ot())}function Ur(){return gt(Bo)}function Ff(){return nt().memoizedState}function Kf(){return nt().memoizedState}function py(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Ot();e=ni(l);var s=ii(t,e,l);s!==null&&(Lt(s,t,l),go(s,t,l)),t={cache:ur()},e.payload=t;return}t=t.return}}function my(e,t,l){var s=Ot();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ba(e)?Xf(t,l):(l=$s(e,t,l,s),l!==null&&(Lt(l,e,s),Zf(l,t,s)))}function Qf(e,t,l){var s=Ot();Eo(e,t,l,s)}function Eo(e,t,l,s){var c={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ba(e))Xf(t,c);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var T=t.lastRenderedState,C=p(T,l);if(c.hasEagerState=!0,c.eagerState=C,qt(C,T))return ca(e,t,c,0),Pe===null&&ua(),!1}catch{}finally{}if(l=$s(e,t,c,s),l!==null)return Lt(l,e,s),Zf(l,t,s),!0}return!1}function Gr(e,t,l,s){if(s={lane:2,revertLane:pu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ba(e)){if(t)throw Error(a(479))}else t=$s(e,l,s,2),t!==null&&Lt(t,e,2)}function ba(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Xf(e,t){_l=Aa=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Zf(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,tl(e,l)}}var Co={readContext:gt,use:Na,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Co.useEffectEvent=Ze;var Wf={readContext:gt,use:Na,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Uf,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Ma(4194308,4,Bf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){Ma(4,2,e,t)},useMemo:function(e,t){var l=xt();t=t===void 0?null:t;var s=e();if(Ji){Jt(!0);try{e()}finally{Jt(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=xt();if(l!==void 0){var c=l(t);if(Ji){Jt(!0);try{l(t)}finally{Jt(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=my.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Mr(e);var t=e.queue,l=Qf.bind(null,Te,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Ir,useDeferredValue:function(e,t){var l=xt();return Dr(l,e,t)},useTransition:function(){var e=Mr(!1);return e=Of.bind(null,Te,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=Te,c=xt();if(we){if(l===void 0)throw Error(a(407));l=l()}else{if(l=t(),Pe===null)throw Error(a(349));(xe&127)!==0||vf(s,t,l)}c.memoizedState=l;var p={value:l,getSnapshot:t};return c.queue=p,Uf(Sf.bind(null,s,p,e),[e]),s.flags|=2048,Nl(9,{destroy:void 0},Tf.bind(null,s,p,l,t),null),l},useId:function(){var e=xt(),t=Pe.identifierPrefix;if(we){var l=yn,s=gn;l=(s&~(1<<32-Tt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=_a++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=sy++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ur,useFormState:wf,useActionState:wf,useOptimistic:function(e){var t=xt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Gr.bind(null,Te,!0,l),l.dispatch=t,[e,t]},useMemoCache:xr,useCacheRefresh:function(){return xt().memoizedState=py.bind(null,Te)},useEffectEvent:function(e){var t=xt(),l={impl:e};return t.memoizedState=l,function(){if((Ge&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Lr={readContext:gt,use:Na,useCallback:Hf,useContext:gt,useEffect:br,useImperativeHandle:Vf,useInsertionEffect:Lf,useLayoutEffect:qf,useMemo:zf,useReducer:Ra,useRef:kf,useState:function(){return Ra(kn)},useDebugValue:Ir,useDeferredValue:function(e,t){var l=nt();return Pf(l,Be.memoizedState,e,t)},useTransition:function(){var e=Ra(kn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:So(e),t]},useSyncExternalStore:yf,useId:Ff,useHostTransitionStatus:Ur,useFormState:bf,useActionState:bf,useOptimistic:function(e,t){var l=nt();return Af(l,Be,e,t)},useMemoCache:xr,useCacheRefresh:Kf};Lr.useEffectEvent=Gf;var $f={readContext:gt,use:Na,useCallback:Hf,useContext:gt,useEffect:br,useImperativeHandle:Vf,useInsertionEffect:Lf,useLayoutEffect:qf,useMemo:zf,useReducer:Rr,useRef:kf,useState:function(){return Rr(kn)},useDebugValue:Ir,useDeferredValue:function(e,t){var l=nt();return Be===null?Dr(l,e,t):Pf(l,Be.memoizedState,e,t)},useTransition:function(){var e=Rr(kn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:So(e),t]},useSyncExternalStore:yf,useId:Ff,useHostTransitionStatus:Ur,useFormState:Df,useActionState:Df,useOptimistic:function(e,t){var l=nt();return Be!==null?Af(l,Be,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:xr,useCacheRefresh:Kf};$f.useEffectEvent=Gf;function qr(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:E({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Br={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Ot(),c=ni(s);c.payload=t,l!=null&&(c.callback=l),t=ii(e,c,s),t!==null&&(Lt(t,e,s),go(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Ot(),c=ni(s);c.tag=1,c.payload=t,l!=null&&(c.callback=l),t=ii(e,c,s),t!==null&&(Lt(t,e,s),go(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Ot(),s=ni(l);s.tag=2,t!=null&&(s.callback=t),t=ii(e,s,l),t!==null&&(Lt(t,e,l),go(t,e,l))}};function jf(e,t,l,s,c,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,T):t.prototype&&t.prototype.isPureReactComponent?!so(l,s)||!so(c,p):!0}function ed(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&Br.enqueueReplaceState(t,t.state,null)}function Yi(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=E({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function td(e){ra(e)}function nd(e){console.error(e)}function id(e){ra(e)}function Ia(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function ld(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vr(e,t,l){return l=ni(l),l.tag=3,l.payload={element:null},l.callback=function(){Ia(e,t)},l}function od(e){return e=ni(e),e.tag=3,e}function ad(e,t,l,s){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var p=s.value;e.payload=function(){return c(p)},e.callback=function(){ld(t,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){ld(t,l,s),typeof c!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function hy(e,t,l,s,c){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&vl(t,l,c,!0),l=Vt.current,l!==null){switch(l.tag){case 31:case 13:return $t===null?Oa():l.alternate===null&&We===0&&(We=3),l.flags&=-257,l.flags|=65536,l.lanes=c,s===va?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),cu(e,s,c)),!1;case 22:return l.flags|=65536,s===va?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),cu(e,s,c)),!1}throw Error(a(435,l.tag))}return cu(e,s,c),Oa(),!1}if(we)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==lr&&(e=Error(a(422),{cause:s}),co(Qt(e,l)))):(s!==lr&&(t=Error(a(423),{cause:s}),co(Qt(t,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Qt(s,l),c=Vr(e.stateNode,s,c),hr(e,c),We!==4&&(We=2)),!1;var p=Error(a(520),{cause:s});if(p=Qt(p,l),bo===null?bo=[p]:bo.push(p),We!==4&&(We=2),t===null)return!0;s=Qt(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=Vr(l.stateNode,s,e),hr(l,e),!1;case 1:if(t=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ui===null||!ui.has(p))))return l.flags|=65536,c&=-c,l.lanes|=c,c=od(c),ad(c,e,l,s),hr(l,c),!1}l=l.return}while(l!==null);return!1}var Hr=Error(a(461)),st=!1;function yt(e,t,l,s){t.child=e===null?cf(t,null,l,s):Oi(t,e.child,l,s)}function sd(e,t,l,s,c){l=l.render;var p=t.ref;if("ref"in s){var T={};for(var C in s)C!=="ref"&&(T[C]=s[C])}else T=s;return Vi(t),s=Er(e,t,l,T,p,c),C=Cr(),e!==null&&!st?(Ar(e,t,c),Un(e,t,c)):(we&&C&&nr(t),t.flags|=1,yt(e,t,s,c),t.child)}function rd(e,t,l,s,c){if(e===null){var p=l.type;return typeof p=="function"&&!js(p)&&p.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=p,ud(e,t,p,s,c)):(e=da(l.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!Qr(e,c)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:so,l(T,s)&&e.ref===t.ref)return Un(e,t,c)}return t.flags|=1,e=Mn(p,s),e.ref=t.ref,e.return=t,t.child=e}function ud(e,t,l,s,c){if(e!==null){var p=e.memoizedProps;if(so(p,s)&&e.ref===t.ref)if(st=!1,t.pendingProps=s=p,Qr(e,c))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,Un(e,t,c)}return zr(e,t,l,s,c)}function cd(e,t,l,s){var c=s.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~p}else s=0,t.child=null;return fd(e,t,p,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ga(t,p!==null?p.cachePool:null),p!==null?pf(t,p):yr(),mf(t);else return s=t.lanes=536870912,fd(e,t,p!==null?p.baseLanes|l:l,l,s)}else p!==null?(ga(t,p.cachePool),pf(t,p),oi(),t.memoizedState=null):(e!==null&&ga(t,null),yr(),oi());return yt(e,t,c,l),t.child}function Ao(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fd(e,t,l,s,c){var p=fr();return p=p===null?null:{parent:ot._currentValue,pool:p},t.memoizedState={baseLanes:l,cachePool:p},e!==null&&ga(t,null),yr(),mf(t),e!==null&&vl(e,t,s,!0),t.childLanes=c,null}function Da(e,t){return t=Ua({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function dd(e,t,l){return Oi(t,e.child,null,l),e=Da(t,t.pendingProps),e.flags|=2,Ht(t),t.memoizedState=null,e}function gy(e,t,l){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(s.mode==="hidden")return e=Da(t,s),t.lanes=536870912,Ao(null,e);if(Tr(t),(e=Je)?(e=_p(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Qc(e),l.return=t,t.child=l,ht=t,Je=null)):e=null,e===null)throw jn(t);return t.lanes=536870912,null}return Da(t,s)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(Tr(t),c)if(t.flags&256)t.flags&=-257,t=dd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(st||vl(e,t,l,!1),c=(l&e.childLanes)!==0,st||c){if(s=Pe,s!==null&&(T=nl(s,l),T!==0&&T!==p.retryLane))throw p.retryLane=T,Gi(e,T),Lt(s,e,T),Hr;Oa(),t=dd(e,t,l)}else e=p.treeContext,Je=jt(T.nextSibling),ht=t,we=!0,$n=null,Wt=!1,e!==null&&Wc(t,e),t=Da(t,s),t.flags|=4096;return t}return e=Mn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ka(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function zr(e,t,l,s,c){return Vi(t),l=Er(e,t,l,s,void 0,c),s=Cr(),e!==null&&!st?(Ar(e,t,c),Un(e,t,c)):(we&&s&&nr(t),t.flags|=1,yt(e,t,l,c),t.child)}function pd(e,t,l,s,c,p){return Vi(t),t.updateQueue=null,l=gf(t,s,l,c),hf(e),s=Cr(),e!==null&&!st?(Ar(e,t,p),Un(e,t,p)):(we&&s&&nr(t),t.flags|=1,yt(e,t,l,p),t.child)}function md(e,t,l,s,c){if(Vi(t),t.stateNode===null){var p=ml,T=l.contextType;typeof T=="object"&&T!==null&&(p=gt(T)),p=new l(s,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Br,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=s,p.state=t.memoizedState,p.refs={},pr(t),T=l.contextType,p.context=typeof T=="object"&&T!==null?gt(T):ml,p.state=t.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(qr(t,l,T,s),p.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Br.enqueueReplaceState(p,p.state,null),vo(t,s,p,c),yo(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){p=t.stateNode;var C=t.memoizedProps,_=Yi(l,C);p.props=_;var b=p.context,L=l.contextType;T=ml,typeof L=="object"&&L!==null&&(T=gt(L));var P=l.getDerivedStateFromProps;L=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||b!==T)&&ed(t,p,s,T),ti=!1;var I=t.memoizedState;p.state=I,vo(t,s,p,c),yo(),b=t.memoizedState,C||I!==b||ti?(typeof P=="function"&&(qr(t,l,P,s),b=t.memoizedState),(_=ti||jf(t,l,_,s,I,b,T))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=b),p.props=s,p.state=b,p.context=T,s=_):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,mr(e,t),T=t.memoizedProps,L=Yi(l,T),p.props=L,P=t.pendingProps,I=p.context,b=l.contextType,_=ml,typeof b=="object"&&b!==null&&(_=gt(b)),C=l.getDerivedStateFromProps,(b=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==P||I!==_)&&ed(t,p,s,_),ti=!1,I=t.memoizedState,p.state=I,vo(t,s,p,c),yo();var D=t.memoizedState;T!==P||I!==D||ti||e!==null&&e.dependencies!==null&&ma(e.dependencies)?(typeof C=="function"&&(qr(t,l,C,s),D=t.memoizedState),(L=ti||jf(t,l,L,s,I,D,_)||e!==null&&e.dependencies!==null&&ma(e.dependencies))?(b||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,D,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,D,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),p.props=s,p.state=D,p.context=_,s=L):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),s=!1)}return p=s,ka(e,t),s=(t.flags&128)!==0,p||s?(p=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&s?(t.child=Oi(t,e.child,null,c),t.child=Oi(t,null,l,c)):yt(e,t,l,c),t.memoizedState=p.state,e=t.child):e=Un(e,t,c),e}function hd(e,t,l,s){return qi(),t.flags|=256,yt(e,t,l,s),t.child}var Pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Or(e){return{baseLanes:e,cachePool:lf()}}function Jr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Pt),e}function gd(e,t,l){var s=t.pendingProps,c=!1,p=(t.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),T&&(c=!0,t.flags&=-129),T=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(c?li(t):oi(),(e=Je)?(e=_p(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Qc(e),l.return=t,t.child=l,ht=t,Je=null)):e=null,e===null)throw jn(t);return Nu(e)?t.lanes=32:t.lanes=536870912,null}var C=s.children;return s=s.fallback,c?(oi(),c=t.mode,C=Ua({mode:"hidden",children:C},c),s=Li(s,c,l,null),C.return=t,s.return=t,C.sibling=s,t.child=C,s=t.child,s.memoizedState=Or(l),s.childLanes=Jr(e,T,l),t.memoizedState=Pr,Ao(null,s)):(li(t),Yr(t,C))}var _=e.memoizedState;if(_!==null&&(C=_.dehydrated,C!==null)){if(p)t.flags&256?(li(t),t.flags&=-257,t=Fr(e,t,l)):t.memoizedState!==null?(oi(),t.child=e.child,t.flags|=128,t=null):(oi(),C=s.fallback,c=t.mode,s=Ua({mode:"visible",children:s.children},c),C=Li(C,c,l,null),C.flags|=2,s.return=t,C.return=t,s.sibling=C,t.child=s,Oi(t,e.child,null,l),s=t.child,s.memoizedState=Or(l),s.childLanes=Jr(e,T,l),t.memoizedState=Pr,t=Ao(null,s));else if(li(t),Nu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var b=T.dgst;T=b,s=Error(a(419)),s.stack="",s.digest=T,co({value:s,source:null,stack:null}),t=Fr(e,t,l)}else if(st||vl(e,t,l,!1),T=(l&e.childLanes)!==0,st||T){if(T=Pe,T!==null&&(s=nl(T,l),s!==0&&s!==_.retryLane))throw _.retryLane=s,Gi(e,s),Lt(T,e,s),Hr;xu(C)||Oa(),t=Fr(e,t,l)}else xu(C)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Je=jt(C.nextSibling),ht=t,we=!0,$n=null,Wt=!1,e!==null&&Wc(t,e),t=Yr(t,s.children),t.flags|=4096);return t}return c?(oi(),C=s.fallback,c=t.mode,_=e.child,b=_.sibling,s=Mn(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,b!==null?C=Mn(b,C):(C=Li(C,c,l,null),C.flags|=2),C.return=t,s.return=t,s.sibling=C,t.child=s,Ao(null,s),s=t.child,C=e.child.memoizedState,C===null?C=Or(l):(c=C.cachePool,c!==null?(_=ot._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=lf(),C={baseLanes:C.baseLanes|l,cachePool:c}),s.memoizedState=C,s.childLanes=Jr(e,T,l),t.memoizedState=Pr,Ao(e.child,s)):(li(t),l=e.child,e=l.sibling,l=Mn(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(T=t.deletions,T===null?(t.deletions=[e],t.flags|=16):T.push(e)),t.child=l,t.memoizedState=null,l)}function Yr(e,t){return t=Ua({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ua(e,t){return e=Bt(22,e,null,t),e.lanes=0,e}function Fr(e,t,l){return Oi(t,e.child,null,l),e=Yr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yd(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),sr(e.return,t,l)}function Kr(e,t,l,s,c,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:c,treeForkCount:p}:(T.isBackwards=t,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=c,T.treeForkCount=p)}function vd(e,t,l){var s=t.pendingProps,c=s.revealOrder,p=s.tail;s=s.children;var T=tt.current,C=(T&2)!==0;if(C?(T=T&1|2,t.flags|=128):T&=1,$(tt,T),yt(e,t,s,l),s=we?uo:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,l,t);else if(e.tag===19)yd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=t.child,c=null;l!==null;)e=l.alternate,e!==null&&Ca(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=t.child,t.child=null):(c=l.sibling,l.sibling=null),Kr(t,!1,c,l,p,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ca(e)===null){t.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Kr(t,!0,l,null,p,s);break;case"together":Kr(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Un(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(vl(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,l=Mn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Mn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Qr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ma(e)))}function yy(e,t,l){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),ei(t,ot,e.memoizedState.cache),qi();break;case 27:case 5:Yn(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:ei(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tr(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(li(t),t.flags|=128,null):(l&t.child.childLanes)!==0?gd(e,t,l):(li(t),e=Un(e,t,l),e!==null?e.sibling:null);li(t);break;case 19:var c=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(vl(e,t,l,!1),s=(l&t.childLanes)!==0),c){if(s)return vd(e,t,l);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(tt,tt.current),s)break;return null;case 22:return t.lanes=0,cd(e,t,l,t.pendingProps);case 24:ei(t,ot,e.memoizedState.cache)}return Un(e,t,l)}function Td(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Qr(e,l)&&(t.flags&128)===0)return st=!1,yy(e,t,l);st=(e.flags&131072)!==0}else st=!1,we&&(t.flags&1048576)!==0&&Zc(t,uo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=zi(t.elementType),t.type=e,typeof e=="function")js(e)?(s=Yi(e,s),t.tag=1,t=md(null,t,e,s,l)):(t.tag=0,t=zr(null,t,e,s,l));else{if(e!=null){var c=e.$$typeof;if(c===ne){t.tag=11,t=sd(null,t,e,s,l);break e}else if(c===Y){t.tag=14,t=rd(null,t,e,s,l);break e}}throw t=Xe(e)||e,Error(a(306,t,""))}}return t;case 0:return zr(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,c=Yi(s,t.pendingProps),md(e,t,s,c,l);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(a(387));s=t.pendingProps;var p=t.memoizedState;c=p.element,mr(e,t),vo(t,s,null,l);var T=t.memoizedState;if(s=T.cache,ei(t,ot,s),s!==p.cache&&rr(t,[ot],l,!0),yo(),s=T.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:T.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=hd(e,t,s,l);break e}else if(s!==c){c=Qt(Error(a(424)),t),co(c),t=hd(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=jt(e.firstChild),ht=t,we=!0,$n=null,Wt=!0,l=cf(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qi(),s===c){t=Un(e,t,l);break e}yt(e,t,s,l)}t=t.child}return t;case 26:return ka(e,t),e===null?(l=bp(t.type,null,t.pendingProps,null))?t.memoizedState=l:we||(l=t.type,e=t.pendingProps,s=Za(Se.current).createElement(l),s[et]=t,s[dt]=e,vt(s,l,e),lt(s),t.stateNode=s):t.memoizedState=bp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Yn(t),e===null&&we&&(s=t.stateNode=Rp(t.type,t.pendingProps,Se.current),ht=t,Wt=!0,c=Je,pi(t.type)?(Ru=c,Je=jt(s.firstChild)):Je=c),yt(e,t,t.pendingProps.children,l),ka(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((c=s=Je)&&(s=Ky(s,t.type,t.pendingProps,Wt),s!==null?(t.stateNode=s,ht=t,Je=jt(s.firstChild),Wt=!1,c=!0):c=!1),c||jn(t)),Yn(t),c=t.type,p=t.pendingProps,T=e!==null?e.memoizedProps:null,s=p.children,Cu(c,p)?s=null:T!==null&&Cu(c,T)&&(t.flags|=32),t.memoizedState!==null&&(c=Er(e,t,ry,null,null,l),Bo._currentValue=c),ka(e,t),yt(e,t,s,l),t.child;case 6:return e===null&&we&&((e=l=Je)&&(l=Qy(l,t.pendingProps,Wt),l!==null?(t.stateNode=l,ht=t,Je=null,e=!0):e=!1),e||jn(t)),null;case 13:return gd(e,t,l);case 4:return ct(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Oi(t,null,s,l):yt(e,t,s,l),t.child;case 11:return sd(e,t,t.type,t.pendingProps,l);case 7:return yt(e,t,t.pendingProps,l),t.child;case 8:return yt(e,t,t.pendingProps.children,l),t.child;case 12:return yt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,ei(t,t.type,s.value),yt(e,t,s.children,l),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,Vi(t),c=gt(c),s=s(c),t.flags|=1,yt(e,t,s,l),t.child;case 14:return rd(e,t,t.type,t.pendingProps,l);case 15:return ud(e,t,t.type,t.pendingProps,l);case 19:return vd(e,t,l);case 31:return gy(e,t,l);case 22:return cd(e,t,l,t.pendingProps);case 24:return Vi(t),s=gt(ot),e===null?(c=fr(),c===null&&(c=Pe,p=ur(),c.pooledCache=p,p.refCount++,p!==null&&(c.pooledCacheLanes|=l),c=p),t.memoizedState={parent:s,cache:c},pr(t),ei(t,ot,c)):((e.lanes&l)!==0&&(mr(e,t),vo(t,null,null,l),yo()),c=e.memoizedState,p=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ei(t,ot,s)):(s=p.cache,ei(t,ot,s),s!==c.cache&&rr(t,[ot],l,!0))),yt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Gn(e){e.flags|=4}function Xr(e,t,l,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Fd())e.flags|=8192;else throw Pi=va,dr}else e.flags&=-16777217}function Sd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gp(t))if(Fd())e.flags|=8192;else throw Pi=va,dr}function Ga(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rt():536870912,e.lanes|=t,bl|=t)}function _o(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function vy(e,t,l){var s=t.pendingProps;switch(ir(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),In(ot),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(yl(t)?Gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,or())),Ye(t),null;case 26:var c=t.type,p=t.memoizedState;return e===null?(Gn(t),p!==null?(Ye(t),Sd(t,p)):(Ye(t),Xr(t,c,null,s,l))):p?p!==e.memoizedState?(Gn(t),Ye(t),Sd(t,p)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Gn(t),Ye(t),Xr(t,c,e,s,l)),null;case 27:if(Zi(t),l=Se.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Gn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Ye(t),null}e=ie.current,yl(t)?$c(t):(e=Rp(c,s,l),t.stateNode=e,Gn(t))}return Ye(t),null;case 5:if(Zi(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Gn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Ye(t),null}if(p=ie.current,yl(t))$c(t);else{var T=Za(Se.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?T.createElement(c,{is:s.is}):T.createElement(c)}}p[et]=t,p[dt]=s;e:for(T=t.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}t.stateNode=p;e:switch(vt(p,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Gn(t)}}return Ye(t),Xr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Gn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(e=Se.current,yl(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,c=ht,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[et]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||gp(e.nodeValue,l)),e||jn(t,!0)}else e=Za(e).createTextNode(s),e[et]=t,t.stateNode=e}return Ye(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=yl(t),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[et]=t}else qi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else l=or(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ht(t),t):(Ht(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Ye(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=yl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[et]=t}else qi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),c=!1}else c=or(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Ht(t),t):(Ht(t),null)}return Ht(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ga(t,t.updateQueue),Ye(t),null);case 4:return ze(),e===null&&yu(t.stateNode.containerInfo),Ye(t),null;case 10:return In(t.type),Ye(t),null;case 19:if(H(tt),s=t.memoizedState,s===null)return Ye(t),null;if(c=(t.flags&128)!==0,p=s.rendering,p===null)if(c)_o(s,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Ca(e),p!==null){for(t.flags|=128,_o(s,!1),e=p.updateQueue,t.updateQueue=e,Ga(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Kc(l,e),l=l.sibling;return $(tt,tt.current&1|2),we&&wn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&mt()>Ha&&(t.flags|=128,c=!0,_o(s,!1),t.lanes=4194304)}else{if(!c)if(e=Ca(p),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ga(t,e),_o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!we)return Ye(t),null}else 2*mt()-s.renderingStartTime>Ha&&l!==536870912&&(t.flags|=128,c=!0,_o(s,!1),t.lanes=4194304);s.isBackwards?(p.sibling=t.child,t.child=p):(e=s.last,e!==null?e.sibling=p:t.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,l=tt.current,$(tt,c?l&1|2:l&1),we&&wn(t,s.treeForkCount),e):(Ye(t),null);case 22:case 23:return Ht(t),vr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),l=t.updateQueue,l!==null&&Ga(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&H(Hi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),In(ot),Ye(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function Ty(e,t){switch(ir(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(ot),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zi(t),null;case 31:if(t.memoizedState!==null){if(Ht(t),t.alternate===null)throw Error(a(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(tt),null;case 4:return ze(),null;case 10:return In(t.type),null;case 22:case 23:return Ht(t),vr(),e!==null&&H(Hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return In(ot),null;case 25:return null;default:return null}}function Ed(e,t){switch(ir(t),t.tag){case 3:In(ot),ze();break;case 26:case 27:case 5:Zi(t);break;case 4:ze();break;case 31:t.memoizedState!==null&&Ht(t);break;case 13:Ht(t);break;case 19:H(tt);break;case 10:In(t.type);break;case 22:case 23:Ht(t),vr(),e!==null&&H(Hi);break;case 24:In(ot)}}function xo(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var c=s.next;l=c;do{if((l.tag&e)===e){s=void 0;var p=l.create,T=l.inst;s=p(),T.destroy=s}l=l.next}while(l!==c)}}catch(C){qe(t,t.return,C)}}function ai(e,t,l){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&e)===e){var T=s.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,c=t;var _=l,b=C;try{b()}catch(L){qe(c,_,L)}}}s=s.next}while(s!==p)}}catch(L){qe(t,t.return,L)}}function Cd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{df(t,l)}catch(s){qe(e,e.return,s)}}}function Ad(e,t,l){l.props=Yi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){qe(e,t,s)}}function No(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(c){qe(e,t,c)}}function vn(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(c){qe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){qe(e,t,c)}else l.current=null}function _d(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(c){qe(e,e.return,c)}}function Zr(e,t,l){try{var s=e.stateNode;zy(s,e.type,l,t),s[dt]=t}catch(c){qe(e,e.return,c)}}function xd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pi(e.type)||e.tag===4}function Wr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $r(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Nn));else if(s!==4&&(s===27&&pi(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for($r(e,t,l),e=e.sibling;e!==null;)$r(e,t,l),e=e.sibling}function La(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&pi(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(La(e,t,l),e=e.sibling;e!==null;)La(e,t,l),e=e.sibling}function Nd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);vt(t,s,l),t[et]=e,t[dt]=l}catch(p){qe(e,e.return,p)}}var Ln=!1,rt=!1,jr=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Sy(e,t){if(e=e.containerInfo,Su=is,e=Bc(e),Fs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var c=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var T=0,C=-1,_=-1,b=0,L=0,P=e,I=null;t:for(;;){for(var D;P!==l||c!==0&&P.nodeType!==3||(C=T+c),P!==p||s!==0&&P.nodeType!==3||(_=T+s),P.nodeType===3&&(T+=P.nodeValue.length),(D=P.firstChild)!==null;)I=P,P=D;for(;;){if(P===e)break t;if(I===l&&++b===c&&(C=T),I===p&&++L===s&&(_=T),(D=P.nextSibling)!==null)break;P=I,I=P.parentNode}P=D}l=C===-1||_===-1?null:{start:C,end:_}}else l=null}l=l||{start:0,end:0}}else l=null;for(Eu={focusedElem:e,selectionRange:l},is=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=t,c=p.memoizedProps,p=p.memoizedState,s=l.stateNode;try{var le=Yi(l.type,c);e=s.getSnapshotBeforeUpdate(le,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(pe){qe(l,l.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)_u(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Md(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Bn(e,l),s&4&&xo(5,l);break;case 1:if(Bn(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(T){qe(l,l.return,T)}else{var c=Yi(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(T){qe(l,l.return,T)}}s&64&&Cd(l),s&512&&No(l,l.return);break;case 3:if(Bn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{df(e,t)}catch(T){qe(l,l.return,T)}}break;case 27:t===null&&s&4&&Nd(l);case 26:case 5:Bn(e,l),t===null&&s&4&&_d(l),s&512&&No(l,l.return);break;case 12:Bn(e,l);break;case 31:Bn(e,l),s&4&&Id(e,l);break;case 13:Bn(e,l),s&4&&Dd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=wy.bind(null,l),Xy(e,l))));break;case 22:if(s=l.memoizedState!==null||Ln,!s){t=t!==null&&t.memoizedState!==null||rt,c=Ln;var p=rt;Ln=s,(rt=t)&&!p?Vn(e,l,(l.subtreeFlags&8772)!==0):Bn(e,l),Ln=c,rt=p}break;case 30:break;default:Bn(e,l)}}function wd(e){var t=e.alternate;t!==null&&(e.alternate=null,wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Dt=!1;function qn(e,t,l){for(l=l.child;l!==null;)bd(e,t,l),l=l.sibling}function bd(e,t,l){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ai,l)}catch{}switch(l.tag){case 26:rt||vn(l,t),qn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rt||vn(l,t);var s=Qe,c=Dt;pi(l.type)&&(Qe=l.stateNode,Dt=!1),qn(e,t,l),Go(l.stateNode),Qe=s,Dt=c;break;case 5:rt||vn(l,t);case 6:if(s=Qe,c=Dt,Qe=null,qn(e,t,l),Qe=s,Dt=c,Qe!==null)if(Dt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(l.stateNode)}catch(p){qe(l,t,p)}else try{Qe.removeChild(l.stateNode)}catch(p){qe(l,t,p)}break;case 18:Qe!==null&&(Dt?(e=Qe,Cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Bl(e)):Cp(Qe,l.stateNode));break;case 4:s=Qe,c=Dt,Qe=l.stateNode.containerInfo,Dt=!0,qn(e,t,l),Qe=s,Dt=c;break;case 0:case 11:case 14:case 15:ai(2,l,t),rt||ai(4,l,t),qn(e,t,l);break;case 1:rt||(vn(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Ad(l,t,s)),qn(e,t,l);break;case 21:qn(e,t,l);break;case 22:rt=(s=rt)||l.memoizedState!==null,qn(e,t,l),rt=s;break;default:qn(e,t,l)}}function Id(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bl(e)}catch(l){qe(t,t.return,l)}}}function Dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bl(e)}catch(l){qe(t,t.return,l)}}function Ey(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rd),t;default:throw Error(a(435,e.tag))}}function qa(e,t){var l=Ey(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var c=by.bind(null,e,s);s.then(c,c)}})}function kt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var c=l[s],p=e,T=t,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(pi(C.type)){Qe=C.stateNode,Dt=!1;break e}break;case 5:Qe=C.stateNode,Dt=!1;break e;case 3:case 4:Qe=C.stateNode.containerInfo,Dt=!0;break e}C=C.return}if(Qe===null)throw Error(a(160));bd(p,T,c),Qe=null,Dt=!1,p=c.alternate,p!==null&&(p.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}var cn=null;function kd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kt(t,e),Ut(e),s&4&&(ai(3,e,e.return),xo(3,e),ai(5,e,e.return));break;case 1:kt(t,e),Ut(e),s&512&&(rt||l===null||vn(l,l.return)),s&64&&Ln&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var c=cn;if(kt(t,e),Ut(e),s&512&&(rt||l===null||vn(l,l.return)),s&4){var p=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":p=c.getElementsByTagName("title")[0],(!p||p[An]||p[et]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=c.createElement(s),c.head.insertBefore(p,c.querySelector("head > title"))),vt(p,s,l),p[et]=e,lt(p),s=p;break e;case"link":var T=kp("link","href",c).get(s+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}p=c.createElement(s),vt(p,s,l),c.head.appendChild(p);break;case"meta":if(T=kp("meta","content",c).get(s+(l.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}p=c.createElement(s),vt(p,s,l),c.head.appendChild(p);break;default:throw Error(a(468,s))}p[et]=e,lt(p),s=p}e.stateNode=s}else Up(c,e.type,e.stateNode);else e.stateNode=Dp(c,s,e.memoizedProps);else p!==s?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,s===null?Up(c,e.type,e.stateNode):Dp(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Zr(e,e.memoizedProps,l.memoizedProps)}break;case 27:kt(t,e),Ut(e),s&512&&(rt||l===null||vn(l,l.return)),l!==null&&s&4&&Zr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(kt(t,e),Ut(e),s&512&&(rt||l===null||vn(l,l.return)),e.flags&32){c=e.stateNode;try{sl(c,"")}catch(le){qe(e,e.return,le)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,Zr(e,c,l!==null?l.memoizedProps:c)),s&1024&&(jr=!0);break;case 6:if(kt(t,e),Ut(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(le){qe(e,e.return,le)}}break;case 3:if(ja=null,c=cn,cn=Wa(t.containerInfo),kt(t,e),cn=c,Ut(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(le){qe(e,e.return,le)}jr&&(jr=!1,Ud(e));break;case 4:s=cn,cn=Wa(e.stateNode.containerInfo),kt(t,e),Ut(e),cn=s;break;case 12:kt(t,e),Ut(e);break;case 31:kt(t,e),Ut(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qa(e,s)));break;case 13:kt(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Va=mt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qa(e,s)));break;case 22:c=e.memoizedState!==null;var _=l!==null&&l.memoizedState!==null,b=Ln,L=rt;if(Ln=b||c,rt=L||_,kt(t,e),rt=L,Ln=b,Ut(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(l===null||_||Ln||rt||Fi(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){_=l=t;try{if(p=_.stateNode,c)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=_.stateNode;var P=_.memoizedProps.style,I=P!=null&&P.hasOwnProperty("display")?P.display:null;C.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(le){qe(_,_.return,le)}}}else if(t.tag===6){if(l===null){_=t;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(le){qe(_,_.return,le)}}}else if(t.tag===18){if(l===null){_=t;try{var D=_.stateNode;c?Ap(D,!0):Ap(_.stateNode,!1)}catch(le){qe(_,_.return,le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,qa(e,l))));break;case 19:kt(t,e),Ut(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qa(e,s)));break;case 30:break;case 21:break;default:kt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(xd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var c=l.stateNode,p=Wr(e);La(e,p,c);break;case 5:var T=l.stateNode;l.flags&32&&(sl(T,""),l.flags&=-33);var C=Wr(e);La(e,C,T);break;case 3:case 4:var _=l.stateNode.containerInfo,b=Wr(e);$r(e,b,_);break;default:throw Error(a(161))}}catch(L){qe(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ud(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ud(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Md(e,t.alternate,t),t=t.sibling}function Fi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ai(4,t,t.return),Fi(t);break;case 1:vn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Ad(t,t.return,l),Fi(t);break;case 27:Go(t.stateNode);case 26:case 5:vn(t,t.return),Fi(t);break;case 22:t.memoizedState===null&&Fi(t);break;case 30:Fi(t);break;default:Fi(t)}e=e.sibling}}function Vn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,p=t,T=p.flags;switch(p.tag){case 0:case 11:case 15:Vn(c,p,l),xo(4,p);break;case 1:if(Vn(c,p,l),s=p,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(b){qe(s,s.return,b)}if(s=p,c=s.updateQueue,c!==null){var C=s.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)ff(_[c],C)}catch(b){qe(s,s.return,b)}}l&&T&64&&Cd(p),No(p,p.return);break;case 27:Nd(p);case 26:case 5:Vn(c,p,l),l&&s===null&&T&4&&_d(p),No(p,p.return);break;case 12:Vn(c,p,l);break;case 31:Vn(c,p,l),l&&T&4&&Id(c,p);break;case 13:Vn(c,p,l),l&&T&4&&Dd(c,p);break;case 22:p.memoizedState===null&&Vn(c,p,l),No(p,p.return);break;case 30:break;default:Vn(c,p,l)}t=t.sibling}}function eu(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&fo(l))}function tu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fo(e))}function fn(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gd(e,t,l,s),t=t.sibling}function Gd(e,t,l,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:fn(e,t,l,s),c&2048&&xo(9,t);break;case 1:fn(e,t,l,s);break;case 3:fn(e,t,l,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fo(e)));break;case 12:if(c&2048){fn(e,t,l,s),e=t.stateNode;try{var p=t.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){qe(t,t.return,_)}}else fn(e,t,l,s);break;case 31:fn(e,t,l,s);break;case 13:fn(e,t,l,s);break;case 23:break;case 22:p=t.stateNode,T=t.alternate,t.memoizedState!==null?p._visibility&2?fn(e,t,l,s):Ro(e,t):p._visibility&2?fn(e,t,l,s):(p._visibility|=2,Rl(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&eu(T,t);break;case 24:fn(e,t,l,s),c&2048&&tu(t.alternate,t);break;default:fn(e,t,l,s)}}function Rl(e,t,l,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,T=t,C=l,_=s,b=T.flags;switch(T.tag){case 0:case 11:case 15:Rl(p,T,C,_,c),xo(8,T);break;case 23:break;case 22:var L=T.stateNode;T.memoizedState!==null?L._visibility&2?Rl(p,T,C,_,c):Ro(p,T):(L._visibility|=2,Rl(p,T,C,_,c)),c&&b&2048&&eu(T.alternate,T);break;case 24:Rl(p,T,C,_,c),c&&b&2048&&tu(T.alternate,T);break;default:Rl(p,T,C,_,c)}t=t.sibling}}function Ro(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,c=s.flags;switch(s.tag){case 22:Ro(l,s),c&2048&&eu(s.alternate,s);break;case 24:Ro(l,s),c&2048&&tu(s.alternate,s);break;default:Ro(l,s)}t=t.sibling}}var Mo=8192;function Ml(e,t,l){if(e.subtreeFlags&Mo)for(e=e.child;e!==null;)Ld(e,t,l),e=e.sibling}function Ld(e,t,l){switch(e.tag){case 26:Ml(e,t,l),e.flags&Mo&&e.memoizedState!==null&&sv(l,cn,e.memoizedState,e.memoizedProps);break;case 5:Ml(e,t,l);break;case 3:case 4:var s=cn;cn=Wa(e.stateNode.containerInfo),Ml(e,t,l),cn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Mo,Mo=16777216,Ml(e,t,l),Mo=s):Ml(e,t,l));break;default:Ml(e,t,l)}}function qd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];pt=s,Vd(s,e)}qd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 0:case 11:case 15:wo(e),e.flags&2048&&ai(9,e,e.return);break;case 3:wo(e);break;case 12:wo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ba(e)):wo(e);break;default:wo(e)}}function Ba(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];pt=s,Vd(s,e)}qd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ai(8,t,t.return),Ba(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Ba(t));break;default:Ba(t)}e=e.sibling}}function Vd(e,t){for(;pt!==null;){var l=pt;switch(l.tag){case 0:case 11:case 15:ai(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:fo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,pt=s;else e:for(l=e;pt!==null;){s=pt;var c=s.sibling,p=s.return;if(wd(s),s===l){pt=null;break e}if(c!==null){c.return=p,pt=c;break e}pt=p}}}var Cy={getCacheForType:function(e){var t=gt(ot),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return gt(ot).controller.signal}},Ay=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Pe=null,Ae=null,xe=0,Le=0,zt=null,si=!1,wl=!1,nu=!1,Hn=0,We=0,ri=0,Ki=0,iu=0,Pt=0,bl=0,bo=null,Gt=null,lu=!1,Va=0,Hd=0,Ha=1/0,za=null,ui=null,ft=0,ci=null,Il=null,zn=0,ou=0,au=null,zd=null,Io=0,su=null;function Ot(){return(Ge&2)!==0&&xe!==0?xe&-xe:k.T!==null?pu():$l()}function Pd(){if(Pt===0)if((xe&536870912)===0||we){var e=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Pt=e}else Pt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Pt}function Lt(e,t,l){(e===Pe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Dl(e,0),fi(e,xe,Pt,!1)),Cn(e,l),((Ge&2)===0||e!==Pe)&&(e===Pe&&((Ge&2)===0&&(Ki|=l),We===4&&fi(e,xe,Pt,!1)),Tn(e))}function Od(e,t,l){if((Ge&6)!==0)throw Error(a(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Kn(e,t),c=s?Ny(e,t):uu(e,t,!0),p=s;do{if(c===0){wl&&!s&&fi(e,t,0,!1);break}else{if(l=e.current.alternate,p&&!_y(l)){c=uu(e,t,!1),p=!1;continue}if(c===2){if(p=t,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){t=T;e:{var C=e;c=bo;var _=C.current.memoizedState.isDehydrated;if(_&&(Dl(C,T).flags|=256),T=uu(C,T,!1),T!==2){if(nu&&!_){C.errorRecoveryDisabledLanes|=p,Ki|=p,c=4;break e}p=Gt,Gt=c,p!==null&&(Gt===null?Gt=p:Gt.push.apply(Gt,p))}c=T}if(p=!1,c!==2)continue}}if(c===1){Dl(e,0),fi(e,t,0,!0);break}e:{switch(s=e,p=c,p){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:fi(s,t,Pt,!si);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(c=Va+300-mt(),10<c)){if(fi(s,t,Pt,!si),En(s,0,!0)!==0)break e;zn=t,s.timeoutHandle=Sp(Jd.bind(null,s,l,Gt,za,lu,t,Pt,Ki,bl,si,p,"Throttled",-0,0),c);break e}Jd(s,l,Gt,za,lu,t,Pt,Ki,bl,si,p,null,-0,0)}}break}while(!0);Tn(e)}function Jd(e,t,l,s,c,p,T,C,_,b,L,P,I,D){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},Ld(t,p,P);var le=(p&62914560)===p?Va-mt():(p&4194048)===p?Hd-mt():0;if(le=rv(P,le),le!==null){zn=p,e.cancelPendingCommit=le($d.bind(null,e,t,p,l,s,c,T,C,_,L,P,null,I,D)),fi(e,p,T,!b);return}}$d(e,t,p,l,s,c,T,C,_)}function _y(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var c=l[s],p=c.getSnapshot;c=c.value;try{if(!qt(p(),c))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t,l,s){t&=~iu,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var p=31-Tt(c),T=1<<p;s[p]=-1,c&=~T}l!==0&&Mi(e,l,t)}function Pa(){return(Ge&6)===0?(Do(0),!1):!0}function ru(){if(Ae!==null){if(Le===0)var e=Ae.return;else e=Ae,bn=Bi=null,_r(e),Cl=null,mo=0,e=Ae;for(;e!==null;)Ed(e.alternate,e),e=e.return;Ae=null}}function Dl(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Jy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),zn=0,ru(),Pe=e,Ae=l=Mn(e.current,null),xe=t,Le=0,zt=null,si=!1,wl=Kn(e,t),nu=!1,bl=Pt=iu=Ki=ri=We=0,Gt=bo=null,lu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-Tt(s),p=1<<c;t|=e[c],s&=~p}return Hn=t,ua(),l}function Yd(e,t){Te=null,k.H=Co,t===El||t===ya?(t=sf(),Le=3):t===dr?(t=sf(),Le=4):Le=t===Hr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,Ae===null&&(We=1,Ia(e,Qt(t,e.current)))}function Fd(){var e=Vt.current;return e===null?!0:(xe&4194048)===xe?$t===null:(xe&62914560)===xe||(xe&536870912)!==0?e===$t:!1}function Kd(){var e=k.H;return k.H=Co,e===null?Co:e}function Qd(){var e=k.A;return k.A=Cy,e}function Oa(){We=4,si||(xe&4194048)!==xe&&Vt.current!==null||(wl=!0),(ri&134217727)===0&&(Ki&134217727)===0||Pe===null||fi(Pe,xe,Pt,!1)}function uu(e,t,l){var s=Ge;Ge|=2;var c=Kd(),p=Qd();(Pe!==e||xe!==t)&&(za=null,Dl(e,t)),t=!1;var T=We;e:do try{if(Le!==0&&Ae!==null){var C=Ae,_=zt;switch(Le){case 8:ru(),T=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var b=Le;if(Le=0,zt=null,kl(e,C,_,b),l&&wl){T=0;break e}break;default:b=Le,Le=0,zt=null,kl(e,C,_,b)}}xy(),T=We;break}catch(L){Yd(e,L)}while(!0);return t&&e.shellSuspendCounter++,bn=Bi=null,Ge=s,k.H=c,k.A=p,Ae===null&&(Pe=null,xe=0,ua()),T}function xy(){for(;Ae!==null;)Xd(Ae)}function Ny(e,t){var l=Ge;Ge|=2;var s=Kd(),c=Qd();Pe!==e||xe!==t?(za=null,Ha=mt()+500,Dl(e,t)):wl=Kn(e,t);e:do try{if(Le!==0&&Ae!==null){t=Ae;var p=zt;t:switch(Le){case 1:Le=0,zt=null,kl(e,t,p,1);break;case 2:case 9:if(of(p)){Le=0,zt=null,Zd(t);break}t=function(){Le!==2&&Le!==9||Pe!==e||(Le=7),Tn(e)},p.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:of(p)?(Le=0,zt=null,Zd(t)):(Le=0,zt=null,kl(e,t,p,7));break;case 5:var T=null;switch(Ae.tag){case 26:T=Ae.memoizedState;case 5:case 27:var C=Ae;if(T?Gp(T):C.stateNode.complete){Le=0,zt=null;var _=C.sibling;if(_!==null)Ae=_;else{var b=C.return;b!==null?(Ae=b,Ja(b)):Ae=null}break t}}Le=0,zt=null,kl(e,t,p,5);break;case 6:Le=0,zt=null,kl(e,t,p,6);break;case 8:ru(),We=6;break e;default:throw Error(a(462))}}Ry();break}catch(L){Yd(e,L)}while(!0);return bn=Bi=null,k.H=s,k.A=c,Ge=l,Ae!==null?0:(Pe=null,xe=0,ua(),We)}function Ry(){for(;Ae!==null&&!Wl();)Xd(Ae)}function Xd(e){var t=Td(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Ja(e):Ae=t}function Zd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=pd(l,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=pd(l,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:_r(t);default:Ed(l,t),t=Ae=Kc(t,Hn),t=Td(l,t,Hn)}e.memoizedProps=e.pendingProps,t===null?Ja(e):Ae=t}function kl(e,t,l,s){bn=Bi=null,_r(t),Cl=null,mo=0;var c=t.return;try{if(hy(e,c,t,l,xe)){We=1,Ia(e,Qt(l,e.current)),Ae=null;return}}catch(p){if(c!==null)throw Ae=c,p;We=1,Ia(e,Qt(l,e.current)),Ae=null;return}t.flags&32768?(we||s===1?e=!0:wl||(xe&536870912)!==0?e=!1:(si=e=!0,(s===2||s===9||s===3||s===6)&&(s=Vt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Wd(t,e)):Ja(t)}function Ja(e){var t=e;do{if((t.flags&32768)!==0){Wd(t,si);return}e=t.return;var l=vy(t.alternate,t,Hn);if(l!==null){Ae=l;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);We===0&&(We=5)}function Wd(e,t){do{var l=Ty(e.alternate,e);if(l!==null){l.flags&=32767,Ae=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=l}while(e!==null);We=6,Ae=null}function $d(e,t,l,s,c,p,T,C,_){e.cancelPendingCommit=null;do Ya();while(ft!==0);if((Ge&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(p=t.lanes|t.childLanes,p|=Ws,Rs(e,l,p,T,C,_),e===Pe&&(Ae=Pe=null,xe=0),Il=t,ci=e,zn=l,ou=p,au=c,zd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Iy(el,function(){return ip(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,c=Z.p,Z.p=2,T=Ge,Ge|=4;try{Sy(e,t,l)}finally{Ge=T,Z.p=c,k.T=s}}ft=1,jd(),ep(),tp()}}function jd(){if(ft===1){ft=0;var e=ci,t=Il,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var s=Z.p;Z.p=2;var c=Ge;Ge|=4;try{kd(t,e);var p=Eu,T=Bc(e.containerInfo),C=p.focusedElem,_=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&qc(C.ownerDocument.documentElement,C)){if(_!==null&&Fs(C)){var b=_.start,L=_.end;if(L===void 0&&(L=b),"selectionStart"in C)C.selectionStart=b,C.selectionEnd=Math.min(L,C.value.length);else{var P=C.ownerDocument||document,I=P&&P.defaultView||window;if(I.getSelection){var D=I.getSelection(),le=C.textContent.length,pe=Math.min(_.start,le),He=_.end===void 0?pe:Math.min(_.end,le);!D.extend&&pe>He&&(T=He,He=pe,pe=T);var M=Lc(C,pe),x=Lc(C,He);if(M&&x&&(D.rangeCount!==1||D.anchorNode!==M.node||D.anchorOffset!==M.offset||D.focusNode!==x.node||D.focusOffset!==x.offset)){var w=P.createRange();w.setStart(M.node,M.offset),D.removeAllRanges(),pe>He?(D.addRange(w),D.extend(x.node,x.offset)):(w.setEnd(x.node,x.offset),D.addRange(w))}}}}for(P=[],D=C;D=D.parentNode;)D.nodeType===1&&P.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<P.length;C++){var B=P[C];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}is=!!Su,Eu=Su=null}finally{Ge=c,Z.p=s,k.T=l}}e.current=t,ft=2}}function ep(){if(ft===2){ft=0;var e=ci,t=Il,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var s=Z.p;Z.p=2;var c=Ge;Ge|=4;try{Md(e,t.alternate,t)}finally{Ge=c,Z.p=s,k.T=l}}ft=3}}function tp(){if(ft===4||ft===3){ft=0,As();var e=ci,t=Il,l=zn,s=zd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ft=5:(ft=0,Il=ci=null,np(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ui=null),wi(l),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ai,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=k.T,c=Z.p,Z.p=2,k.T=null;try{for(var p=e.onRecoverableError,T=0;T<s.length;T++){var C=s[T];p(C.value,{componentStack:C.stack})}}finally{k.T=t,Z.p=c}}(zn&3)!==0&&Ya(),Tn(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===su?Io++:(Io=0,su=e):Io=0,Do(0)}}function np(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fo(t)))}function Ya(){return jd(),ep(),tp(),ip()}function ip(){if(ft!==5)return!1;var e=ci,t=ou;ou=0;var l=wi(zn),s=k.T,c=Z.p;try{Z.p=32>l?32:l,k.T=null,l=au,au=null;var p=ci,T=zn;if(ft=0,Il=ci=null,zn=0,(Ge&6)!==0)throw Error(a(331));var C=Ge;if(Ge|=4,Bd(p.current),Gd(p,p.current,T,l),Ge=C,Do(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ai,p)}catch{}return!0}finally{Z.p=c,k.T=s,np(e,t)}}function lp(e,t,l){t=Qt(l,t),t=Vr(e.stateNode,t,2),e=ii(e,t,2),e!==null&&(Cn(e,2),Tn(e))}function qe(e,t,l){if(e.tag===3)lp(e,e,l);else for(;t!==null;){if(t.tag===3){lp(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ui===null||!ui.has(s))){e=Qt(l,e),l=od(2),s=ii(t,l,2),s!==null&&(ad(l,s,t,e),Cn(s,2),Tn(s));break}}t=t.return}}function cu(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Ay;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(l)||(nu=!0,c.add(l),e=My.bind(null,e,t,l),t.then(e,e))}function My(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Pe===e&&(xe&l)===l&&(We===4||We===3&&(xe&62914560)===xe&&300>mt()-Va?(Ge&2)===0&&Dl(e,0):iu|=l,bl===xe&&(bl=0)),Tn(e)}function op(e,t){t===0&&(t=Rt()),e=Gi(e,t),e!==null&&(Cn(e,t),Tn(e))}function wy(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),op(e,l)}function by(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(t),op(e,l)}function Iy(e,t){return Ci(e,t)}var Fa=null,Ul=null,fu=!1,Ka=!1,du=!1,di=0;function Tn(e){e!==Ul&&e.next===null&&(Ul===null?Fa=Ul=e:Ul=Ul.next=e),Ka=!0,fu||(fu=!0,ky())}function Do(e,t){if(!du&&Ka){du=!0;do for(var l=!1,s=Fa;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var p=0;else{var T=s.suspendedLanes,C=s.pingedLanes;p=(1<<31-Tt(42|e)+1)-1,p&=c&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,up(s,p))}else p=xe,p=En(s,s===Pe?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||Kn(s,p)||(l=!0,up(s,p));s=s.next}while(l);du=!1}}function Dy(){ap()}function ap(){Ka=fu=!1;var e=0;di!==0&&Oy()&&(e=di);for(var t=mt(),l=null,s=Fa;s!==null;){var c=s.next,p=sp(s,t);p===0?(s.next=null,l===null?Fa=c:l.next=c,c===null&&(Ul=l)):(l=s,(e!==0||(p&3)!==0)&&(Ka=!0)),s=c}ft!==0&&ft!==5||Do(e),di!==0&&(di=0)}function sp(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-Tt(p),C=1<<T,_=c[T];_===-1?((C&l)===0||(C&s)!==0)&&(c[T]=jo(C,t)):_<=t&&(e.expiredLanes|=C),p&=~C}if(t=Pe,l=xe,l=En(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&sn(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Kn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&sn(s),wi(l)){case 2:case 8:l=ji;break;case 32:l=el;break;case 268435456:l=Fn;break;default:l=el}return s=rp.bind(null,e),l=Ci(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&sn(s),e.callbackPriority=2,e.callbackNode=null,2}function rp(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ya()&&e.callbackNode!==l)return null;var s=xe;return s=En(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Od(e,s,t),sp(e,mt()),e.callbackNode!=null&&e.callbackNode===l?rp.bind(null,e):null)}function up(e,t){if(Ya())return null;Od(e,t,!0)}function ky(){Yy(function(){(Ge&6)!==0?Ci($i,Dy):ap()})}function pu(){if(di===0){var e=Tl;e===0&&(e=_i,_i<<=1,(_i&261888)===0&&(_i=256)),di=e}return di}function cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function fp(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Uy(e,t,l,s,c){if(t==="submit"&&l&&l.stateNode===c){var p=cp((c[dt]||null).action),T=s.submitter;T&&(t=(t=T[dt]||null)?cp(t.formAction):T.getAttribute("formAction"),t!==null&&(p=t,T=null));var C=new oa("action","action",null,s,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(di!==0){var _=T?fp(c,T):new FormData(c);kr(l,{pending:!0,data:_,method:c.method,action:p},null,_)}}else typeof p=="function"&&(C.preventDefault(),_=T?fp(c,T):new FormData(c),kr(l,{pending:!0,data:_,method:c.method,action:p},p,_))},currentTarget:c}]})}}for(var mu=0;mu<Zs.length;mu++){var hu=Zs[mu],Gy=hu.toLowerCase(),Ly=hu[0].toUpperCase()+hu.slice(1);un(Gy,"on"+Ly)}un(zc,"onAnimationEnd"),un(Pc,"onAnimationIteration"),un(Oc,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un($g,"onTransitionRun"),un(jg,"onTransitionStart"),un(ey,"onTransitionCancel"),un(Jc,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),z("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),z("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),z("onBeforeInput",["compositionend","keypress","textInput","paste"]),z("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),z("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),z("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function dp(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],c=s.event;s=s.listeners;e:{var p=void 0;if(t)for(var T=s.length-1;0<=T;T--){var C=s[T],_=C.instance,b=C.currentTarget;if(C=C.listener,_!==p&&c.isPropagationStopped())break e;p=C,c.currentTarget=b;try{p(c)}catch(L){ra(L)}c.currentTarget=null,p=_}else for(T=0;T<s.length;T++){if(C=s[T],_=C.instance,b=C.currentTarget,C=C.listener,_!==p&&c.isPropagationStopped())break e;p=C,c.currentTarget=b;try{p(c)}catch(L){ra(L)}c.currentTarget=null,p=_}}}}function _e(e,t){var l=t[bi];l===void 0&&(l=t[bi]=new Set);var s=e+"__bubble";l.has(s)||(pp(t,e,2,!1),l.add(s))}function gu(e,t,l){var s=0;t&&(s|=4),pp(l,e,s,t)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Qa]){e[Qa]=!0,U.forEach(function(l){l!=="selectionchange"&&(qy.has(l)||gu(l,!1,e),gu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qa]||(t[Qa]=!0,gu("selectionchange",!1,t))}}function pp(e,t,l,s){switch(Pp(t)){case 2:var c=fv;break;case 8:c=dv;break;default:c=Du}l=c.bind(null,t,l,e),c=void 0,!qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,l,{capture:!0,passive:c}):e.addEventListener(t,l,!0):c!==void 0?e.addEventListener(t,l,{passive:c}):e.addEventListener(t,l,!1)}function vu(e,t,l,s,c){var p=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var C=s.stateNode.containerInfo;if(C===c)break;if(T===4)for(T=s.return;T!==null;){var _=T.tag;if((_===3||_===4)&&T.stateNode.containerInfo===c)return;T=T.return}for(;C!==null;){if(T=_n(C),T===null)return;if(_=T.tag,_===5||_===6||_===26||_===27){s=p=T;continue e}C=C.parentNode}}s=s.return}yc(function(){var b=p,L=Gs(l),P=[];e:{var I=Yc.get(e);if(I!==void 0){var D=oa,le=e;switch(e){case"keypress":if(ia(l)===0)break e;case"keydown":case"keyup":D=bg;break;case"focusin":le="focus",D=zs;break;case"focusout":le="blur",D=zs;break;case"beforeblur":case"afterblur":D=zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=kg;break;case zc:case Pc:case Oc:D=Eg;break;case Jc:D=Gg;break;case"scroll":case"scrollend":D=gg;break;case"wheel":D=qg;break;case"copy":case"cut":case"paste":D=Ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Cc;break;case"toggle":case"beforetoggle":D=Vg}var pe=(t&4)!==0,He=!pe&&(e==="scroll"||e==="scrollend"),M=pe?I!==null?I+"Capture":null:I;pe=[];for(var x=b,w;x!==null;){var B=x;if(w=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||w===null||M===null||(B=eo(x,M),B!=null&&pe.push(Uo(x,B,w))),He)break;x=x.return}0<pe.length&&(I=new D(I,le,null,l,L),P.push({event:I,listeners:pe}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",I&&l!==Us&&(le=l.relatedTarget||l.fromElement)&&(_n(le)||le[Qn]))break e;if((D||I)&&(I=L.window===L?L:(I=L.ownerDocument)?I.defaultView||I.parentWindow:window,D?(le=l.relatedTarget||l.toElement,D=b,le=le?_n(le):null,le!==null&&(He=d(le),pe=le.tag,le!==He||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(D=null,le=b),D!==le)){if(pe=Sc,B="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Cc,B="onPointerLeave",M="onPointerEnter",x="pointer"),He=D==null?I:Ii(D),w=le==null?I:Ii(le),I=new pe(B,x+"leave",D,l,L),I.target=He,I.relatedTarget=w,B=null,_n(L)===b&&(pe=new pe(M,x+"enter",le,l,L),pe.target=w,pe.relatedTarget=He,B=pe),He=B,D&&le)t:{for(pe=By,M=D,x=le,w=0,B=M;B;B=pe(B))w++;B=0;for(var fe=x;fe;fe=pe(fe))B++;for(;0<w-B;)M=pe(M),w--;for(;0<B-w;)x=pe(x),B--;for(;w--;){if(M===x||x!==null&&M===x.alternate){pe=M;break t}M=pe(M),x=pe(x)}pe=null}else pe=null;D!==null&&mp(P,I,D,pe,!1),le!==null&&He!==null&&mp(P,He,le,pe,!0)}}e:{if(I=b?Ii(b):window,D=I.nodeName&&I.nodeName.toLowerCase(),D==="select"||D==="input"&&I.type==="file")var De=bc;else if(Mc(I))if(Ic)De=Xg;else{De=Kg;var re=Fg}else D=I.nodeName,!D||D.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?b&&ks(b.elementType)&&(De=bc):De=Qg;if(De&&(De=De(e,b))){wc(P,De,l,L);break e}re&&re(e,I,b),e==="focusout"&&b&&I.type==="number"&&b.memoizedProps.value!=null&&Ds(I,"number",I.value)}switch(re=b?Ii(b):window,e){case"focusin":(Mc(re)||re.contentEditable==="true")&&(fl=re,Ks=b,ro=null);break;case"focusout":ro=Ks=fl=null;break;case"mousedown":Qs=!0;break;case"contextmenu":case"mouseup":case"dragend":Qs=!1,Vc(P,l,L);break;case"selectionchange":if(Wg)break;case"keydown":case"keyup":Vc(P,l,L)}var Ee;if(Os)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else cl?Nc(e,l)&&(Ne="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ac&&l.locale!=="ko"&&(cl||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&cl&&(Ee=vc()):(Zn=L,Bs="value"in Zn?Zn.value:Zn.textContent,cl=!0)),re=Xa(b,Ne),0<re.length&&(Ne=new Ec(Ne,e,null,l,L),P.push({event:Ne,listeners:re}),Ee?Ne.data=Ee:(Ee=Rc(l),Ee!==null&&(Ne.data=Ee)))),(Ee=zg?Pg(e,l):Og(e,l))&&(Ne=Xa(b,"onBeforeInput"),0<Ne.length&&(re=new Ec("onBeforeInput","beforeinput",null,l,L),P.push({event:re,listeners:Ne}),re.data=Ee)),Uy(P,e,b,l,L)}dp(P,t)})}function Uo(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Xa(e,t){for(var l=t+"Capture",s=[];e!==null;){var c=e,p=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||p===null||(c=eo(e,l),c!=null&&s.unshift(Uo(e,c,p)),c=eo(e,t),c!=null&&s.push(Uo(e,c,p))),e.tag===3)return s;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mp(e,t,l,s,c){for(var p=t._reactName,T=[];l!==null&&l!==s;){var C=l,_=C.alternate,b=C.stateNode;if(C=C.tag,_!==null&&_===s)break;C!==5&&C!==26&&C!==27||b===null||(_=b,c?(b=eo(l,p),b!=null&&T.unshift(Uo(l,b,_))):c||(b=eo(l,p),b!=null&&T.push(Uo(l,b,_)))),l=l.return}T.length!==0&&e.push({event:t,listeners:T})}var Vy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(Vy,`
`).replace(Hy,"")}function gp(e,t){return t=hp(t),hp(e)===t}function Ve(e,t,l,s,c,p){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||sl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&sl(e,""+s);break;case"className":rn(e,"class",s);break;case"tabIndex":rn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":rn(e,l,s);break;case"style":hc(e,s,p);break;case"data":if(t!=="object"){rn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=ta(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(t!=="input"&&Ve(e,t,"name",c.name,c,null),Ve(e,t,"formEncType",c.formEncType,c,null),Ve(e,t,"formMethod",c.formMethod,c,null),Ve(e,t,"formTarget",c.formTarget,c,null)):(Ve(e,t,"encType",c.encType,c,null),Ve(e,t,"method",c.method,c,null),Ve(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=ta(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Nn);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=ta(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),_t(e,"popover",s);break;case"xlinkActuate":wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":wt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":wt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":wt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":wt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":_t(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=mg.get(l)||l,_t(e,l,s))}}function Tu(e,t,l,s,c,p){switch(l){case"style":hc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?sl(e,s):(typeof s=="number"||typeof s=="bigint")&&sl(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!O.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),t=l.slice(2,c?l.length-7:void 0),p=e[dt]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(t,p,c),typeof s=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,c);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):_t(e,l,s)}}}function vt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,c=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ve(e,t,p,T,l,null)}}c&&Ve(e,t,"srcSet",l.srcSet,l,null),s&&Ve(e,t,"src",l.src,l,null);return;case"input":_e("invalid",e);var C=p=T=c=null,_=null,b=null;for(s in l)if(l.hasOwnProperty(s)){var L=l[s];if(L!=null)switch(s){case"name":c=L;break;case"type":T=L;break;case"checked":_=L;break;case"defaultChecked":b=L;break;case"value":p=L;break;case"defaultValue":C=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,t));break;default:Ve(e,t,s,L,l,null)}}fc(e,p,C,_,b,T,c,!1);return;case"select":_e("invalid",e),s=T=p=null;for(c in l)if(l.hasOwnProperty(c)&&(C=l[c],C!=null))switch(c){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":s=C;default:Ve(e,t,c,C,l,null)}t=p,l=T,e.multiple=!!s,t!=null?al(e,!!s,t,!1):l!=null&&al(e,!!s,l,!0);return;case"textarea":_e("invalid",e),p=c=s=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":s=C;break;case"defaultValue":c=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Ve(e,t,T,C,l,null)}pc(e,s,c,p);return;case"option":for(_ in l)if(l.hasOwnProperty(_)&&(s=l[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ve(e,t,_,s,l,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<ko.length;s++)_e(ko[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in l)if(l.hasOwnProperty(b)&&(s=l[b],s!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ve(e,t,b,s,l,null)}return;default:if(ks(t)){for(L in l)l.hasOwnProperty(L)&&(s=l[L],s!==void 0&&Tu(e,t,L,s,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(s=l[C],s!=null&&Ve(e,t,C,s,l,null))}function zy(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,p=null,T=null,C=null,_=null,b=null,L=null;for(D in l){var P=l[D];if(l.hasOwnProperty(D)&&P!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":_=P;default:s.hasOwnProperty(D)||Ve(e,t,D,null,s,P)}}for(var I in s){var D=s[I];if(P=l[I],s.hasOwnProperty(I)&&(D!=null||P!=null))switch(I){case"type":p=D;break;case"name":c=D;break;case"checked":b=D;break;case"defaultChecked":L=D;break;case"value":T=D;break;case"defaultValue":C=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,t));break;default:D!==P&&Ve(e,t,I,D,s,P)}}Is(e,T,C,_,b,L,p,c);return;case"select":D=T=C=I=null;for(p in l)if(_=l[p],l.hasOwnProperty(p)&&_!=null)switch(p){case"value":break;case"multiple":D=_;default:s.hasOwnProperty(p)||Ve(e,t,p,null,s,_)}for(c in s)if(p=s[c],_=l[c],s.hasOwnProperty(c)&&(p!=null||_!=null))switch(c){case"value":I=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==_&&Ve(e,t,c,p,s,_)}t=C,l=T,s=D,I!=null?al(e,!!l,I,!1):!!s!=!!l&&(t!=null?al(e,!!l,t,!0):al(e,!!l,l?[]:"",!1));return;case"textarea":D=I=null;for(C in l)if(c=l[C],l.hasOwnProperty(C)&&c!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ve(e,t,C,null,s,c)}for(T in s)if(c=s[T],p=l[T],s.hasOwnProperty(T)&&(c!=null||p!=null))switch(T){case"value":I=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==p&&Ve(e,t,T,c,s,p)}dc(e,I,D);return;case"option":for(var le in l)if(I=l[le],l.hasOwnProperty(le)&&I!=null&&!s.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Ve(e,t,le,null,s,I)}for(_ in s)if(I=s[_],D=l[_],s.hasOwnProperty(_)&&I!==D&&(I!=null||D!=null))switch(_){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ve(e,t,_,I,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)I=l[pe],l.hasOwnProperty(pe)&&I!=null&&!s.hasOwnProperty(pe)&&Ve(e,t,pe,null,s,I);for(b in s)if(I=s[b],D=l[b],s.hasOwnProperty(b)&&I!==D&&(I!=null||D!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,t));break;default:Ve(e,t,b,I,s,D)}return;default:if(ks(t)){for(var He in l)I=l[He],l.hasOwnProperty(He)&&I!==void 0&&!s.hasOwnProperty(He)&&Tu(e,t,He,void 0,s,I);for(L in s)I=s[L],D=l[L],!s.hasOwnProperty(L)||I===D||I===void 0&&D===void 0||Tu(e,t,L,I,s,D);return}}for(var M in l)I=l[M],l.hasOwnProperty(M)&&I!=null&&!s.hasOwnProperty(M)&&Ve(e,t,M,null,s,I);for(P in s)I=s[P],D=l[P],!s.hasOwnProperty(P)||I===D||I==null&&D==null||Ve(e,t,P,I,s,D)}function yp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var c=l[s],p=c.transferSize,T=c.initiatorType,C=c.duration;if(p&&C&&yp(T)){for(T=0,C=c.responseEnd,s+=1;s<l.length;s++){var _=l[s],b=_.startTime;if(b>C)break;var L=_.transferSize,P=_.initiatorType;L&&yp(P)&&(_=_.responseEnd,T+=L*(_<C?1:(C-b)/(_-b)))}if(--s,t+=8*(p+T)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Su=null,Eu=null;function Za(e){return e.nodeType===9?e:e.ownerDocument}function vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Au=null;function Oy(){var e=window.event;return e&&e.type==="popstate"?e===Au?!1:(Au=e,!0):(Au=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,Jy=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(Fy)}:Sp;function Fy(e){setTimeout(function(){throw e})}function pi(e){return e==="head"}function Cp(e,t){var l=t,s=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(c),Bl(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Go(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Go(l);for(var p=l.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[An]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=T}}else l==="body"&&Go(e.ownerDocument.body);l=c}while(l);Bl(t)}function Ap(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function _u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":_u(l),jl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ky(e,t,l,s){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[An])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function Qy(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=jt(e.nextSibling),e===null))return null;return e}function _p(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jt(e.nextSibling),e===null))return null;return e}function xu(e){return e.data==="$?"||e.data==="$~"}function Nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xy(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ru=null;function xp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return jt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Np(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Rp(e,t,l){switch(t=Za(l),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Go(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jl(e)}var en=new Map,Mp=new Set;function Wa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pn=Z.d;Z.d={f:Zy,r:Wy,D:$y,C:jy,L:ev,m:tv,X:iv,S:nv,M:lv};function Zy(){var e=Pn.f(),t=Pa();return e||t}function Wy(e){var t=xn(e);t!==null&&t.tag===5&&t.type==="form"?Yf(t):Pn.r(e)}var Gl=typeof document>"u"?null:document;function wp(e,t,l){var s=Gl;if(s&&typeof t=="string"&&t){var c=Ft(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),Mp.has(c)||(Mp.add(c),e={rel:e,crossOrigin:l,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),vt(t,"link",e),lt(t),s.head.appendChild(t)))}}function $y(e){Pn.D(e),wp("dns-prefetch",e,null)}function jy(e,t){Pn.C(e,t),wp("preconnect",e,t)}function ev(e,t,l){Pn.L(e,t,l);var s=Gl;if(s&&e&&t){var c='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+Ft(l.imageSizes)+'"]')):c+='[href="'+Ft(e)+'"]';var p=c;switch(t){case"style":p=Ll(e);break;case"script":p=ql(e)}en.has(p)||(e=E({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),en.set(p,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(Lo(p))||t==="script"&&s.querySelector(qo(p))||(t=s.createElement("link"),vt(t,"link",e),lt(t),s.head.appendChild(t)))}}function tv(e,t){Pn.m(e,t);var l=Gl;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Ft(s)+'"][href="'+Ft(e)+'"]',p=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ql(e)}if(!en.has(p)&&(e=E({rel:"modulepreload",href:e},t),en.set(p,e),l.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qo(p)))return}s=l.createElement("link"),vt(s,"link",e),lt(s),l.head.appendChild(s)}}}function nv(e,t,l){Pn.S(e,t,l);var s=Gl;if(s&&e){var c=Xn(s).hoistableStyles,p=Ll(e);t=t||"default";var T=c.get(p);if(!T){var C={loading:0,preload:null};if(T=s.querySelector(Lo(p)))C.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},l),(l=en.get(p))&&Mu(e,l);var _=T=s.createElement("link");lt(_),vt(_,"link",e),_._p=new Promise(function(b,L){_.onload=b,_.onerror=L}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,$a(T,t,s)}T={type:"stylesheet",instance:T,count:1,state:C},c.set(p,T)}}}function iv(e,t){Pn.X(e,t);var l=Gl;if(l&&e){var s=Xn(l).hoistableScripts,c=ql(e),p=s.get(c);p||(p=l.querySelector(qo(c)),p||(e=E({src:e,async:!0},t),(t=en.get(c))&&wu(e,t),p=l.createElement("script"),lt(p),vt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(c,p))}}function lv(e,t){Pn.M(e,t);var l=Gl;if(l&&e){var s=Xn(l).hoistableScripts,c=ql(e),p=s.get(c);p||(p=l.querySelector(qo(c)),p||(e=E({src:e,async:!0,type:"module"},t),(t=en.get(c))&&wu(e,t),p=l.createElement("script"),lt(p),vt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(c,p))}}function bp(e,t,l,s){var c=(c=Se.current)?Wa(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ll(l.href),l=Xn(c).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ll(l.href);var p=Xn(c).hoistableStyles,T=p.get(e);if(T||(c=c.ownerDocument||c,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=c.querySelector(Lo(e)))&&!p._p&&(T.instance=p,T.state.loading=5),en.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},en.set(e,l),p||ov(c,e,l,T.state))),t&&s===null)throw Error(a(528,""));return T}if(t&&s!==null)throw Error(a(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ql(l),l=Xn(c).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ll(e){return'href="'+Ft(e)+'"'}function Lo(e){return'link[rel="stylesheet"]['+e+"]"}function Ip(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function ov(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),vt(t,"link",l),lt(t),e.head.appendChild(t))}function ql(e){return'[src="'+Ft(e)+'"]'}function qo(e){return"script[async]"+e}function Dp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(s)return t.instance=s,lt(s),s;var c=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),lt(s),vt(s,"style",c),$a(s,l.precedence,e),t.instance=s;case"stylesheet":c=Ll(l.href);var p=e.querySelector(Lo(c));if(p)return t.state.loading|=4,t.instance=p,lt(p),p;s=Ip(l),(c=en.get(c))&&Mu(s,c),p=(e.ownerDocument||e).createElement("link"),lt(p);var T=p;return T._p=new Promise(function(C,_){T.onload=C,T.onerror=_}),vt(p,"link",s),t.state.loading|=4,$a(p,l.precedence,e),t.instance=p;case"script":return p=ql(l.src),(c=e.querySelector(qo(p)))?(t.instance=c,lt(c),c):(s=l,(c=en.get(p))&&(s=E({},l),wu(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),lt(c),vt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,$a(s,l.precedence,e));return t.instance}function $a(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,p=c,T=0;T<s.length;T++){var C=s[T];if(C.dataset.precedence===t)p=C;else if(p!==c)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ja=null;function kp(e,t,l){if(ja===null){var s=new Map,c=ja=new Map;c.set(l,s)}else c=ja,s=c.get(l),s||(s=new Map,c.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var p=l[c];if(!(p[An]||p[et]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(t)||"";T=e+T;var C=s.get(T);C?C.push(p):s.set(T,[p])}}return s}function Up(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function av(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sv(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=Ll(s.href),p=t.querySelector(Lo(c));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=es.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=p,lt(p);return}p=t.ownerDocument||t,s=Ip(s),(c=en.get(c))&&Mu(s,c),p=p.createElement("link"),lt(p);var T=p;T._p=new Promise(function(C,_){T.onload=C,T.onerror=_}),vt(p,"link",s),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=es.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var bu=0;function rv(e,t){return e.stylesheets&&e.count===0&&ns(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ns(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&bu===0&&(bu=62500*Py());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ns(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>bu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function es(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ns(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ts=null;function ns(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ts=new Map,t.forEach(uv,e),ts=null,es.call(e))}function uv(e,t){if(!(t.state.loading&4)){var l=ts.get(e);if(l)var s=l.get(null);else{l=new Map,ts.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<c.length;p++){var T=c[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}c=t.instance,T=c.getAttribute("data-precedence"),p=l.get(T)||s,p===s&&l.set(null,c),l.set(T,c),this.count++,s=es.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),p?p.parentNode.insertBefore(c,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Bo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function cv(e,t,l,s,c,p,T,C,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Lp(e,t,l,s,c,p,T,C,_,b,L,P){return e=new cv(e,t,l,T,_,b,L,P,C),t=1,p===!0&&(t|=24),p=Bt(3,null,null,t),e.current=p,p.stateNode=e,t=ur(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:s,isDehydrated:l,cache:t},pr(p),e}function qp(e){return e?(e=ml,e):ml}function Bp(e,t,l,s,c,p){c=qp(c),s.context===null?s.context=c:s.pendingContext=c,s=ni(t),s.payload={element:l},p=p===void 0?null:p,p!==null&&(s.callback=p),l=ii(e,s,t),l!==null&&(Lt(l,e,t),go(l,e,t))}function Vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Iu(e,t){Vp(e,t),(e=e.alternate)&&Vp(e,t)}function Hp(e){if(e.tag===13||e.tag===31){var t=Gi(e,67108864);t!==null&&Lt(t,e,67108864),Iu(e,67108864)}}function zp(e){if(e.tag===13||e.tag===31){var t=Ot();t=il(t);var l=Gi(e,t);l!==null&&Lt(l,e,t),Iu(e,t)}}var is=!0;function fv(e,t,l,s){var c=k.T;k.T=null;var p=Z.p;try{Z.p=2,Du(e,t,l,s)}finally{Z.p=p,k.T=c}}function dv(e,t,l,s){var c=k.T;k.T=null;var p=Z.p;try{Z.p=8,Du(e,t,l,s)}finally{Z.p=p,k.T=c}}function Du(e,t,l,s){if(is){var c=ku(s);if(c===null)vu(e,t,s,ls,l),Op(e,s);else if(mv(c,e,t,l,s))s.stopPropagation();else if(Op(e,s),t&4&&-1<pv.indexOf(e)){for(;c!==null;){var p=xn(c);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=hn(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var _=1<<31-Tt(T);C.entanglements[1]|=_,T&=~_}Tn(p),(Ge&6)===0&&(Ha=mt()+500,Do(0))}}break;case 31:case 13:C=Gi(p,2),C!==null&&Lt(C,p,2),Pa(),Iu(p,2)}if(p=ku(s),p===null&&vu(e,t,s,ls,l),p===c)break;c=p}c!==null&&s.stopPropagation()}else vu(e,t,s,null,l)}}function ku(e){return e=Gs(e),Uu(e)}var ls=null;function Uu(e){if(ls=null,e=_n(e),e!==null){var t=d(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=m(t),e!==null)return e;e=null}else if(l===31){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ls=e,null}function Pp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case $i:return 2;case ji:return 8;case el:case xs:return 32;case Fn:return 268435456;default:return 32}default:return 32}}var Gu=!1,mi=null,hi=null,gi=null,Vo=new Map,Ho=new Map,yi=[],pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,t){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function zo(e,t,l,s,c,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:p,targetContainers:[c]},t!==null&&(t=xn(t),t!==null&&Hp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function mv(e,t,l,s,c){switch(t){case"focusin":return mi=zo(mi,e,t,l,s,c),!0;case"dragenter":return hi=zo(hi,e,t,l,s,c),!0;case"mouseover":return gi=zo(gi,e,t,l,s,c),!0;case"pointerover":var p=c.pointerId;return Vo.set(p,zo(Vo.get(p)||null,e,t,l,s,c)),!0;case"gotpointercapture":return p=c.pointerId,Ho.set(p,zo(Ho.get(p)||null,e,t,l,s,c)),!0}return!1}function Jp(e){var t=_n(e.target);if(t!==null){var l=d(t);if(l!==null){if(t=l.tag,t===13){if(t=m(l),t!==null){e.blockedOn=t,ll(e.priority,function(){zp(l)});return}}else if(t===31){if(t=g(l),t!==null){e.blockedOn=t,ll(e.priority,function(){zp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=ku(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Us=s,l.target.dispatchEvent(s),Us=null}else return t=xn(l),t!==null&&Hp(t),e.blockedOn=l,!1;t.shift()}return!0}function Yp(e,t,l){os(e)&&l.delete(t)}function hv(){Gu=!1,mi!==null&&os(mi)&&(mi=null),hi!==null&&os(hi)&&(hi=null),gi!==null&&os(gi)&&(gi=null),Vo.forEach(Yp),Ho.forEach(Yp)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,Gu||(Gu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hv)))}var ss=null;function Fp(e){ss!==e&&(ss=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ss===e&&(ss=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(Uu(s||l)===null)continue;break}var p=xn(l);p!==null&&(e.splice(t,3),t-=3,kr(p,{pending:!0,data:c,method:l.method,action:s},s,c))}}))}function Bl(e){function t(_){return as(_,e)}mi!==null&&as(mi,e),hi!==null&&as(hi,e),gi!==null&&as(gi,e),Vo.forEach(t),Ho.forEach(t);for(var l=0;l<yi.length;l++){var s=yi[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<yi.length&&(l=yi[0],l.blockedOn===null);)Jp(l),l.blockedOn===null&&yi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var c=l[s],p=l[s+1],T=c[dt]||null;if(typeof p=="function")T||Fp(l);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(c=p,T=p[dt]||null)C=T.formAction;else if(Uu(c)!==null)continue}else C=T.action;typeof C=="function"?l[s+1]=C:(l.splice(s,3),s-=3),Fp(l)}}}function Kp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return c=T})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Lu(e){this._internalRoot=e}rs.prototype.render=Lu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var l=t.current,s=Ot();Bp(l,s,e,t,null,null)},rs.prototype.unmount=Lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bp(e.current,2,null,e,null,null),Pa(),t[Qn]=null}};function rs(e){this._internalRoot=e}rs.prototype.unstable_scheduleHydration=function(e){if(e){var t=$l();e={blockedOn:null,target:e,priority:t};for(var l=0;l<yi.length&&t!==0&&t<yi[l].priority;l++);yi.splice(l,0,e),l===0&&Jp(e)}};var Qp=n.version;if(Qp!=="19.2.0")throw Error(a(527,Qp,"19.2.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var gv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!us.isDisabled&&us.supportsFiber)try{Ai=us.inject(gv),At=us}catch{}}return Oo.createRoot=function(e,t){if(!r(e))throw Error(a(299));var l=!1,s="",c=td,p=nd,T=id;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=Lp(e,1,!1,null,null,l,s,null,c,p,T,Kp),e[Qn]=t.current,yu(e),new Lu(t)},Oo.hydrateRoot=function(e,t,l){if(!r(e))throw Error(a(299));var s=!1,c="",p=td,T=nd,C=id,_=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(_=l.formState)),t=Lp(e,1,!0,t,l??null,s,c,_,p,T,C,Kp),t.context=qp(null),l=t.current,s=Ot(),s=il(s),c=ni(s),c.callback=null,ii(l,c,s),l=s,t.current.lanes=l,Cn(t,l),Tn(t),e[Qn]=t.current,yu(e),new rs(t)},Oo.version="19.2.0",Oo}var lm;function Rv(){if(lm)return Vu.exports;lm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Vu.exports=Nv(),Vu.exports}var Mv=Rv();const wv=Mh(Mv);var On=(i=>(i[i.AGAIN=1]="AGAIN",i[i.HARD=2]="HARD",i[i.GOOD=3]="GOOD",i[i.EASY=4]="EASY",i))(On||{}),ee=(i=>(i.IDLE="IDLE",i.AWAITING_COMMAND="AWAITING_COMMAND",i.READING_QUESTION="READING_QUESTION",i.AWAITING_ANSWER_REVEAL="AWAITING_ANSWER_REVEAL",i.READING_ANSWER="READING_ANSWER",i.AWAITING_RATING="AWAITING_RATING",i.PROCESSING="PROCESSING",i.CONVERSATION="CONVERSATION",i.EDITING_CARD="EDITING_CARD",i.SHOWING_DECKS="SHOWING_DECKS",i.IMPORTING_DECK="IMPORTING_DECK",i.SHOWING_CARD_STATS="SHOWING_CARD_STATS",i.GENERATING_IMAGE="GENERATING_IMAGE",i.ANALYZING_IMAGE="ANALYZING_IMAGE",i.TRANSCRIBING_AUDIO="TRANSCRIBING_AUDIO",i.SMART_GENERATION="SMART_GENERATION",i.ANALYZING_TEXT="ANALYZING_TEXT",i.SHOWING_BACKUP="SHOWING_BACKUP",i.ERROR="ERROR",i))(ee||{}),ln=(i=>(i.PLAYING="PLAYING",i.PAUSED="PAUSED",i.STOPPED="STOPPED",i))(ln||{});const bv=["Zephyr","Puck","Charon","Kore","Fenrir"],om=16e3,Fu=24e3;var $e=(i=>(i.LOW="low",i.MEDIUM="medium",i.HIGH="high",i.CRITICAL="critical",i))($e||{}),je=(i=>(i.API="api",i.STORAGE="storage",i.AUDIO="audio",i.RENDER="render",i.NETWORK="network",i.VALIDATION="validation",i.UNKNOWN="unknown",i))(je||{});class Iv{constructor(){this.logs=[],this.maxLogs=100,this.isProduction=!0}logError(n,o="unknown",a="medium",r){const d=n instanceof Error?n.message:n,m=n instanceof Error?n.stack:void 0,g={timestamp:new Date,message:d,category:o,severity:a,stack:m,context:r};this.logs.push(g),this.logs.length>this.maxLogs&&this.logs.shift(),this.logToConsole(g),this.persistErrorLog(g),this.isProduction&&a==="critical"&&this.sendToExternalService(g)}logToConsole(n){const a=`${`[${n.category.toUpperCase()}] [${n.severity.toUpperCase()}]`} ${n.message}`;switch(n.severity){case"low":console.info(a,n.context);break;case"medium":console.warn(a,n.context);break;case"high":case"critical":console.error(a,n.context),n.stack&&console.error("Stack trace:",n.stack);break}}persistErrorLog(n){try{const o="echoCards_errorLogs",a=localStorage.getItem(o),r=a?JSON.parse(a):[];r.push({...n,timestamp:n.timestamp.toISOString()}),r.length>50&&r.splice(0,r.length-50),localStorage.setItem(o,JSON.stringify(r))}catch(o){console.error("Failed to persist error log:",o)}}sendToExternalService(n){console.log("[External Service] Would send:",n)}getErrorLogs(){return[...this.logs]}getErrorsByCategory(n){return this.logs.filter(o=>o.category===n)}getErrorsBySeverity(n){return this.logs.filter(o=>o.severity===n)}clearLogs(){this.logs=[];try{localStorage.removeItem("echoCards_errorLogs")}catch(n){console.error("Failed to clear error logs:",n)}}getErrorStats(){const n={},o={};return Object.values(je).forEach(a=>n[a]=0),Object.values($e).forEach(a=>o[a]=0),this.logs.forEach(a=>{n[a.category]++,o[a.severity]++}),{total:this.logs.length,byCategory:n,bySeverity:o}}exportLogs(){return JSON.stringify(this.logs,null,2)}}const ut=new Iv,Yo="echoCards_decks",Hl="echoCards_cards",cs="echoCards_studyProgress",am="echoCards_voicePreference",sm="echoCards_conversationalMode",Dv=[{id:"capitals-1",name:"World Capitals"},{id:"biases-1",name:"Cognitive Biases"}],kv=[{id:"c1",deckId:"capitals-1",question:"What is the capital of Japan?",answer:"Tokyo",dueDate:new Date,stability:0,difficulty:3,lapses:0,reps:0,state:"NEW"},{id:"c2",deckId:"capitals-1",question:"What is the capital of France?",answer:"Paris",dueDate:new Date,stability:0,difficulty:3,lapses:0,reps:0,state:"NEW"},{id:"c3",deckId:"capitals-1",question:"What is the capital of Canada?",answer:"Ottawa",dueDate:new Date,stability:0,difficulty:3,lapses:0,reps:0,state:"NEW"},{id:"c4",deckId:"capitals-1",question:"What is the capital of Australia?",answer:"Canberra",dueDate:new Date,stability:0,difficulty:3,lapses:0,reps:0,state:"NEW"},{id:"c5",deckId:"capitals-1",question:"What is the capital of Brazil?",answer:"Braslia",dueDate:new Date,stability:0,difficulty:3,lapses:0,reps:0,state:"NEW"},{id:"b1",deckId:"biases-1",question:"What is Confirmation Bias?",answer:"Favoring information that confirms preexisting beliefs.",explanation:"It is the tendency to search for, interpret, favor, and recall information that confirms or supports one's preexisting beliefs.",dueDate:new Date,stability:0,difficulty:5,lapses:0,reps:0,state:"NEW"},{id:"b2",deckId:"biases-1",question:"What is the Availability Heuristic?",answer:"Overestimating the likelihood of events that are more easily recalled.",explanation:"A mental shortcut that relies on immediate examples that come to mind when evaluating a specific topic, concept, method or decision.",dueDate:new Date,stability:0,difficulty:5,lapses:0,reps:0,state:"NEW"},{id:"b3",deckId:"biases-1",question:"What is the Dunning-Kruger Effect?",answer:"When people with low ability at a task overestimate their ability.",explanation:"It is a cognitive bias where people with low ability at a task overestimate their ability, and conversely, experts underestimate their own ability.",dueDate:new Date,stability:0,difficulty:5,lapses:0,reps:0,state:"NEW"},{id:"b4",deckId:"biases-1",question:"What is Survivorship Bias?",answer:'Focusing on "survivors" and ignoring failures, leading to skewed conclusions.',explanation:'The logical error of concentrating on the people or things that "survived" some process and inadvertently overlooking those that did not because of their lack of visibility.',dueDate:new Date,stability:0,difficulty:5,lapses:0,reps:0,state:"NEW"}];function rm(){localStorage.getItem(Yo)||localStorage.setItem(Yo,JSON.stringify(Dv)),localStorage.getItem(Hl)||localStorage.setItem(Hl,JSON.stringify(kv.map(i=>({...i,dueDate:i.dueDate.toISOString()}))))}function Uv(i){return i?JSON.parse(i).map(n=>({...n,dueDate:new Date(n.dueDate)})):[]}function Ou(){const i=new Date,n=i.getFullYear(),o=(i.getMonth()+1).toString().padStart(2,"0"),a=i.getDate().toString().padStart(2,"0");return`${n}-${o}-${a}`}const ve={getDecks:()=>{try{return rm(),JSON.parse(localStorage.getItem(Yo)||"[]")}catch(i){return ut.logError(i,je.STORAGE,$e.HIGH,{function:"getDecks"}),[]}},getCards:()=>{try{rm();const i=localStorage.getItem(Hl);return Uv(i)}catch(i){return ut.logError(i,je.STORAGE,$e.HIGH,{function:"getCards"}),[]}},getDueCardsForDeck:i=>{const n=ve.getCards(),o=new Date;return n.filter(a=>a.deckId===i&&a.dueDate<=o).sort((a,r)=>a.dueDate.getTime()-r.dueDate.getTime())},getWeakestCard:i=>{const o=ve.getCards().filter(a=>a.deckId===i);return o.length===0?null:o.sort((a,r)=>r.lapses!==a.lapses?r.lapses-a.lapses:a.reps-r.reps)[0]},updateCard:i=>{try{const n=ve.getCards(),o=n.findIndex(a=>a.id===i.id);o!==-1&&(n[o]=i,localStorage.setItem(Hl,JSON.stringify(n.map(a=>({...a,dueDate:a.dueDate.toISOString()})))))}catch(n){throw ut.logError(n,je.STORAGE,$e.CRITICAL,{function:"updateCard",cardId:i.id}),n}},findCardsByQuestion:(i,n)=>{const o=ve.getCards(),a=n.toLowerCase();return o.filter(r=>r.deckId===i&&r.question.toLowerCase().includes(a))},createDeck:i=>{try{const n=ve.getDecks(),o={id:`deck-${Date.now()}`,name:i},a=[...n,o];return localStorage.setItem(Yo,JSON.stringify(a)),o}catch(n){throw ut.logError(n,je.STORAGE,$e.HIGH,{function:"createDeck",deckName:i}),n}},deleteDeck:i=>{try{const n=ve.getDecks(),o=ve.getCards();if(!n.some(m=>m.id===i))return!1;const r=n.filter(m=>m.id!==i),d=o.filter(m=>m.deckId!==i);return localStorage.setItem(Yo,JSON.stringify(r)),localStorage.setItem(Hl,JSON.stringify(d.map(m=>({...m,dueDate:m.dueDate.toISOString()})))),!0}catch(n){return ut.logError(n,je.STORAGE,$e.HIGH,{function:"deleteDeck",deckId:i}),!1}},createCard:(i,n,o,a)=>{try{const r=ve.getCards(),d={id:`card-${Date.now()}`,deckId:i,question:n,answer:o,explanation:a,dueDate:new Date,stability:0,difficulty:3,lapses:0,reps:0,state:"NEW"},m=[...r,d];return localStorage.setItem(Hl,JSON.stringify(m.map(g=>({...g,dueDate:g.dueDate.toISOString()})))),d}catch(r){throw ut.logError(r,je.STORAGE,$e.HIGH,{function:"createCard",deckId:i,question:n.substring(0,50)}),r}},importDeckFromCsv:(i,n)=>{try{const o=n.split(`
`).filter(r=>r.trim()!==""),a=ve.createDeck(i);return o.forEach((r,d)=>{try{const m=r.split(/[,;]/).map(g=>g.trim().replace(/^"|"$/g,""));if(m.length>=2){const[g,y,h]=m;g&&y&&ve.createCard(a.id,g,y,h)}else console.warn(`Skipping malformed CSV line ${d+1}: ${r}`),ut.logError(`Malformed CSV line ${d+1}`,je.VALIDATION,$e.LOW,{line:r,index:d})}catch(m){ut.logError(m,je.STORAGE,$e.LOW,{function:"importDeckFromCsv",line:r,index:d})}}),a}catch(o){throw ut.logError(o,je.STORAGE,$e.HIGH,{function:"importDeckFromCsv",deckName:i}),o}},getStudyProgress:()=>{const i=localStorage.getItem(cs);if(!i)return null;const n=JSON.parse(i),o=Ou();return n.goal.type==="daily"&&n.date!==o&&(n.progress=0,n.date=o,localStorage.setItem(cs,JSON.stringify(n))),n},setStudyGoal:i=>{const n={goal:i,progress:0,date:Ou()};return localStorage.setItem(cs,JSON.stringify(n)),n},updateStudyProgress:i=>{const n=ve.getStudyProgress();n&&n.goal.type==="daily"&&(n.progress=i,n.date=Ou(),localStorage.setItem(cs,JSON.stringify(n)))},setVoicePreference:i=>{localStorage.setItem(am,i)},getVoicePreference:()=>localStorage.getItem(am),setConversationalMode:i=>{localStorage.setItem(sm,JSON.stringify(i))},getConversationalMode:()=>{const i=localStorage.getItem(sm);return i?JSON.parse(i):!1}},pn=[.89,1.37,4.04,9.48,4.55,.48,.9,0,1.62,.1,.95,1.95,.21,.89,.04,1.28,2.99];function Ko(i,n){const o=new Date(i);return o.setHours(0,0,0,0),o.setDate(o.getDate()+Math.round(n)),o}function Gv(i,n){const o=new Date;if(i.state==="NEW")return Lv(i,n,o);const a=i.stability,r=Math.exp(Math.log(.9)*a/i.stability);return i.state==="LEARNING"||i.state==="RELEARNING"?qv(i,n,o,r):i.state==="REVIEW"?wh(i,n,o,r):i}function Lv(i,n,o){const a={...i,reps:1,lapses:0,dueDate:o,difficulty:Math.max(1,Math.min(10,pn[4]-pn[5]*(n-3))),stability:pn[n-1]};return n===On.GOOD||n===On.EASY?(a.state="REVIEW",a.dueDate=Ko(o,a.stability)):(a.state="LEARNING",a.dueDate=Ko(o,1)),a}function qv(i,n,o,a){if(n===On.AGAIN||n===On.HARD)return{...i,dueDate:Ko(o,1)};const r={...i,state:"REVIEW"};return wh(r,n,o,a)}function wh(i,n,o,a){const r={...i,state:"REVIEW"};if(n===On.AGAIN){r.lapses+=1,r.state="RELEARNING";const y=pn[11]*Math.pow(i.difficulty,-.21)*(Math.pow(i.stability+1,pn[13])-1)*Math.exp((1-a)*pn[14]);return r.stability=Math.max(1,y),r.dueDate=Ko(o,1),r}r.reps+=1;const d=i.difficulty-pn[6]*(n-3);r.difficulty=Math.max(1,Math.min(10,d));let g=i.stability*(1+Math.exp(pn[8])*(11-r.difficulty)*Math.pow(i.stability,-.1)*(Math.exp((1-a)*pn[10])-1));return n===On.HARD?g*=pn[15]:n===On.EASY&&(g*=pn[16]),r.stability=Math.max(1,g),r.dueDate=Ko(o,r.stability),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Bv,Vv;function Hv(){return{geminiUrl:Bv,vertexUrl:Vv}}function zv(i,n,o,a){var r,d;if(!(i!=null&&i.baseUrl)){const m=Hv();return n?(r=m.vertexUrl)!==null&&r!==void 0?r:o:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xi{}function ae(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const d=n[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,n,o){for(let d=0;d<n.length-1;d++){const m=n[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];f(v,n.slice(d+1),o[h])}else for(const h of y)f(h,n.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],n.slice(d+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=n[n.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return o;const r=n[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>u(g,n.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function Pv(i,n){for(const[o,a]of Object.entries(n)){const r=o.split("."),d=a.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}Ku(i,r,d,0,m)}}function Ku(i,n,o,a,r){if(a>=n.length||typeof i!="object"||i===null)return;const d=n[a];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Ku(y,n,o,a+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const E=[];for(const A of o.slice(a))A==="*"?E.push(h):E.push(A);f(m,E,v)}for(const h of g)delete m[h]}}else{const m=i;d in m&&Ku(m[d],n,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ic(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ov(i){const n={},o=u(i,["operationName"]);o!=null&&f(n,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&f(n,["_url","resourceName"],a),n}function Jv(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const r=u(i,["done"]);r!=null&&f(n,["done"],r);const d=u(i,["error"]);d!=null&&f(n,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(n,["response"],Fv(m)),n}function Yv(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const r=u(i,["done"]);r!=null&&f(n,["done"],r);const d=u(i,["error"]);d!=null&&f(n,["error"],d);const m=u(i,["response"]);return m!=null&&f(n,["response"],Kv(m)),n}function Fv(i){const n={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Qv(m))),f(n,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(n,["raiMediaFilteredReasons"],r),n}function Kv(i){const n={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Xv(m))),f(n,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(n,["raiMediaFilteredReasons"],r),n}function Qv(i){const n={},o=u(i,["video"]);return o!=null&&f(n,["video"],$v(o)),n}function Xv(i){const n={},o=u(i,["_self"]);return o!=null&&f(n,["video"],jv(o)),n}function Zv(i){const n={},o=u(i,["operationName"]);return o!=null&&f(n,["_url","operationName"],o),n}function Wv(i){const n={},o=u(i,["operationName"]);return o!=null&&f(n,["_url","operationName"],o),n}function $v(i){const n={},o=u(i,["uri"]);o!=null&&f(n,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&f(n,["videoBytes"],ic(a));const r=u(i,["encoding"]);return r!=null&&f(n,["mimeType"],r),n}function jv(i){const n={},o=u(i,["gcsUri"]);o!=null&&f(n,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(n,["videoBytes"],ic(a));const r=u(i,["mimeType"]);return r!=null&&f(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var um;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(um||(um={}));var cm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(cm||(cm={}));var fm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(fm||(fm={}));var j;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(j||(j={}));var dm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dm||(dm={}));var pm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(pm||(pm={}));var mm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(mm||(mm={}));var hm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(hm||(hm={}));var gm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(gm||(gm={}));var ym;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ym||(ym={}));var vm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vm||(vm={}));var Tm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Tm||(Tm={}));var Sm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Sm||(Sm={}));var Em;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Em||(Em={}));var Cm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Cm||(Cm={}));var Am;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Am||(Am={}));var Yl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Yl||(Yl={}));var _m;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_m||(_m={}));var Qu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qu||(Qu={}));var xm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xm||(xm={}));var Nm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Nm||(Nm={}));var Rm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Rm||(Rm={}));var Mm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Mm||(Mm={}));var wm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(wm||(wm={}));var bm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(bm||(bm={}));var Im;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Im||(Im={}));var Dm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Dm||(Dm={}));var km;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(km||(km={}));var Um;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Um||(Um={}));var Gm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Gm||(Gm={}));var Lm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Lm||(Lm={}));var qm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qm||(qm={}));var Bm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bm||(Bm={}));var Vm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vm||(Vm={}));var Hm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Hm||(Hm={}));var zm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(zm||(zm={}));var Pm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Pm||(Pm={}));var Om;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Om||(Om={}));var Jm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Jm||(Jm={}));var Ym;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Ym||(Ym={}));var Fm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Fm||(Fm={}));var Km;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Km||(Km={}));var Qm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qm||(Qm={}));var Xm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xm||(Xm={}));var Zm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Zm||(Zm={}));var Wm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wm||(Wm={}));var $m;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($m||($m={}));var jm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(jm||(jm={}));var zl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(zl||(zl={}));class Xu{constructor(n){const o={};for(const a of n.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class Jo{get text(){var n,o,a,r,d,m,g,y;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const A of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,q]of Object.entries(A))R!=="text"&&R!=="thought"&&(q!==null||q!==void 0)&&E.push(R);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;v=!0,h+=A.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var n,o,a,r,d,m,g,y;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,R]of Object.entries(E))A!=="inlineData"&&(R!==null||R!==void 0)&&v.push(A);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,a,r,d,m,g,y;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,o,a,r,d,m,g,y,h;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,a,r,d,m,g,y,h;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class eh{}class th{}class e0{}class t0{}class n0{}class i0{}class nh{}class ih{}class lh{}class l0{}class gs{_fromAPIResponse({apiResponse:n,isVertexAI:o}){const a=new gs;let r;const d=n;return o?r=Yv(d):r=Jv(d),Object.assign(a,r),a}}class oh{}class ah{}class sh{}class o0{}class a0{}class s0{}class rh{}class r0{get text(){var n,o,a;let r="",d=!1;const m=[];for(const g of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var n,o,a;let r="";const d=[];for(const m of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class u0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function bh(i,n){const o=Ue(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Ih(i){return Array.isArray(i)?i.map(n=>ys(n)):[ys(i)]}function ys(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Dh(i){const n=ys(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function kh(i){const n=ys(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function uh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Uh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>uh(n)):[uh(i)]}function Zu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function ch(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function fh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Ct(i){if(i==null)throw new Error("ContentUnion is required");return Zu(i)?i:{role:"user",parts:Uh(i)}}function lc(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const a=Ct(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=Ct(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>Ct(o)):[Ct(n)]}function on(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(ch(i)||fh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(i)]}const n=[],o=[],a=Zu(i[0]);for(const r of i){const d=Zu(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(r);else{if(ch(r)||fh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||n.push({role:"user",parts:Uh(o)}),n}function c0(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)n.type=Object.values(j).includes(o[0].toUpperCase())?o[0].toUpperCase():j.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of o)n.anyOf.push({type:Object.values(j).includes(a.toUpperCase())?a.toUpperCase():j.TYPE_UNSPECIFIED})}}function Pl(i){const n={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,i=d[1]):d[1].type==="null"&&(n.nullable=!0,i=d[0])),i.type instanceof Array&&c0(i.type,n);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(j).includes(g.toUpperCase())?g.toUpperCase():j.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=Pl(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(Pl(h))}n[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=Pl(v);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=g}return n}function oc(i){return Pl(i)}function ac(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function sc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Fl(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Pl(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Pl(n.response));return i}function Kl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function f0(i,n,o,a=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function Jn(i,n){if(typeof n!="string")throw new Error("name must be a string");return f0(i,n,"cachedContents")}function Gh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ti(i){return ic(i)}function d0(i){return i!=null&&typeof i=="object"&&"name"in i}function p0(i){return i!=null&&typeof i=="object"&&"video"in i}function m0(i){return i!=null&&typeof i=="object"&&"uri"in i}function Lh(i){var n;let o;if(d0(i)&&(o=i.name),!(m0(i)&&(o=i.uri,o===void 0))&&!(p0(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function qh(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Bh(i){for(const n of["models","tunedModels","publisherModels"])if(h0(i,n))return i[n];return[]}function h0(i,n){return i!==null&&typeof i=="object"&&n in i}function g0(i,n={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function y0(i,n={}){const o=[],a=new Set;for(const r of i){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=g0(r,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Vh(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function v0(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Hh(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function Ql(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function zh(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T0(i){const n={},o=u(i,["responsesFile"]);o!=null&&f(n,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Z0(m))),f(n,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["inlinedEmbedContentResponses"],d)}return n}function S0(i){const n={},o=u(i,["predictionsFormat"]);o!=null&&f(n,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(n,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(n,["bigqueryUri"],r),n}function E0(i){const n={},o=u(i,["format"]);o!=null&&f(n,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(n,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(n,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function ms(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&f(n,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(n,["state"],zh(r));const d=u(i,["metadata","createTime"]);d!=null&&f(n,["createTime"],d);const m=u(i,["metadata","endTime"]);m!=null&&f(n,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&f(n,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(n,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&f(n,["dest"],T0(Hh(h))),n}function Wu(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["displayName"]);a!=null&&f(n,["displayName"],a);const r=u(i,["state"]);r!=null&&f(n,["state"],zh(r));const d=u(i,["error"]);d!=null&&f(n,["error"],d);const m=u(i,["createTime"]);m!=null&&f(n,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(n,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(n,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(n,["updateTime"],h);const v=u(i,["model"]);v!=null&&f(n,["model"],v);const E=u(i,["inputConfig"]);E!=null&&f(n,["src"],C0(E));const A=u(i,["outputConfig"]);return A!=null&&f(n,["dest"],S0(Hh(A))),n}function C0(i){const n={},o=u(i,["instancesFormat"]);o!=null&&f(n,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&f(n,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(n,["bigqueryUri"],r),n}function A0(i,n){const o={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(n,["fileName"]);a!=null&&f(o,["fileName"],a);const r=u(n,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>X0(i,m))),f(o,["requests","requests"],d)}return o}function _0(i){const n={},o=u(i,["format"]);o!=null&&f(n,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(n,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(n,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function x0(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["data"]);o!=null&&f(n,["data"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function N0(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Ql(i,a)),o}function R0(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Ql(i,a)),o}function M0(i){const n={},o=u(i,["content"]);o!=null&&f(n,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&f(n,["citationMetadata"],w0(a));const r=u(i,["tokenCount"]);r!=null&&f(n,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&f(n,["finishReason"],d);const m=u(i,["urlContextMetadata"]);m!=null&&f(n,["urlContextMetadata"],m);const g=u(i,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&f(n,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&f(n,["index"],h);const v=u(i,["logprobsResult"]);v!=null&&f(n,["logprobsResult"],v);const E=u(i,["safetyRatings"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(R=>R)),f(n,["safetyRatings"],A)}return n}function w0(i){const n={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(n,["citations"],a)}return n}function Ph(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>iT(d))),f(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function b0(i,n){const o={},a=u(i,["displayName"]);if(n!==void 0&&a!=null&&f(n,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function I0(i,n){const o={},a=u(i,["displayName"]);n!==void 0&&a!=null&&f(n,["displayName"],a);const r=u(i,["dest"]);return n!==void 0&&r!=null&&f(n,["outputConfig"],E0(v0(r))),o}function dh(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["src"]);r!=null&&f(o,["batch","inputConfig"],A0(i,Vh(i,r)));const d=u(n,["config"]);return d!=null&&b0(d,o),o}function D0(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["model"],Ue(i,a));const r=u(n,["src"]);r!=null&&f(o,["inputConfig"],_0(Vh(i,r)));const d=u(n,["config"]);return d!=null&&I0(d,o),o}function k0(i,n){const o={},a=u(i,["displayName"]);return n!==void 0&&a!=null&&f(n,["batch","displayName"],a),o}function U0(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["src"]);r!=null&&f(o,["batch","inputConfig"],z0(i,r));const d=u(n,["config"]);return d!=null&&k0(d,o),o}function G0(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Ql(i,a)),o}function L0(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Ql(i,a)),o}function q0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const r=u(i,["done"]);r!=null&&f(n,["done"],r);const d=u(i,["error"]);return d!=null&&f(n,["error"],d),n}function B0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const r=u(i,["done"]);r!=null&&f(n,["done"],r);const d=u(i,["error"]);return d!=null&&f(n,["error"],d),n}function V0(i,n){const o={},a=u(n,["contents"]);if(a!=null){let d=lc(i,a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["requests[]","request","content"],d)}const r=u(n,["config"]);return r!=null&&(f(o,["_self"],H0(r,o)),Pv(o,{"requests[].*":"requests[].request.*"})),o}function H0(i,n){const o={},a=u(i,["taskType"]);n!==void 0&&a!=null&&f(n,["requests[]","taskType"],a);const r=u(i,["title"]);n!==void 0&&r!=null&&f(n,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&f(n,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function z0(i,n){const o={},a=u(n,["fileName"]);a!=null&&f(o,["file_name"],a);const r=u(n,["inlinedRequests"]);return r!=null&&f(o,["requests"],V0(i,r)),o}function P0(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function O0(i,n,o){const a={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],Ph(Ct(r)));const d=u(n,["temperature"]);d!=null&&f(a,["temperature"],d);const m=u(n,["topP"]);m!=null&&f(a,["topP"],m);const g=u(n,["topK"]);g!=null&&f(a,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const E=u(n,["responseLogprobs"]);E!=null&&f(a,["responseLogprobs"],E);const A=u(n,["logprobs"]);A!=null&&f(a,["logprobs"],A);const R=u(n,["presencePenalty"]);R!=null&&f(a,["presencePenalty"],R);const q=u(n,["frequencyPenalty"]);q!=null&&f(a,["frequencyPenalty"],q);const G=u(n,["seed"]);G!=null&&f(a,["seed"],G);const X=u(n,["responseMimeType"]);X!=null&&f(a,["responseMimeType"],X);const J=u(n,["responseSchema"]);J!=null&&f(a,["responseSchema"],oc(J));const W=u(n,["responseJsonSchema"]);if(W!=null&&f(a,["responseJsonSchema"],W),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=u(n,["safetySettings"]);if(o!==void 0&&Q!=null){let me=Q;Array.isArray(me)&&(me=me.map(Ke=>lT(Ke))),f(o,["safetySettings"],me)}const ne=u(n,["tools"]);if(o!==void 0&&ne!=null){let me=Kl(ne);Array.isArray(me)&&(me=me.map(Ke=>oT(Fl(Ke)))),f(o,["tools"],me)}const se=u(n,["toolConfig"]);if(o!==void 0&&se!=null&&f(o,["toolConfig"],se),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=u(n,["cachedContent"]);o!==void 0&&ue!=null&&f(o,["cachedContent"],Jn(i,ue));const Y=u(n,["responseModalities"]);Y!=null&&f(a,["responseModalities"],Y);const he=u(n,["mediaResolution"]);he!=null&&f(a,["mediaResolution"],he);const F=u(n,["speechConfig"]);if(F!=null&&f(a,["speechConfig"],ac(F)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(n,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const Re=u(n,["imageConfig"]);return Re!=null&&f(a,["imageConfig"],Re),a}function J0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>M0(h))),f(n,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(n,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&f(n,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&f(n,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&f(n,["usageMetadata"],g),n}function Y0(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Ql(i,a)),o}function F0(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Ql(i,a)),o}function K0(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function Q0(i){const n={},o=u(i,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function X0(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["request","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let g=on(r);Array.isArray(g)&&(g=g.map(y=>Ph(y))),f(o,["request","contents"],g)}const d=u(n,["metadata"]);d!=null&&f(o,["metadata"],d);const m=u(n,["config"]);return m!=null&&f(o,["request","generationConfig"],O0(i,m,u(o,["request"],{}))),o}function Z0(i){const n={},o=u(i,["response"]);o!=null&&f(n,["response"],J0(o));const a=u(i,["error"]);return a!=null&&f(n,["error"],a),n}function W0(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(n!==void 0&&r!=null&&f(n,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function $0(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);n!==void 0&&r!=null&&f(n,["_query","pageToken"],r);const d=u(i,["filter"]);return n!==void 0&&d!=null&&f(n,["_query","filter"],d),o}function j0(i){const n={},o=u(i,["config"]);return o!=null&&W0(o,n),n}function eT(i){const n={},o=u(i,["config"]);return o!=null&&$0(o,n),n}function tT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>ms(m))),f(n,["batchJobs"],d)}return n}function nT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Wu(m))),f(n,["batchJobs"],d)}return n}function iT(i){const n={},o=u(i,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const a=u(i,["thought"]);a!=null&&f(n,["thought"],a);const r=u(i,["inlineData"]);r!=null&&f(n,["inlineData"],x0(r));const d=u(i,["fileData"]);d!=null&&f(n,["fileData"],P0(d));const m=u(i,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=u(i,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=u(i,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(i,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(i,["functionResponse"]);v!=null&&f(n,["functionResponse"],v);const E=u(i,["text"]);return E!=null&&f(n,["text"],E),n}function lT(i){const n={};if(u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["category"]);o!=null&&f(n,["category"],o);const a=u(i,["threshold"]);return a!=null&&f(n,["threshold"],a),n}function oT(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(n,["functionDeclarations"],h)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(n,["googleSearch"],Q0(a));const r=u(i,["googleSearchRetrieval"]);if(r!=null&&f(n,["googleSearchRetrieval"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["googleMaps"]);d!=null&&f(n,["googleMaps"],K0(d));const m=u(i,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=u(i,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=u(i,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qi;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Qi||(Qi={}));class Qo{constructor(n,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,a,r)}init(n,o,a){var r,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aT extends Xi{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Qo(Qi.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=dh(this.apiClient,n),a=o._url,r=ae("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const A=E.systemInstruction;delete E.systemInstruction;const R=E.request;R.systemInstruction=A,E.request=R}h.push(E)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(n),m=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(m)a.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=D0(this.apiClient,n);return g=ae("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Wu(v))}else{const h=dh(this.apiClient,n);return g=ae("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ms(v))}}async createEmbeddingsInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=U0(this.apiClient,n);return d=ae("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>ms(y))}}async get(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=F0(this.apiClient,n);return g=ae("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Wu(v))}else{const h=Y0(this.apiClient,n);return g=ae("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ms(v))}}async cancel(n){var o,a,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=R0(this.apiClient,n);m=ae("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=N0(this.apiClient,n);m=ae("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eT(n);return g=ae("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=nT(v),A=new rh;return Object.assign(A,E),A})}else{const h=j0(n);return g=ae("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=tT(v),A=new rh;return Object.assign(A,E),A})}}async delete(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=L0(this.apiClient,n);return g=ae("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>B0(v))}else{const h=G0(this.apiClient,n);return g=ae("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>q0(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["data"]);o!=null&&f(n,["data"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function ph(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>MT(d))),f(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function rT(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&f(n,["expireTime"],r);const d=u(i,["displayName"]);n!==void 0&&d!=null&&f(n,["displayName"],d);const m=u(i,["contents"]);if(n!==void 0&&m!=null){let v=on(m);Array.isArray(v)&&(v=v.map(E=>ph(E))),f(n,["contents"],v)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&f(n,["systemInstruction"],ph(Ct(g)));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>wT(E))),f(n,["tools"],v)}const h=u(i,["toolConfig"]);if(n!==void 0&&h!=null&&f(n,["toolConfig"],h),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function uT(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&f(n,["expireTime"],r);const d=u(i,["displayName"]);n!==void 0&&d!=null&&f(n,["displayName"],d);const m=u(i,["contents"]);if(n!==void 0&&m!=null){let E=on(m);Array.isArray(E)&&(E=E.map(A=>A)),f(n,["contents"],E)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&f(n,["systemInstruction"],Ct(g));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(A=>bT(A))),f(n,["tools"],E)}const h=u(i,["toolConfig"]);n!==void 0&&h!=null&&f(n,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return n!==void 0&&v!=null&&f(n,["encryption_spec","kmsKeyName"],v),o}function cT(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["model"],bh(i,a));const r=u(n,["config"]);return r!=null&&rT(r,o),o}function fT(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["model"],bh(i,a));const r=u(n,["config"]);return r!=null&&uT(r,o),o}function dT(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Jn(i,a)),o}function pT(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Jn(i,a)),o}function mT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function hT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function gT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function yT(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&f(n,["description"],o);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const r=u(i,["parameters"]);r!=null&&f(n,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(n,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&f(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&f(n,["responseJsonSchema"],g),n}function vT(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Jn(i,a)),o}function TT(i,n){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],Jn(i,a)),o}function ST(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function ET(i){const n={},o=u(i,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function CT(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&f(n,["_query","pageToken"],r),o}function AT(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&f(n,["_query","pageToken"],r),o}function _T(i){const n={},o=u(i,["config"]);return o!=null&&CT(o,n),n}function xT(i){const n={},o=u(i,["config"]);return o!=null&&AT(o,n),n}function NT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["cachedContents"],d)}return n}function RT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["cachedContents"],d)}return n}function MT(i){const n={},o=u(i,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const a=u(i,["thought"]);a!=null&&f(n,["thought"],a);const r=u(i,["inlineData"]);r!=null&&f(n,["inlineData"],sT(r));const d=u(i,["fileData"]);d!=null&&f(n,["fileData"],gT(d));const m=u(i,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=u(i,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=u(i,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(i,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(i,["functionResponse"]);v!=null&&f(n,["functionResponse"],v);const E=u(i,["text"]);return E!=null&&f(n,["text"],E),n}function wT(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(n,["functionDeclarations"],h)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(n,["googleSearch"],ET(a));const r=u(i,["googleSearchRetrieval"]);if(r!=null&&f(n,["googleSearchRetrieval"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["googleMaps"]);d!=null&&f(n,["googleMaps"],ST(d));const m=u(i,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=u(i,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=u(i,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}function bT(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(A=>yT(A))),f(n,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&f(n,["retrieval"],a);const r=u(i,["googleSearch"]);r!=null&&f(n,["googleSearch"],r);const d=u(i,["googleSearchRetrieval"]);d!=null&&f(n,["googleSearchRetrieval"],d);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(n,["enterpriseWebSearch"],m);const g=u(i,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const y=u(i,["urlContext"]);y!=null&&f(n,["urlContext"],y);const h=u(i,["computerUse"]);h!=null&&f(n,["computerUse"],h);const v=u(i,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function IT(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&f(n,["expireTime"],r),o}function DT(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&f(n,["expireTime"],r),o}function kT(i,n){const o={},a=u(n,["name"]);a!=null&&f(o,["_url","name"],Jn(i,a));const r=u(n,["config"]);return r!=null&&IT(r,o),o}function UT(i,n){const o={},a=u(n,["name"]);a!=null&&f(o,["_url","name"],Jn(i,a));const r=u(n,["config"]);return r!=null&&DT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GT extends Xi{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Qo(Qi.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=fT(this.apiClient,n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=cT(this.apiClient,n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=vT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=hT(v),A=new ah;return Object.assign(A,E),A})}else{const h=dT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=mT(v),A=new ah;return Object.assign(A,E),A})}}async update(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=UT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=kT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=xT(n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=RT(v),A=new sh;return Object.assign(A,E),A})}else{const h=_T(n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=NT(v),A=new sh;return Object.assign(A,E),A})}}}function mh(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(i){return this instanceof Fe?(this.v=i,this):new Fe(i)}function Ol(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,n||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(R){return function(q){return Promise.resolve(q).then(R,E)}}function g(R,q){a[R]&&(r[R]=function(G){return new Promise(function(X,J){d.push([R,G,X,J])>1||y(R,G)})},q&&(r[R]=q(r[R])))}function y(R,q){try{h(a[R](q))}catch(G){A(d[0][3],G)}}function h(R){R.value instanceof Fe?Promise.resolve(R.value.v).then(v,E):A(d[0][2],R)}function v(R){y("next",R)}function E(R){y("throw",R)}function A(R,q){R(q),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Fo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof mh=="function"?mh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(m){return new Promise(function(g,y){m=i[d](m),r(g,y,m.done,m.value)})}}function r(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LT(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:Oh(o)}function Oh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function qT(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function hh(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")n.push(i[a]),a++;else{const r=[];let d=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),d&&!Oh(i[a])&&(d=!1),a++;d?n.push(...r):n.pop()}return n}class BT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new VT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class VT{constructor(n,o,a,r={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),qT(d)}async sendMessage(n){var o;await this.sendPromise;const a=Ct(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await r,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let A=[];v!=null&&(A=(g=v.slice(E))!==null&&g!==void 0?g:[]);const R=h?[h]:[];this.recordHistory(a,R,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const a=Ct(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(n=!1){const o=n?hh(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var a,r;return Ol(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var E=!0,A=Fo(n),R;R=yield Fe(A.next()),m=R.done,!m;E=!0){h=R.value,E=!1;const q=h;if(LT(q)){const G=(r=(a=q.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;G!==void 0&&v.push(G)}yield yield Fe(q)}}catch(q){g={error:q}}finally{try{!E&&!m&&(y=A.return)&&(yield Fe(y.call(A)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(n,o,a){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...hh(a)):this.history.push(n),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vs extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,vs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HT(i){const n={},o=u(i,["file"]);return o!=null&&f(n,["file"],o),n}function zT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function PT(i){const n={},o=u(i,["name"]);return o!=null&&f(n,["_url","file"],Lh(o)),n}function OT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function JT(i){const n={},o=u(i,["name"]);return o!=null&&f(n,["_url","file"],Lh(o)),n}function YT(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&f(n,["_query","pageToken"],r),o}function FT(i){const n={},o=u(i,["config"]);return o!=null&&YT(o,n),n}function KT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QT extends Xi{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Qo(Qi.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FT(n);return d=ae("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=KT(y),v=new o0;return Object.assign(v,h),v})}}async createInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HT(n);return d=ae("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=zT(y),v=new a0;return Object.assign(v,h),v})}}async get(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JT(n);return d=ae("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PT(n);return d=ae("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=OT(y),v=new s0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hs(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["data"]);o!=null&&f(n,["data"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function XT(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>cS(d))),f(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function ZT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function WT(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&f(n,["description"],o);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const r=u(i,["parameters"]);r!=null&&f(n,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(n,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&f(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&f(n,["responseJsonSchema"],g),n}function $T(i){const n={},o=u(i,["modelSelectionConfig"]);o!=null&&f(n,["modelConfig"],o);const a=u(i,["audioTimestamp"]);a!=null&&f(n,["audioTimestamp"],a);const r=u(i,["candidateCount"]);r!=null&&f(n,["candidateCount"],r);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(n,["enableAffectiveDialog"],d);const m=u(i,["frequencyPenalty"]);m!=null&&f(n,["frequencyPenalty"],m);const g=u(i,["logprobs"]);g!=null&&f(n,["logprobs"],g);const y=u(i,["maxOutputTokens"]);y!=null&&f(n,["maxOutputTokens"],y);const h=u(i,["mediaResolution"]);h!=null&&f(n,["mediaResolution"],h);const v=u(i,["presencePenalty"]);v!=null&&f(n,["presencePenalty"],v);const E=u(i,["responseJsonSchema"]);E!=null&&f(n,["responseJsonSchema"],E);const A=u(i,["responseLogprobs"]);A!=null&&f(n,["responseLogprobs"],A);const R=u(i,["responseMimeType"]);R!=null&&f(n,["responseMimeType"],R);const q=u(i,["responseModalities"]);q!=null&&f(n,["responseModalities"],q);const G=u(i,["responseSchema"]);G!=null&&f(n,["responseSchema"],G);const X=u(i,["routingConfig"]);X!=null&&f(n,["routingConfig"],X);const J=u(i,["seed"]);J!=null&&f(n,["seed"],J);const W=u(i,["speechConfig"]);W!=null&&f(n,["speechConfig"],Jh(W));const Q=u(i,["stopSequences"]);Q!=null&&f(n,["stopSequences"],Q);const ne=u(i,["temperature"]);ne!=null&&f(n,["temperature"],ne);const se=u(i,["thinkingConfig"]);se!=null&&f(n,["thinkingConfig"],se);const ue=u(i,["topK"]);ue!=null&&f(n,["topK"],ue);const Y=u(i,["topP"]);if(Y!=null&&f(n,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function jT(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function eS(i){const n={},o=u(i,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function tS(i,n){const o={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&f(n,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&f(n,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);n!==void 0&&E!=null&&f(n,["setup","generationConfig","speechConfig"],sc(E));const A=u(i,["thinkingConfig"]);n!==void 0&&A!=null&&f(n,["setup","generationConfig","thinkingConfig"],A);const R=u(i,["enableAffectiveDialog"]);n!==void 0&&R!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],R);const q=u(i,["systemInstruction"]);n!==void 0&&q!=null&&f(n,["setup","systemInstruction"],XT(Ct(q)));const G=u(i,["tools"]);if(n!==void 0&&G!=null){let ue=Kl(G);Array.isArray(ue)&&(ue=ue.map(Y=>dS(Fl(Y)))),f(n,["setup","tools"],ue)}const X=u(i,["sessionResumption"]);n!==void 0&&X!=null&&f(n,["setup","sessionResumption"],fS(X));const J=u(i,["inputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","inputAudioTranscription"],J);const W=u(i,["outputAudioTranscription"]);n!==void 0&&W!=null&&f(n,["setup","outputAudioTranscription"],W);const Q=u(i,["realtimeInputConfig"]);n!==void 0&&Q!=null&&f(n,["setup","realtimeInputConfig"],Q);const ne=u(i,["contextWindowCompression"]);n!==void 0&&ne!=null&&f(n,["setup","contextWindowCompression"],ne);const se=u(i,["proactivity"]);return n!==void 0&&se!=null&&f(n,["setup","proactivity"],se),o}function nS(i,n){const o={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&f(n,["setup","generationConfig"],$T(a));const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&f(n,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);n!==void 0&&E!=null&&f(n,["setup","generationConfig","speechConfig"],Jh(sc(E)));const A=u(i,["thinkingConfig"]);n!==void 0&&A!=null&&f(n,["setup","generationConfig","thinkingConfig"],A);const R=u(i,["enableAffectiveDialog"]);n!==void 0&&R!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],R);const q=u(i,["systemInstruction"]);n!==void 0&&q!=null&&f(n,["setup","systemInstruction"],Ct(q));const G=u(i,["tools"]);if(n!==void 0&&G!=null){let ue=Kl(G);Array.isArray(ue)&&(ue=ue.map(Y=>pS(Fl(Y)))),f(n,["setup","tools"],ue)}const X=u(i,["sessionResumption"]);n!==void 0&&X!=null&&f(n,["setup","sessionResumption"],X);const J=u(i,["inputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","inputAudioTranscription"],J);const W=u(i,["outputAudioTranscription"]);n!==void 0&&W!=null&&f(n,["setup","outputAudioTranscription"],W);const Q=u(i,["realtimeInputConfig"]);n!==void 0&&Q!=null&&f(n,["setup","realtimeInputConfig"],Q);const ne=u(i,["contextWindowCompression"]);n!==void 0&&ne!=null&&f(n,["setup","contextWindowCompression"],ne);const se=u(i,["proactivity"]);return n!==void 0&&se!=null&&f(n,["setup","proactivity"],se),o}function iS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["setup","model"],Ue(i,a));const r=u(n,["config"]);return r!=null&&f(o,["config"],tS(r,o)),o}function lS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["setup","model"],Ue(i,a));const r=u(n,["config"]);return r!=null&&f(o,["config"],nS(r,o)),o}function oS(i){const n={},o=u(i,["musicGenerationConfig"]);return o!=null&&f(n,["musicGenerationConfig"],o),n}function aS(i){const n={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(n,["weightedPrompts"],a)}return n}function sS(i){const n={},o=u(i,["media"]);if(o!=null){let h=Ih(o);Array.isArray(h)&&(h=h.map(v=>hs(v))),f(n,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(n,["audio"],hs(kh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(n,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&f(n,["video"],hs(Dh(d)));const m=u(i,["text"]);m!=null&&f(n,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(n,["activityEnd"],y),n}function rS(i){const n={},o=u(i,["media"]);if(o!=null){let h=Ih(o);Array.isArray(h)&&(h=h.map(v=>v)),f(n,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(n,["audio"],kh(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(n,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&f(n,["video"],Dh(d));const m=u(i,["text"]);m!=null&&f(n,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(n,["activityEnd"],y),n}function uS(i){const n={},o=u(i,["setupComplete"]);o!=null&&f(n,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&f(n,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(n,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&f(n,["toolCallCancellation"],d);const m=u(i,["usageMetadata"]);m!=null&&f(n,["usageMetadata"],mS(m));const g=u(i,["goAway"]);g!=null&&f(n,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);return y!=null&&f(n,["sessionResumptionUpdate"],y),n}function cS(i){const n={},o=u(i,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const a=u(i,["thought"]);a!=null&&f(n,["thought"],a);const r=u(i,["inlineData"]);r!=null&&f(n,["inlineData"],hs(r));const d=u(i,["fileData"]);d!=null&&f(n,["fileData"],ZT(d));const m=u(i,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=u(i,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=u(i,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(i,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(i,["functionResponse"]);v!=null&&f(n,["functionResponse"],v);const E=u(i,["text"]);return E!=null&&f(n,["text"],E),n}function fS(i){const n={},o=u(i,["handle"]);if(o!=null&&f(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Jh(i){const n={},o=u(i,["voiceConfig"]);if(o!=null&&f(n,["voiceConfig"],o),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=u(i,["languageCode"]);return a!=null&&f(n,["languageCode"],a),n}function dS(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(n,["functionDeclarations"],h)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(n,["googleSearch"],eS(a));const r=u(i,["googleSearchRetrieval"]);if(r!=null&&f(n,["googleSearchRetrieval"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["googleMaps"]);d!=null&&f(n,["googleMaps"],jT(d));const m=u(i,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=u(i,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=u(i,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}function pS(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(A=>WT(A))),f(n,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&f(n,["retrieval"],a);const r=u(i,["googleSearch"]);r!=null&&f(n,["googleSearch"],r);const d=u(i,["googleSearchRetrieval"]);d!=null&&f(n,["googleSearchRetrieval"],d);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(n,["enterpriseWebSearch"],m);const g=u(i,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const y=u(i,["urlContext"]);y!=null&&f(n,["urlContext"],y);const h=u(i,["computerUse"]);h!=null&&f(n,["computerUse"],h);const v=u(i,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function mS(i){const n={},o=u(i,["promptTokenCount"]);o!=null&&f(n,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(n,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(n,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&f(n,["toolUsePromptTokenCount"],d);const m=u(i,["thoughtsTokenCount"]);m!=null&&f(n,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&f(n,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(q=>q)),f(n,["promptTokensDetails"],R)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let R=h;Array.isArray(R)&&(R=R.map(q=>q)),f(n,["cacheTokensDetails"],R)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(q=>q)),f(n,["responseTokensDetails"],R)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let R=E;Array.isArray(R)&&(R=R.map(q=>q)),f(n,["toolUsePromptTokensDetails"],R)}const A=u(i,["trafficType"]);return A!=null&&f(n,["trafficType"],A),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["data"]);o!=null&&f(n,["data"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function gS(i){const n={},o=u(i,["content"]);o!=null&&f(n,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&f(n,["citationMetadata"],yS(a));const r=u(i,["tokenCount"]);r!=null&&f(n,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&f(n,["finishReason"],d);const m=u(i,["urlContextMetadata"]);m!=null&&f(n,["urlContextMetadata"],m);const g=u(i,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&f(n,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&f(n,["index"],h);const v=u(i,["logprobsResult"]);v!=null&&f(n,["logprobsResult"],v);const E=u(i,["safetyRatings"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(R=>R)),f(n,["safetyRatings"],A)}return n}function yS(i){const n={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(n,["citations"],a)}return n}function vS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let d=on(r);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}return o}function TS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),f(n,["tokensInfo"],r)}return n}function SS(i){const n={},o=u(i,["values"]);o!=null&&f(n,["values"],o);const a=u(i,["statistics"]);return a!=null&&f(n,["statistics"],ES(a)),n}function ES(i){const n={},o=u(i,["truncated"]);o!=null&&f(n,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&f(n,["tokenCount"],a),n}function Ts(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>NE(d))),f(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function CS(i){const n={},o=u(i,["controlType"]);o!=null&&f(n,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(n,["computeControl"],a),n}function AS(i){const n={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function _S(i,n){const o={},a=u(i,["systemInstruction"]);n!==void 0&&a!=null&&f(n,["systemInstruction"],Ct(a));const r=u(i,["tools"]);if(n!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>Xh(g))),f(n,["tools"],m)}const d=u(i,["generationConfig"]);return n!==void 0&&d!=null&&f(n,["generationConfig"],pE(d)),o}function xS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let m=on(r);Array.isArray(m)&&(m=m.map(g=>Ts(g))),f(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&AS(d),o}function NS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let m=on(r);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&_S(d,o),o}function RS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&f(n,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(n,["cachedContentTokenCount"],r),n}function MS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&f(n,["totalTokens"],a),n}function wS(i,n){const o={},a=u(n,["model"]);return a!=null&&f(o,["_url","name"],Ue(i,a)),o}function bS(i,n){const o={},a=u(n,["model"]);return a!=null&&f(o,["_url","name"],Ue(i,a)),o}function IS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function DS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function kS(i,n){const o={},a=u(i,["outputGcsUri"]);n!==void 0&&a!=null&&f(n,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);n!==void 0&&r!=null&&f(n,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);n!==void 0&&d!=null&&f(n,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);n!==void 0&&m!=null&&f(n,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);n!==void 0&&g!=null&&f(n,["parameters","guidanceScale"],g);const y=u(i,["seed"]);n!==void 0&&y!=null&&f(n,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&f(n,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&f(n,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);n!==void 0&&A!=null&&f(n,["parameters","includeRaiReason"],A);const R=u(i,["language"]);n!==void 0&&R!=null&&f(n,["parameters","language"],R);const q=u(i,["outputMimeType"]);n!==void 0&&q!=null&&f(n,["parameters","outputOptions","mimeType"],q);const G=u(i,["outputCompressionQuality"]);n!==void 0&&G!=null&&f(n,["parameters","outputOptions","compressionQuality"],G);const X=u(i,["addWatermark"]);n!==void 0&&X!=null&&f(n,["parameters","addWatermark"],X);const J=u(i,["labels"]);n!==void 0&&J!=null&&f(n,["labels"],J);const W=u(i,["editMode"]);n!==void 0&&W!=null&&f(n,["parameters","editMode"],W);const Q=u(i,["baseSteps"]);return n!==void 0&&Q!=null&&f(n,["parameters","editConfig","baseSteps"],Q),o}function US(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=u(n,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>DE(y))),f(o,["instances[0]","referenceImages"],g)}const m=u(n,["config"]);return m!=null&&kS(m,o),o}function GS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Ss(d))),f(n,["generatedImages"],r)}return n}function LS(i,n){const o={},a=u(i,["taskType"]);n!==void 0&&a!=null&&f(n,["requests[]","taskType"],a);const r=u(i,["title"]);n!==void 0&&r!=null&&f(n,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&f(n,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function qS(i,n){const o={},a=u(i,["taskType"]);n!==void 0&&a!=null&&f(n,["instances[]","task_type"],a);const r=u(i,["title"]);n!==void 0&&r!=null&&f(n,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);n!==void 0&&d!=null&&f(n,["parameters","outputDimensionality"],d);const m=u(i,["mimeType"]);n!==void 0&&m!=null&&f(n,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return n!==void 0&&g!=null&&f(n,["parameters","autoTruncate"],g),o}function BS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let g=lc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),f(o,["requests[]","content"],g)}const d=u(n,["config"]);d!=null&&LS(d,o);const m=u(n,["model"]);return m!==void 0&&f(o,["requests[]","model"],Ue(i,m)),o}function VS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let m=lc(i,r);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["instances[]","content"],m)}const d=u(n,["config"]);return d!=null&&qS(d,o),o}function HS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&f(n,["metadata"],r),n}function zS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>SS(m))),f(n,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&f(n,["metadata"],r),n}function PS(i){const n={},o=u(i,["endpoint"]);o!=null&&f(n,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&f(n,["deployedModelId"],a),n}function OS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function JS(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&f(n,["description"],o);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const r=u(i,["parameters"]);r!=null&&f(n,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(n,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&f(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&f(n,["responseJsonSchema"],g),n}function YS(i,n,o){const a={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],Ts(Ct(r)));const d=u(n,["temperature"]);d!=null&&f(a,["temperature"],d);const m=u(n,["topP"]);m!=null&&f(a,["topP"],m);const g=u(n,["topK"]);g!=null&&f(a,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const E=u(n,["responseLogprobs"]);E!=null&&f(a,["responseLogprobs"],E);const A=u(n,["logprobs"]);A!=null&&f(a,["logprobs"],A);const R=u(n,["presencePenalty"]);R!=null&&f(a,["presencePenalty"],R);const q=u(n,["frequencyPenalty"]);q!=null&&f(a,["frequencyPenalty"],q);const G=u(n,["seed"]);G!=null&&f(a,["seed"],G);const X=u(n,["responseMimeType"]);X!=null&&f(a,["responseMimeType"],X);const J=u(n,["responseSchema"]);J!=null&&f(a,["responseSchema"],oc(J));const W=u(n,["responseJsonSchema"]);if(W!=null&&f(a,["responseJsonSchema"],W),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=u(n,["safetySettings"]);if(o!==void 0&&Q!=null){let me=Q;Array.isArray(me)&&(me=me.map(Ke=>kE(Ke))),f(o,["safetySettings"],me)}const ne=u(n,["tools"]);if(o!==void 0&&ne!=null){let me=Kl(ne);Array.isArray(me)&&(me=me.map(Ke=>VE(Fl(Ke)))),f(o,["tools"],me)}const se=u(n,["toolConfig"]);if(o!==void 0&&se!=null&&f(o,["toolConfig"],se),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=u(n,["cachedContent"]);o!==void 0&&ue!=null&&f(o,["cachedContent"],Jn(i,ue));const Y=u(n,["responseModalities"]);Y!=null&&f(a,["responseModalities"],Y);const he=u(n,["mediaResolution"]);he!=null&&f(a,["mediaResolution"],he);const F=u(n,["speechConfig"]);if(F!=null&&f(a,["speechConfig"],ac(F)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(n,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const Re=u(n,["imageConfig"]);return Re!=null&&f(a,["imageConfig"],Re),a}function FS(i,n,o){const a={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],Ct(r));const d=u(n,["temperature"]);d!=null&&f(a,["temperature"],d);const m=u(n,["topP"]);m!=null&&f(a,["topP"],m);const g=u(n,["topK"]);g!=null&&f(a,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const E=u(n,["responseLogprobs"]);E!=null&&f(a,["responseLogprobs"],E);const A=u(n,["logprobs"]);A!=null&&f(a,["logprobs"],A);const R=u(n,["presencePenalty"]);R!=null&&f(a,["presencePenalty"],R);const q=u(n,["frequencyPenalty"]);q!=null&&f(a,["frequencyPenalty"],q);const G=u(n,["seed"]);G!=null&&f(a,["seed"],G);const X=u(n,["responseMimeType"]);X!=null&&f(a,["responseMimeType"],X);const J=u(n,["responseSchema"]);J!=null&&f(a,["responseSchema"],oc(J));const W=u(n,["responseJsonSchema"]);W!=null&&f(a,["responseJsonSchema"],W);const Q=u(n,["routingConfig"]);Q!=null&&f(a,["routingConfig"],Q);const ne=u(n,["modelSelectionConfig"]);ne!=null&&f(a,["modelConfig"],ne);const se=u(n,["safetySettings"]);if(o!==void 0&&se!=null){let k=se;Array.isArray(k)&&(k=k.map(Z=>Z)),f(o,["safetySettings"],k)}const ue=u(n,["tools"]);if(o!==void 0&&ue!=null){let k=Kl(ue);Array.isArray(k)&&(k=k.map(Z=>Xh(Fl(Z)))),f(o,["tools"],k)}const Y=u(n,["toolConfig"]);o!==void 0&&Y!=null&&f(o,["toolConfig"],Y);const he=u(n,["labels"]);o!==void 0&&he!=null&&f(o,["labels"],he);const F=u(n,["cachedContent"]);o!==void 0&&F!=null&&f(o,["cachedContent"],Jn(i,F));const ce=u(n,["responseModalities"]);ce!=null&&f(a,["responseModalities"],ce);const Re=u(n,["mediaResolution"]);Re!=null&&f(a,["mediaResolution"],Re);const me=u(n,["speechConfig"]);me!=null&&f(a,["speechConfig"],Qh(ac(me)));const Ke=u(n,["audioTimestamp"]);Ke!=null&&f(a,["audioTimestamp"],Ke);const Xe=u(n,["thinkingConfig"]);Xe!=null&&f(a,["thinkingConfig"],Xe);const it=u(n,["imageConfig"]);return it!=null&&f(a,["imageConfig"],it),a}function gh(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let m=on(r);Array.isArray(m)&&(m=m.map(g=>Ts(g))),f(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&f(o,["generationConfig"],YS(i,d,o)),o}function yh(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["contents"]);if(r!=null){let m=on(r);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&f(o,["generationConfig"],FS(i,d,o)),o}function vh(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>gS(h))),f(n,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(n,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&f(n,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&f(n,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&f(n,["usageMetadata"],g),n}function Th(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),f(n,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&f(n,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&f(n,["modelVersion"],d);const m=u(i,["promptFeedback"]);m!=null&&f(n,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&f(n,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(n,["usageMetadata"],y),n}function KS(i,n){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);n!==void 0&&r!=null&&f(n,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(n!==void 0&&d!=null&&f(n,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&f(n,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&f(n,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);n!==void 0&&h!=null&&f(n,["parameters","includeRaiReason"],h);const v=u(i,["language"]);n!==void 0&&v!=null&&f(n,["parameters","language"],v);const E=u(i,["outputMimeType"]);n!==void 0&&E!=null&&f(n,["parameters","outputOptions","mimeType"],E);const A=u(i,["outputCompressionQuality"]);if(n!==void 0&&A!=null&&f(n,["parameters","outputOptions","compressionQuality"],A),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=u(i,["imageSize"]);if(n!==void 0&&R!=null&&f(n,["parameters","sampleImageSize"],R),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function QS(i,n){const o={},a=u(i,["outputGcsUri"]);n!==void 0&&a!=null&&f(n,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);n!==void 0&&r!=null&&f(n,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);n!==void 0&&d!=null&&f(n,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);n!==void 0&&m!=null&&f(n,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);n!==void 0&&g!=null&&f(n,["parameters","guidanceScale"],g);const y=u(i,["seed"]);n!==void 0&&y!=null&&f(n,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&f(n,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&f(n,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);n!==void 0&&A!=null&&f(n,["parameters","includeRaiReason"],A);const R=u(i,["language"]);n!==void 0&&R!=null&&f(n,["parameters","language"],R);const q=u(i,["outputMimeType"]);n!==void 0&&q!=null&&f(n,["parameters","outputOptions","mimeType"],q);const G=u(i,["outputCompressionQuality"]);n!==void 0&&G!=null&&f(n,["parameters","outputOptions","compressionQuality"],G);const X=u(i,["addWatermark"]);n!==void 0&&X!=null&&f(n,["parameters","addWatermark"],X);const J=u(i,["labels"]);n!==void 0&&J!=null&&f(n,["labels"],J);const W=u(i,["imageSize"]);n!==void 0&&W!=null&&f(n,["parameters","sampleImageSize"],W);const Q=u(i,["enhancePrompt"]);return n!==void 0&&Q!=null&&f(n,["parameters","enhancePrompt"],Q),o}function XS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=u(n,["config"]);return d!=null&&KS(d,o),o}function ZS(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=u(n,["config"]);return d!=null&&QS(d,o),o}function WS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>uE(m))),f(n,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(n,["positivePromptSafetyAttributes"],Fh(r)),n}function $S(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Ss(m))),f(n,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(n,["positivePromptSafetyAttributes"],Kh(r)),n}function jS(i,n){const o={},a=u(i,["numberOfVideos"]);if(n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(n!==void 0&&r!=null&&f(n,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);n!==void 0&&d!=null&&f(n,["parameters","aspectRatio"],d);const m=u(i,["resolution"]);n!==void 0&&m!=null&&f(n,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);n!==void 0&&y!=null&&f(n,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(n!==void 0&&h!=null&&f(n,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);n!==void 0&&v!=null&&f(n,["instances[0]","lastFrame"],Es(v));const E=u(i,["referenceImages"]);if(n!==void 0&&E!=null){let A=E;Array.isArray(A)&&(A=A.map(R=>$E(R))),f(n,["instances[0]","referenceImages"],A)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function eE(i,n){const o={},a=u(i,["numberOfVideos"]);n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&f(n,["parameters","storageUri"],r);const d=u(i,["fps"]);n!==void 0&&d!=null&&f(n,["parameters","fps"],d);const m=u(i,["durationSeconds"]);n!==void 0&&m!=null&&f(n,["parameters","durationSeconds"],m);const g=u(i,["seed"]);n!==void 0&&g!=null&&f(n,["parameters","seed"],g);const y=u(i,["aspectRatio"]);n!==void 0&&y!=null&&f(n,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);n!==void 0&&h!=null&&f(n,["parameters","resolution"],h);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const E=u(i,["pubsubTopic"]);n!==void 0&&E!=null&&f(n,["parameters","pubsubTopic"],E);const A=u(i,["negativePrompt"]);n!==void 0&&A!=null&&f(n,["parameters","negativePrompt"],A);const R=u(i,["enhancePrompt"]);n!==void 0&&R!=null&&f(n,["parameters","enhancePrompt"],R);const q=u(i,["generateAudio"]);n!==void 0&&q!=null&&f(n,["parameters","generateAudio"],q);const G=u(i,["lastFrame"]);n!==void 0&&G!=null&&f(n,["instances[0]","lastFrame"],mn(G));const X=u(i,["referenceImages"]);if(n!==void 0&&X!=null){let Q=X;Array.isArray(Q)&&(Q=Q.map(ne=>jE(ne))),f(n,["instances[0]","referenceImages"],Q)}const J=u(i,["mask"]);n!==void 0&&J!=null&&f(n,["instances[0]","mask"],WE(J));const W=u(i,["compressionQuality"]);return n!==void 0&&W!=null&&f(n,["parameters","compressionQuality"],W),o}function tE(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const r=u(i,["done"]);r!=null&&f(n,["done"],r);const d=u(i,["error"]);d!=null&&f(n,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(n,["response"],oE(m)),n}function nE(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const r=u(i,["done"]);r!=null&&f(n,["done"],r);const d=u(i,["error"]);d!=null&&f(n,["error"],d);const m=u(i,["response"]);return m!=null&&f(n,["response"],aE(m)),n}function iE(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=u(n,["image"]);d!=null&&f(o,["instances[0]","image"],Es(d));const m=u(n,["video"]);m!=null&&f(o,["instances[0]","video"],Zh(m));const g=u(n,["source"]);g!=null&&sE(g,o);const y=u(n,["config"]);return y!=null&&jS(y,o),o}function lE(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=u(n,["image"]);d!=null&&f(o,["instances[0]","image"],mn(d));const m=u(n,["video"]);m!=null&&f(o,["instances[0]","video"],Wh(m));const g=u(n,["source"]);g!=null&&rE(g,o);const y=u(n,["config"]);return y!=null&&eE(y,o),o}function oE(i){const n={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>fE(m))),f(n,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(n,["raiMediaFilteredReasons"],r),n}function aE(i){const n={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>dE(m))),f(n,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(n,["raiMediaFilteredReasons"],r),n}function sE(i,n){const o={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const r=u(i,["image"]);n!==void 0&&r!=null&&f(n,["instances[0]","image"],Es(r));const d=u(i,["video"]);return n!==void 0&&d!=null&&f(n,["instances[0]","video"],Zh(d)),o}function rE(i,n){const o={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const r=u(i,["image"]);n!==void 0&&r!=null&&f(n,["instances[0]","image"],mn(r));const d=u(i,["video"]);return n!==void 0&&d!=null&&f(n,["instances[0]","video"],Wh(d)),o}function uE(i){const n={},o=u(i,["_self"]);o!=null&&f(n,["image"],vE(o));const a=u(i,["raiFilteredReason"]);a!=null&&f(n,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&f(n,["safetyAttributes"],Fh(r)),n}function Ss(i){const n={},o=u(i,["_self"]);o!=null&&f(n,["image"],Yh(o));const a=u(i,["raiFilteredReason"]);a!=null&&f(n,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&f(n,["safetyAttributes"],Kh(r));const d=u(i,["prompt"]);return d!=null&&f(n,["enhancedPrompt"],d),n}function cE(i){const n={},o=u(i,["_self"]);o!=null&&f(n,["mask"],Yh(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),f(n,["labels"],r)}return n}function fE(i){const n={},o=u(i,["video"]);return o!=null&&f(n,["video"],XE(o)),n}function dE(i){const n={},o=u(i,["_self"]);return o!=null&&f(n,["video"],ZE(o)),n}function pE(i){const n={},o=u(i,["modelSelectionConfig"]);o!=null&&f(n,["modelConfig"],o);const a=u(i,["audioTimestamp"]);a!=null&&f(n,["audioTimestamp"],a);const r=u(i,["candidateCount"]);r!=null&&f(n,["candidateCount"],r);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(n,["enableAffectiveDialog"],d);const m=u(i,["frequencyPenalty"]);m!=null&&f(n,["frequencyPenalty"],m);const g=u(i,["logprobs"]);g!=null&&f(n,["logprobs"],g);const y=u(i,["maxOutputTokens"]);y!=null&&f(n,["maxOutputTokens"],y);const h=u(i,["mediaResolution"]);h!=null&&f(n,["mediaResolution"],h);const v=u(i,["presencePenalty"]);v!=null&&f(n,["presencePenalty"],v);const E=u(i,["responseJsonSchema"]);E!=null&&f(n,["responseJsonSchema"],E);const A=u(i,["responseLogprobs"]);A!=null&&f(n,["responseLogprobs"],A);const R=u(i,["responseMimeType"]);R!=null&&f(n,["responseMimeType"],R);const q=u(i,["responseModalities"]);q!=null&&f(n,["responseModalities"],q);const G=u(i,["responseSchema"]);G!=null&&f(n,["responseSchema"],G);const X=u(i,["routingConfig"]);X!=null&&f(n,["routingConfig"],X);const J=u(i,["seed"]);J!=null&&f(n,["seed"],J);const W=u(i,["speechConfig"]);W!=null&&f(n,["speechConfig"],Qh(W));const Q=u(i,["stopSequences"]);Q!=null&&f(n,["stopSequences"],Q);const ne=u(i,["temperature"]);ne!=null&&f(n,["temperature"],ne);const se=u(i,["thinkingConfig"]);se!=null&&f(n,["thinkingConfig"],se);const ue=u(i,["topK"]);ue!=null&&f(n,["topK"],ue);const Y=u(i,["topP"]);if(Y!=null&&f(n,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function mE(i,n){const o={},a=u(n,["model"]);return a!=null&&f(o,["_url","name"],Ue(i,a)),o}function hE(i,n){const o={},a=u(n,["model"]);return a!=null&&f(o,["_url","name"],Ue(i,a)),o}function gE(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function yE(i){const n={},o=u(i,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function vE(i){const n={},o=u(i,["bytesBase64Encoded"]);o!=null&&f(n,["imageBytes"],Ti(o));const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function Yh(i){const n={},o=u(i,["gcsUri"]);o!=null&&f(n,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(n,["imageBytes"],Ti(a));const r=u(i,["mimeType"]);return r!=null&&f(n,["mimeType"],r),n}function Es(i){const n={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&f(n,["bytesBase64Encoded"],Ti(o));const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function mn(i){const n={},o=u(i,["gcsUri"]);o!=null&&f(n,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&f(n,["bytesBase64Encoded"],Ti(a));const r=u(i,["mimeType"]);return r!=null&&f(n,["mimeType"],r),n}function TE(i,n,o){const a={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&f(o,["_query","pageSize"],r);const d=u(n,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const m=u(n,["filter"]);o!==void 0&&m!=null&&f(o,["_query","filter"],m);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],qh(i,g)),a}function SE(i,n,o){const a={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&f(o,["_query","pageSize"],r);const d=u(n,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const m=u(n,["filter"]);o!==void 0&&m!=null&&f(o,["_query","filter"],m);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],qh(i,g)),a}function EE(i,n){const o={},a=u(n,["config"]);return a!=null&&TE(i,a,o),o}function CE(i,n){const o={},a=u(n,["config"]);return a!=null&&SE(i,a,o),o}function AE(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=Bh(r);Array.isArray(d)&&(d=d.map(m=>$u(m))),f(n,["models"],d)}return n}function _E(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=Bh(r);Array.isArray(d)&&(d=d.map(m=>ju(m))),f(n,["models"],d)}return n}function xE(i){const n={},o=u(i,["maskMode"]);o!=null&&f(n,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&f(n,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&f(n,["dilation"],r),n}function $u(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["displayName"]);a!=null&&f(n,["displayName"],a);const r=u(i,["description"]);r!=null&&f(n,["description"],r);const d=u(i,["version"]);d!=null&&f(n,["version"],d);const m=u(i,["_self"]);m!=null&&f(n,["tunedModelInfo"],HE(m));const g=u(i,["inputTokenLimit"]);g!=null&&f(n,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&f(n,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);return h!=null&&f(n,["supportedActions"],h),n}function ju(i){const n={},o=u(i,["name"]);o!=null&&f(n,["name"],o);const a=u(i,["displayName"]);a!=null&&f(n,["displayName"],a);const r=u(i,["description"]);r!=null&&f(n,["description"],r);const d=u(i,["versionId"]);d!=null&&f(n,["version"],d);const m=u(i,["deployedModels"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(A=>PS(A))),f(n,["endpoints"],E)}const g=u(i,["labels"]);g!=null&&f(n,["labels"],g);const y=u(i,["_self"]);y!=null&&f(n,["tunedModelInfo"],zE(y));const h=u(i,["defaultCheckpointId"]);h!=null&&f(n,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(n,["checkpoints"],E)}return n}function NE(i){const n={},o=u(i,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const a=u(i,["thought"]);a!=null&&f(n,["thought"],a);const r=u(i,["inlineData"]);r!=null&&f(n,["inlineData"],hS(r));const d=u(i,["fileData"]);d!=null&&f(n,["fileData"],OS(d));const m=u(i,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=u(i,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=u(i,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(i,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(i,["functionResponse"]);v!=null&&f(n,["functionResponse"],v);const E=u(i,["text"]);return E!=null&&f(n,["text"],E),n}function RE(i){const n={},o=u(i,["productImage"]);return o!=null&&f(n,["image"],mn(o)),n}function ME(i,n){const o={},a=u(i,["numberOfImages"]);n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);n!==void 0&&r!=null&&f(n,["parameters","editConfig","baseSteps"],r);const d=u(i,["outputGcsUri"]);n!==void 0&&d!=null&&f(n,["parameters","storageUri"],d);const m=u(i,["seed"]);n!==void 0&&m!=null&&f(n,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);n!==void 0&&y!=null&&f(n,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);n!==void 0&&h!=null&&f(n,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);n!==void 0&&v!=null&&f(n,["parameters","outputOptions","mimeType"],v);const E=u(i,["outputCompressionQuality"]);n!==void 0&&E!=null&&f(n,["parameters","outputOptions","compressionQuality"],E);const A=u(i,["enhancePrompt"]);n!==void 0&&A!=null&&f(n,["parameters","enhancePrompt"],A);const R=u(i,["labels"]);return n!==void 0&&R!=null&&f(n,["labels"],R),o}function wE(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["source"]);r!=null&&IE(r,o);const d=u(n,["config"]);return d!=null&&ME(d,o),o}function bE(i){const n={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Ss(r))),f(n,["generatedImages"],a)}return n}function IE(i,n){const o={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const r=u(i,["personImage"]);n!==void 0&&r!=null&&f(n,["instances[0]","personImage","image"],mn(r));const d=u(i,["productImages"]);if(n!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>RE(g))),f(n,["instances[0]","productImages"],m)}return o}function DE(i){const n={},o=u(i,["referenceImage"]);o!=null&&f(n,["referenceImage"],mn(o));const a=u(i,["referenceId"]);a!=null&&f(n,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&f(n,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&f(n,["maskImageConfig"],xE(d));const m=u(i,["controlImageConfig"]);m!=null&&f(n,["controlImageConfig"],CS(m));const g=u(i,["styleImageConfig"]);g!=null&&f(n,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&f(n,["subjectImageConfig"],y),n}function Fh(i){const n={},o=u(i,["safetyAttributes","categories"]);o!=null&&f(n,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(n,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(n,["contentType"],r),n}function Kh(i){const n={},o=u(i,["safetyAttributes","categories"]);o!=null&&f(n,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(n,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(n,["contentType"],r),n}function kE(i){const n={};if(u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["category"]);o!=null&&f(n,["category"],o);const a=u(i,["threshold"]);return a!=null&&f(n,["threshold"],a),n}function UE(i){const n={},o=u(i,["image"]);return o!=null&&f(n,["image"],mn(o)),n}function GE(i,n){const o={},a=u(i,["mode"]);n!==void 0&&a!=null&&f(n,["parameters","mode"],a);const r=u(i,["maxPredictions"]);n!==void 0&&r!=null&&f(n,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);n!==void 0&&d!=null&&f(n,["parameters","confidenceThreshold"],d);const m=u(i,["maskDilation"]);n!==void 0&&m!=null&&f(n,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);n!==void 0&&g!=null&&f(n,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return n!==void 0&&y!=null&&f(n,["labels"],y),o}function LE(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["source"]);r!=null&&BE(r,o);const d=u(n,["config"]);return d!=null&&GE(d,o),o}function qE(i){const n={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>cE(r))),f(n,["generatedMasks"],a)}return n}function BE(i,n){const o={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const r=u(i,["image"]);n!==void 0&&r!=null&&f(n,["instances[0]","image"],mn(r));const d=u(i,["scribbleImage"]);return n!==void 0&&d!=null&&f(n,["instances[0]","scribble"],UE(d)),o}function Qh(i){const n={},o=u(i,["voiceConfig"]);if(o!=null&&f(n,["voiceConfig"],o),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=u(i,["languageCode"]);return a!=null&&f(n,["languageCode"],a),n}function VE(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(n,["functionDeclarations"],h)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(n,["googleSearch"],yE(a));const r=u(i,["googleSearchRetrieval"]);if(r!=null&&f(n,["googleSearchRetrieval"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["googleMaps"]);d!=null&&f(n,["googleMaps"],gE(d));const m=u(i,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=u(i,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=u(i,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}function Xh(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(A=>JS(A))),f(n,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&f(n,["retrieval"],a);const r=u(i,["googleSearch"]);r!=null&&f(n,["googleSearch"],r);const d=u(i,["googleSearchRetrieval"]);d!=null&&f(n,["googleSearchRetrieval"],d);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(n,["enterpriseWebSearch"],m);const g=u(i,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const y=u(i,["urlContext"]);y!=null&&f(n,["urlContext"],y);const h=u(i,["computerUse"]);h!=null&&f(n,["computerUse"],h);const v=u(i,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function HE(i){const n={},o=u(i,["baseModel"]);o!=null&&f(n,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&f(n,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(n,["updateTime"],r),n}function zE(i){const n={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(n,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&f(n,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(n,["updateTime"],r),n}function PE(i,n){const o={},a=u(i,["displayName"]);n!==void 0&&a!=null&&f(n,["displayName"],a);const r=u(i,["description"]);n!==void 0&&r!=null&&f(n,["description"],r);const d=u(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&f(n,["defaultCheckpointId"],d),o}function OE(i,n){const o={},a=u(i,["displayName"]);n!==void 0&&a!=null&&f(n,["displayName"],a);const r=u(i,["description"]);n!==void 0&&r!=null&&f(n,["description"],r);const d=u(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&f(n,["defaultCheckpointId"],d),o}function JE(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","name"],Ue(i,a));const r=u(n,["config"]);return r!=null&&PE(r,o),o}function YE(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["config"]);return r!=null&&OE(r,o),o}function FE(i,n){const o={},a=u(i,["outputGcsUri"]);n!==void 0&&a!=null&&f(n,["parameters","storageUri"],a);const r=u(i,["includeRaiReason"]);n!==void 0&&r!=null&&f(n,["parameters","includeRaiReason"],r);const d=u(i,["outputMimeType"]);n!==void 0&&d!=null&&f(n,["parameters","outputOptions","mimeType"],d);const m=u(i,["outputCompressionQuality"]);n!==void 0&&m!=null&&f(n,["parameters","outputOptions","compressionQuality"],m);const g=u(i,["enhanceInputImage"]);n!==void 0&&g!=null&&f(n,["parameters","upscaleConfig","enhanceInputImage"],g);const y=u(i,["imagePreservationFactor"]);n!==void 0&&y!=null&&f(n,["parameters","upscaleConfig","imagePreservationFactor"],y);const h=u(i,["labels"]);n!==void 0&&h!=null&&f(n,["labels"],h);const v=u(i,["numberOfImages"]);n!==void 0&&v!=null&&f(n,["parameters","sampleCount"],v);const E=u(i,["mode"]);return n!==void 0&&E!=null&&f(n,["parameters","mode"],E),o}function KE(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["_url","model"],Ue(i,a));const r=u(n,["image"]);r!=null&&f(o,["instances[0]","image"],mn(r));const d=u(n,["upscaleFactor"]);d!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=u(n,["config"]);return m!=null&&FE(m,o),o}function QE(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Ss(d))),f(n,["generatedImages"],r)}return n}function XE(i){const n={},o=u(i,["uri"]);o!=null&&f(n,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&f(n,["videoBytes"],Ti(a));const r=u(i,["encoding"]);return r!=null&&f(n,["mimeType"],r),n}function ZE(i){const n={},o=u(i,["gcsUri"]);o!=null&&f(n,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(n,["videoBytes"],Ti(a));const r=u(i,["mimeType"]);return r!=null&&f(n,["mimeType"],r),n}function WE(i){const n={},o=u(i,["image"]);o!=null&&f(n,["_self"],mn(o));const a=u(i,["maskMode"]);return a!=null&&f(n,["maskMode"],a),n}function $E(i){const n={},o=u(i,["image"]);o!=null&&f(n,["image"],Es(o));const a=u(i,["referenceType"]);return a!=null&&f(n,["referenceType"],a),n}function jE(i){const n={},o=u(i,["image"]);o!=null&&f(n,["image"],mn(o));const a=u(i,["referenceType"]);return a!=null&&f(n,["referenceType"],a),n}function Zh(i){const n={},o=u(i,["uri"]);o!=null&&f(n,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&f(n,["encodedVideo"],Ti(a));const r=u(i,["mimeType"]);return r!=null&&f(n,["encoding"],r),n}function Wh(i){const n={},o=u(i,["uri"]);o!=null&&f(n,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&f(n,["bytesBase64Encoded"],Ti(a));const r=u(i,["mimeType"]);return r!=null&&f(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eC="Content-Type",tC="X-Server-Timeout",nC="User-Agent",ec="x-goog-api-client",iC="1.27.0",lC=`google-genai-sdk/${iC}`,oC="v1beta1",aC="v1beta",Sh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class sC{constructor(n){var o,a;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:oC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:aC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,a);if(n.queryParams)for(const[m,g]of Object.entries(n.queryParams))r.searchParams.append(m,String(g));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.unaryApiCall(r,d,n.httpMethod)}patchHttpOptions(n,o){const a=JSON.parse(JSON.stringify(n));for(const[r,d]of Object.entries(o))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.streamApiCall(r,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,a,r){if(o&&o.timeout||r){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),n.signal=m}return o&&o.extraBody!==null&&rC(n,o.extraBody),n.headers=await this.getHeadersInternal(o,a),n}async unaryApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Eh(r),new Xu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Eh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var o;return Ol(this,arguments,function*(){const r=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Fe(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const E=JSON.parse(h);if("error"in E){const A=JSON.parse(JSON.stringify(E.error)),R=A.status,q=A.code,G=`got status: ${R}. ${JSON.stringify(E)}`;if(q>=400&&q<600)throw new vs({message:G,status:q})}}catch(E){if(E.name==="ApiError")throw E}m+=h;let v=m.match(Sh);for(;v;){const E=v[1];try{const A=new Response(E,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Fe(new Xu(A)),m=m.slice(v[0].length),v=m.match(Sh)}catch(A){throw new Error(`exception parsing stream chunk ${E}. ${A}`)}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},o=lC+" "+this.clientOptions.userAgentExtra;return n[nC]=o,n[ec]=o,n[eC]="application/json",n}async getHeadersInternal(n,o){const a=new Headers;if(n&&n.headers){for(const[r,d]of Object.entries(n.headers))a.append(r,d);n.timeout&&n.timeout>0&&a.append(tC,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}async uploadFile(n,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,m=await d.stat(n);r.sizeBytes=String(m.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y=await this.fetchUploadUrl(r,o);return d.upload(n,y,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o){var a;let r={};o!=null&&o.httpOptions?r=o.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const d={file:n},m=await this.request({path:ae("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:r});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Eh(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new vs({message:r,status:o}):new Error(r)}}function rC(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,n);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uC="mcp_used/unknown";let cC=!1;function $h(i){for(const n of i)if(fC(n)||typeof n=="object"&&"inputSchema"in n)return!0;return cC}function jh(i){var n;const o=(n=i[ec])!==null&&n!==void 0?n:"";i[ec]=(o+` ${uC}`).trimStart()}function fC(i){return i!==null&&typeof i=="object"&&i instanceof rc}function dC(i,n=100){return Ol(this,arguments,function*(){let a,r=0;for(;r<n;){const d=yield Fe(i.listTools({cursor:a}));for(const m of d.tools)yield yield Fe(m),r++;if(!d.nextCursor)break;a=d.nextCursor}})}class rc{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new rc(n,o)}async initialize(){var n,o,a,r;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Fo(dC(v))),h;h=await y.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const E=r;m.push(E);const A=E.name;if(d[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);d[A]=v}}catch(E){o={error:E}}finally{try{!g&&!n&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),y0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pC(i,n,o){const a=new u0;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),n(a)}class mC{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a}async connect(n){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=yC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(Q=>{h=Q}),E=n.callbacks,A=function(){h({})},R=this.apiClient,q={onopen:A,onmessage:Q=>{pC(R,E.onmessage,Q)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(Q){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(Q){}},G=this.webSocketFactory.create(y,gC(m),q);G.connect(),await v;const W={setup:{model:Ue(this.apiClient,n.model)}};return G.send(JSON.stringify(W)),new hC(G,this.apiClient)}}class hC{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=aS(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=oS(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(zl.PLAY)}pause(){this.sendPlaybackControl(zl.PAUSE)}stop(){this.sendPlaybackControl(zl.STOP)}resetContext(){this.sendPlaybackControl(zl.RESET_CONTEXT)}close(){this.conn.close()}}function gC(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function yC(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TC(i,n,o){const a=new r0;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const m=uS(d);Object.assign(a,m)}else Object.assign(a,d);n(a)}class SC{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a,this.music=new mC(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,a,r,d,m,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();n.config&&n.config.tools&&$h(n.config.tools)&&jh(E);const A=_C(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A,v);else{const F=this.apiClient.getApiKey();let ce="BidiGenerateContent",Re="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",Re="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ce}?${Re}=${F}`}let R=()=>{};const q=new Promise(F=>{R=F}),G=n.callbacks,X=function(){var F;(F=G==null?void 0:G.onopen)===null||F===void 0||F.call(G),R({})},J=this.apiClient,W={onopen:X,onmessage:F=>{TC(J,G.onmessage,F)},onerror:(o=G==null?void 0:G.onerror)!==null&&o!==void 0?o:function(F){},onclose:(a=G==null?void 0:G.onclose)!==null&&a!==void 0?a:function(F){}},Q=this.webSocketFactory.create(v,AC(A),W);Q.connect(),await q;let ne=Ue(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&ne.startsWith("publishers/")){const F=this.apiClient.getProject(),ce=this.apiClient.getLocation();ne=`projects/${F}/locations/${ce}/`+ne}let se={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Yl.AUDIO]}:n.config.responseModalities=[Yl.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ue=(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Y=[];for(const F of ue)if(this.isCallableTool(F)){const ce=F;Y.push(await ce.tool())}else Y.push(F);Y.length>0&&(n.config.tools=Y);const he={model:ne,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?se=lS(this.apiClient,he):se=iS(this.apiClient,he),delete se.config,Q.send(JSON.stringify(se)),new CC(Q,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const EC={turnComplete:!0};class CC{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=on(o.turns),n.isVertexAI()||(a=a.map(r=>Ts(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(vC)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},EC),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:rS(n)}:o={realtimeInput:sS(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function AC(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function _C(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ch=10;function Ah(i){var n,o,a;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Jl(m)){r=!0;break}if(!r)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Jl(i){return"callTool"in i&&typeof i.callTool=="function"}function xC(i){var n,o,a;return(a=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>Jl(r)))!==null&&a!==void 0?a:!1}function NC(i){var n,o,a;return(a=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>!Jl(r)))!==null&&a!==void 0?a:!1}function _h(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends Xi{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var a,r,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!xC(o)||Ah(o.config))return await this.generateContentInternal(y);if(NC(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const E=on(y.contents),A=(d=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:Ch;let R=0;for(;R<A&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const q=h.candidates[0].content,G=[];for(const X of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Jl(X)){const W=await X.callTool(h.functionCalls);G.push(...W)}R++,v={role:"user",parts:G},y.contents=on(y.contents),y.contents.push(q),y.contents.push(v),_h(y.config)&&(E.push(q),E.push(v))}return _h(y.config)&&(h.automaticFunctionCallingHistory=E),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Ah(o.config)){const a=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Qo(Qi.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,d,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,a,r;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const m=await Promise.all(d.map(async y=>Jl(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(g.config.tools=m,n.config&&n.config.tools&&$h(n.config.tools)){const y=(r=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),jh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,a,r;const d=new Map;for(const m of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Jl(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(n){var o,a,r;const d=(r=(a=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Ch;let m=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,v,E){var A,R;return Ol(this,arguments,function*(){for(var q,G,X,J;g<d;){m&&(g++,m=!1);const se=yield Fe(h.processParamsMaybeAddMcpUsage(E)),ue=yield Fe(h.generateContentStreamInternal(se)),Y=[],he=[];try{for(var W=!0,Q=(G=void 0,Fo(ue)),ne;ne=yield Fe(Q.next()),q=ne.done,!q;W=!0){J=ne.value,W=!1;const F=J;if(yield yield Fe(F),F.candidates&&(!((A=F.candidates[0])===null||A===void 0)&&A.content)){he.push(F.candidates[0].content);for(const ce of(R=F.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<d&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ce.functionCall.name)){const Re=yield Fe(v.get(ce.functionCall.name).callTool([ce.functionCall]));Y.push(...Re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(F){G={error:F}}finally{try{!W&&!q&&(X=Q.return)&&(yield Fe(X.call(Q)))}finally{if(G)throw G.error}}if(Y.length>0){m=!0;const F=new Jo;F.candidates=[{content:{role:"user",parts:Y}}],yield yield Fe(F);const ce=[];ce.push(...he),ce.push({role:"user",parts:Y});const Re=on(E.contents).concat(ce);E.contents=Re}else break}})})(this,y,n)}async generateContentInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=yh(this.apiClient,n);return g=ae("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=Th(v),A=new Jo;return Object.assign(A,E),A})}else{const h=gh(this.apiClient,n);return g=ae("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=vh(v),A=new Jo;return Object.assign(A,E),A})}}async generateContentStreamInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=yh(this.apiClient,n);return g=ae("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(E){return Ol(this,arguments,function*(){var A,R,q,G;try{for(var X=!0,J=Fo(E),W;W=yield Fe(J.next()),A=W.done,!A;X=!0){G=W.value,X=!1;const Q=G,ne=Th(yield Fe(Q.json()));ne.sdkHttpResponse={headers:Q.headers};const se=new Jo;Object.assign(se,ne),yield yield Fe(se)}}catch(Q){R={error:Q}}finally{try{!X&&!A&&(q=J.return)&&(yield Fe(q.call(J)))}finally{if(R)throw R.error}}})})}else{const h=gh(this.apiClient,n);return g=ae("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(E){return Ol(this,arguments,function*(){var A,R,q,G;try{for(var X=!0,J=Fo(E),W;W=yield Fe(J.next()),A=W.done,!A;X=!0){G=W.value,X=!1;const Q=G,ne=vh(yield Fe(Q.json()));ne.sdkHttpResponse={headers:Q.headers};const se=new Jo;Object.assign(se,ne),yield yield Fe(se)}}catch(Q){R={error:Q}}finally{try{!X&&!A&&(q=J.return)&&(yield Fe(q.call(J)))}finally{if(R)throw R.error}}})})}}async embedContent(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=VS(this.apiClient,n);return g=ae("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=zS(v),A=new eh;return Object.assign(A,E),A})}else{const h=BS(this.apiClient,n);return g=ae("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=HS(v),A=new eh;return Object.assign(A,E),A})}}async generateImagesInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZS(this.apiClient,n);return g=ae("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=$S(v),A=new th;return Object.assign(A,E),A})}else{const h=XS(this.apiClient,n);return g=ae("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=WS(v),A=new th;return Object.assign(A,E),A})}}async editImageInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=US(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=GS(y),v=new e0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=KE(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=QE(y),v=new t0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=wE(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=bE(y),v=new n0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=qE(y),v=new i0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=hE(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ju(v))}else{const h=mE(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>$u(v))}}async listInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=CE(this.apiClient,n);return g=ae("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=_E(v),A=new nh;return Object.assign(A,E),A})}else{const h=EE(this.apiClient,n);return g=ae("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=AE(v),A=new nh;return Object.assign(A,E),A})}}async update(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=YE(this.apiClient,n);return g=ae("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ju(v))}else{const h=JE(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>$u(v))}}async delete(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bS(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=DS(v),A=new ih;return Object.assign(A,E),A})}else{const h=wS(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=IS(v),A=new ih;return Object.assign(A,E),A})}}async countTokens(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=NS(this.apiClient,n);return g=ae("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=MS(v),A=new lh;return Object.assign(A,E),A})}else{const h=xS(this.apiClient,n);return g=ae("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=RS(v),A=new lh;return Object.assign(A,E),A})}}async computeTokens(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=vS(this.apiClient,n);return d=ae("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=TS(y),v=new l0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=lE(this.apiClient,n);return g=ae("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const E=nE(v),A=new gs;return Object.assign(A,E),A})}else{const h=iE(this.apiClient,n);return g=ae("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const E=tE(v),A=new gs;return Object.assign(A,E),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MC extends Xi{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Wv(n);return g=ae("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const h=Zv(n);return g=ae("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Ov(n);return d=ae("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["data"]);o!=null&&f(n,["data"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function bC(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>BC(d))),f(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function IC(i,n,o){const a={},r=u(n,["expireTime"]);o!==void 0&&r!=null&&f(o,["expireTime"],r);const d=u(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&f(o,["newSessionExpireTime"],d);const m=u(n,["uses"]);o!==void 0&&m!=null&&f(o,["uses"],m);const g=u(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],qC(i,g));const y=u(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function DC(i,n){const o={},a=u(n,["config"]);return a!=null&&f(o,["config"],IC(i,a,o)),o}function kC(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function UC(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function GC(i){const n={},o=u(i,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function LC(i,n){const o={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&f(n,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&f(n,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);n!==void 0&&E!=null&&f(n,["setup","generationConfig","speechConfig"],sc(E));const A=u(i,["thinkingConfig"]);n!==void 0&&A!=null&&f(n,["setup","generationConfig","thinkingConfig"],A);const R=u(i,["enableAffectiveDialog"]);n!==void 0&&R!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],R);const q=u(i,["systemInstruction"]);n!==void 0&&q!=null&&f(n,["setup","systemInstruction"],bC(Ct(q)));const G=u(i,["tools"]);if(n!==void 0&&G!=null){let ue=Kl(G);Array.isArray(ue)&&(ue=ue.map(Y=>HC(Fl(Y)))),f(n,["setup","tools"],ue)}const X=u(i,["sessionResumption"]);n!==void 0&&X!=null&&f(n,["setup","sessionResumption"],VC(X));const J=u(i,["inputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","inputAudioTranscription"],J);const W=u(i,["outputAudioTranscription"]);n!==void 0&&W!=null&&f(n,["setup","outputAudioTranscription"],W);const Q=u(i,["realtimeInputConfig"]);n!==void 0&&Q!=null&&f(n,["setup","realtimeInputConfig"],Q);const ne=u(i,["contextWindowCompression"]);n!==void 0&&ne!=null&&f(n,["setup","contextWindowCompression"],ne);const se=u(i,["proactivity"]);return n!==void 0&&se!=null&&f(n,["setup","proactivity"],se),o}function qC(i,n){const o={},a=u(n,["model"]);a!=null&&f(o,["setup","model"],Ue(i,a));const r=u(n,["config"]);return r!=null&&f(o,["config"],LC(r,o)),o}function BC(i){const n={},o=u(i,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const a=u(i,["thought"]);a!=null&&f(n,["thought"],a);const r=u(i,["inlineData"]);r!=null&&f(n,["inlineData"],wC(r));const d=u(i,["fileData"]);d!=null&&f(n,["fileData"],kC(d));const m=u(i,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=u(i,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=u(i,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(i,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(i,["functionResponse"]);v!=null&&f(n,["functionResponse"],v);const E=u(i,["text"]);return E!=null&&f(n,["text"],E),n}function VC(i){const n={},o=u(i,["handle"]);if(o!=null&&f(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function HC(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(n,["functionDeclarations"],h)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(n,["googleSearch"],GC(a));const r=u(i,["googleSearchRetrieval"]);if(r!=null&&f(n,["googleSearchRetrieval"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["googleMaps"]);d!=null&&f(n,["googleMaps"],UC(d));const m=u(i,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=u(i,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=u(i,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${o}.${d}`);n.push(...r)}else n.push(o)}return n.join(",")}function PC(i,n){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=zC(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class OC extends Xi{constructor(n){super(),this.apiClient=n}async create(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=DC(this.apiClient,n);d=ae("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=PC(g,n.config);return r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(i,n){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function YC(i,n){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function FC(i,n,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&f(n,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);n!==void 0&&d!=null&&f(n,["tuningTask","hyperparameters","epochCount"],d);const m=u(i,["learningRateMultiplier"]);if(m!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(n!==void 0&&y!=null&&f(n,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return a}function KC(i,n,o){const a={},r=u(i,["validationDataset"]);n!==void 0&&r!=null&&f(n,["supervisedTuningSpec"],rA(r));const d=u(i,["tunedModelDisplayName"]);n!==void 0&&d!=null&&f(n,["tunedModelDisplayName"],d);const m=u(i,["description"]);n!==void 0&&m!=null&&f(n,["description"],m);const g=u(i,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const y=u(i,["learningRateMultiplier"]);n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=u(i,["exportLastCheckpointOnly"]);n!==void 0&&h!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const v=u(i,["adapterSize"]);if(n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],v),u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(i,["labels"]);return n!==void 0&&E!=null&&f(n,["labels"],E),a}function QC(i,n){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&f(o,["tuningTask","trainingData"],oA(d));const m=u(i,["config"]);return m!=null&&FC(m,o),o}function XC(i,n){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&aA(d,o);const m=u(i,["config"]);return m!=null&&KC(m,o),o}function ZC(i,n){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function WC(i,n){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function $C(i,n,o){const a={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const d=u(i,["pageToken"]);n!==void 0&&d!=null&&f(n,["_query","pageToken"],d);const m=u(i,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),a}function jC(i,n,o){const a={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const d=u(i,["pageToken"]);n!==void 0&&d!=null&&f(n,["_query","pageToken"],d);const m=u(i,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),a}function eA(i,n){const o={},a=u(i,["config"]);return a!=null&&$C(a,o),o}function tA(i,n){const o={},a=u(i,["config"]);return a!=null&&jC(a,o),o}function nA(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>eg(g))),f(o,["tuningJobs"],m)}return o}function iA(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>tc(g))),f(o,["tuningJobs"],m)}return o}function lA(i,n){const o={},a=u(i,["name"]);a!=null&&f(o,["model"],a);const r=u(i,["name"]);return r!=null&&f(o,["endpoint"],r),o}function oA(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),f(o,["examples","examples"],r)}return o}function aA(i,n,o){const a={},r=u(i,["gcsUri"]);n!==void 0&&r!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],r);const d=u(i,["vertexDatasetResource"]);if(n!==void 0&&d!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],d),u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function eg(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const d=u(i,["state"]);d!=null&&f(o,["state"],Gh(d));const m=u(i,["createTime"]);m!=null&&f(o,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&f(o,["description"],v);const E=u(i,["baseModel"]);E!=null&&f(o,["baseModel"],E);const A=u(i,["_self"]);return A!=null&&f(o,["tunedModel"],lA(A)),o}function tc(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const d=u(i,["state"]);d!=null&&f(o,["state"],Gh(d));const m=u(i,["createTime"]);m!=null&&f(o,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&f(o,["error"],v);const E=u(i,["description"]);E!=null&&f(o,["description"],E);const A=u(i,["baseModel"]);A!=null&&f(o,["baseModel"],A);const R=u(i,["tunedModel"]);R!=null&&f(o,["tunedModel"],R);const q=u(i,["preTunedModel"]);q!=null&&f(o,["preTunedModel"],q);const G=u(i,["supervisedTuningSpec"]);G!=null&&f(o,["supervisedTuningSpec"],G);const X=u(i,["tuningDataStats"]);X!=null&&f(o,["tuningDataStats"],X);const J=u(i,["encryptionSpec"]);J!=null&&f(o,["encryptionSpec"],J);const W=u(i,["partnerModelTuningSpec"]);W!=null&&f(o,["partnerModelTuningSpec"],W);const Q=u(i,["customBaseModel"]);Q!=null&&f(o,["customBaseModel"],Q);const ne=u(i,["experiment"]);ne!=null&&f(o,["experiment"],ne);const se=u(i,["labels"]);se!=null&&f(o,["labels"],se);const ue=u(i,["outputUri"]);ue!=null&&f(o,["outputUri"],ue);const Y=u(i,["pipelineJob"]);Y!=null&&f(o,["pipelineJob"],Y);const he=u(i,["serviceAccount"]);he!=null&&f(o,["serviceAccount"],he);const F=u(i,["tunedModelDisplayName"]);F!=null&&f(o,["tunedModelDisplayName"],F);const ce=u(i,["veoTuningSpec"]);return ce!=null&&f(o,["veoTuningSpec"],ce),o}function sA(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const d=u(i,["metadata"]);d!=null&&f(o,["metadata"],d);const m=u(i,["done"]);m!=null&&f(o,["done"],m);const g=u(i,["error"]);return g!=null&&f(o,["error"],g),o}function rA(i,n){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uA extends Xi{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Qo(Qi.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:Qu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=WC(n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>tc(v))}else{const h=ZC(n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>eg(v))}}async listInternal(n){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tA(n);return g=ae("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=iA(v),A=new oh;return Object.assign(A,E),A})}else{const h=eA(n);return g=ae("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),m.then(v=>{const E=nA(v),A=new oh;return Object.assign(A,E),A})}}async cancel(n){var o,a,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=YC(n);m=ae("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=JC(n);m=ae("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=XC(n);return d=ae("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>tc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QC(n);return d=ae("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>sA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cA{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fA=1024*1024*8,dA=3,pA=1e3,mA=2,Ju="x-goog-upload-status";async function hA(i,n,o){var a,r,d;let m=0,g=0,y=new Xu(new Response),h="upload";for(m=i.size;g<m;){const E=Math.min(fA,m-g),A=i.slice(g,g+E);g+E>=m&&(h+=", finalize");let R=0,q=pA;for(;R<dA&&(y=await o.request({path:"",body:A,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(E)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[Ju]));)R++,await yA(q),q=q*mA;if(g+=E,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[Ju])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Ju])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function gA(i){return{size:i.size,type:i.type}}function yA(i){return new Promise(n=>setTimeout(n,i))}class vA{async upload(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await hA(n,o,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await gA(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TA{create(n,o,a){return new SA(n,o,a)}}class SA{constructor(n,o,a){this.url=n,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xh="x-goog-api-key";class EA{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(xh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(xh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CA="gl-node/";class AA{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const a=zv(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion;const r=new EA(this.apiKey);this.apiClient=new sC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:CA+"web",uploader:new vA,downloader:new cA}),this.models=new RC(this.apiClient),this.live=new SC(this.apiClient,r,new TA),this.batches=new aT(this.apiClient),this.chats=new BT(this.models,this.apiClient),this.caches=new GT(this.apiClient),this.files=new QT(this.apiClient),this.operations=new MC(this.apiClient),this.authTokens=new OC(this.apiClient),this.tunings=new uA(this.apiClient)}}function _A(i){const n=atob(i),o=n.length,a=new Uint8Array(o);for(let r=0;r<o;r++)a[r]=n.charCodeAt(r);return a}function xA(i){let n="";const o=i.byteLength;for(let a=0;a<o;a++)n+=String.fromCharCode(i[a]);return btoa(n)}async function NA(i,n,o,a){const r=new Int16Array(i.buffer),d=r.length/a,m=n.createBuffer(a,d,o);for(let g=0;g<a;g++){const y=m.getChannelData(g);for(let h=0;h<d;h++)y[h]=r[h*a+g]/32768}return m}let Yu;const dn=()=>(Yu||(Yu=new AA({apiKey:"AIzaSyCoolqL4ZEc5fSlDivnQffooORB--1Vldg"})),Yu),RA=[{name:"startReview",description:"Starts a flashcard review session for a given deck.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:'The name of the deck to review, e.g., "World Capitals".'}},required:["deckName"]}},{name:"showAnswer",description:"Reveals the answer to the current flashcard.",parameters:{type:j.OBJECT,properties:{}}},{name:"rateCard",description:"Rates the user's recall of the current flashcard.",parameters:{type:j.OBJECT,properties:{rating:{type:j.STRING,enum:["AGAIN","HARD","GOOD","EASY"]}},required:["rating"]}},{name:"startConversation",description:"Pauses the review to answer a user's question about the current flashcard's content.",parameters:{type:j.OBJECT,properties:{query:{type:j.STRING,description:`The user's question, e.g., "why?" or "can you explain that?".`}},required:["query"]}},{name:"setStudyGoal",description:"Sets a study goal for the user.",parameters:{type:j.OBJECT,properties:{target:{type:j.NUMBER,description:"The number of cards to review."},goalType:{type:j.STRING,enum:["session","daily"],description:"The type of goal, either per 'session' or 'daily'."}},required:["target","goalType"]}},{name:"createDeck",description:"Creates a new, empty flashcard deck.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:"The name for the new deck."}},required:["deckName"]}},{name:"generateDeckFromForm",description:"Creates a new deck with flashcards about a specific topic, generated by AI based on user-provided parameters.",parameters:{type:j.OBJECT,properties:{topic:{type:j.STRING,description:'The topic for the new deck, e.g., "Photosynthesis".'},depth:{type:j.STRING,enum:["Beginner","Intermediate","Expert"],description:"The desired complexity level of the cards."},numberOfCards:{type:j.NUMBER,description:"The number of cards to generate."}},required:["topic","depth","numberOfCards"]}},{name:"generateDeckFromDocument",description:"Analyzes text from an uploaded document and creates a deck of flashcards based on the key themes found.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:"The name for the new deck."},documentText:{type:j.STRING,description:"The full text content of the user's document."}},required:["deckName","documentText"]}},{name:"deleteDeck",description:"Deletes an existing flashcard deck and all its cards.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:"The name of the deck to delete."}},required:["deckName"]}},{name:"listDecks",description:"Lists all available flashcard decks by name.",parameters:{type:j.OBJECT,properties:{}}},{name:"showDecks",description:"Displays a visual list of all available decks.",parameters:{type:j.OBJECT,properties:{}}},{name:"showImportView",description:"Shows the view for importing a deck from a file.",parameters:{type:j.OBJECT,properties:{}}},{name:"showSmartGenerationView",description:"Shows the view for advanced AI deck creation, either from a form or by analyzing a document.",parameters:{type:j.OBJECT,properties:{}}},{name:"showImageGenerationView",description:"Shows the view for generating an image from a text prompt.",parameters:{type:j.OBJECT,properties:{}}},{name:"showImageAnalysisView",description:"Shows the view for analyzing an uploaded image.",parameters:{type:j.OBJECT,properties:{}}},{name:"showTranscriptionView",description:"Shows the view for recording and transcribing audio.",parameters:{type:j.OBJECT,properties:{}}},{name:"showTextAnalysisView",description:"Shows the view for analyzing a piece of text.",parameters:{type:j.OBJECT,properties:{}}},{name:"showBackupView",description:"Shows the view for exporting and importing flashcard data (backup and restore).",parameters:{type:j.OBJECT,properties:{}}},{name:"generateImage",description:"Generates an image based on a user's text description.",parameters:{type:j.OBJECT,properties:{prompt:{type:j.STRING,description:"A detailed description of the image to generate."}},required:["prompt"]}},{name:"createCard",description:"Creates a new flashcard in a specified deck.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:"The name of the deck to add the card to."},question:{type:j.STRING,description:"The question for the new card."},answer:{type:j.STRING,description:"The answer for the new card."},explanation:{type:j.STRING,description:"An optional explanation for the card's answer."}},required:["deckName","question","answer"]}},{name:"findCardToEdit",description:"Finds a specific flashcard in a deck to prepare for editing.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:"The name of the deck containing the card."},questionQuery:{type:j.STRING,description:"Keywords from the question of the card to find."}},required:["deckName","questionQuery"]}},{name:"updateCardContent",description:"Updates the question, answer, and/or explanation of the card currently selected for editing.",parameters:{type:j.OBJECT,properties:{newQuestion:{type:j.STRING,description:"The new text for the card's question."},newAnswer:{type:j.STRING,description:"The new text for the card's answer."},newExplanation:{type:j.STRING,description:"The new text for the card's explanation."}}}},{name:"showCardStats",description:"Finds a specific card and displays its learning statistics.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:"The name of the deck containing the card."},questionQuery:{type:j.STRING,description:"Keywords from the question of the card to find."}},required:["deckName","questionQuery"]}},{name:"explainCard",description:"Generates and displays a detailed AI explanation for the card currently being viewed in the stats screen. Should be used when the user says 'explain this card' or similar while viewing stats.",parameters:{type:j.OBJECT,properties:{}}},{name:"generateCardsFromWeakness",description:"Analyzes the user's performance in a deck, finds their weakest card, and generates new, related cards to help them improve.",parameters:{type:j.OBJECT,properties:{deckName:{type:j.STRING,description:"The name of the deck to analyze and add cards to."}},required:["deckName"]}},{name:"goBack",description:"Exits the current special view (like Deck List, Import View, or Stats View) and returns to the main interface.",parameters:{type:j.OBJECT,properties:{}}}],Nh=`You are 'Echo', a friendly and intelligent flashcard assistant.
Your primary role is to guide the user through their study session using a spaced repetition system.
You MUST use the provided tools to control the app's functions. Do not answer flashcard questions yourself unless the user asks for an explanation.

Core Workflow:
1. When the user says 'start review', call startReview.
2. After a question is shown, wait for 'show answer', then call showAnswer.
3. After the answer is shown, wait for a rating ('again', 'hard', 'good', 'easy'), then call rateCard.
4. The app proceeds to the next card.

Advanced Capabilities:
- Deck Management: You can create, delete, and list decks (createDeck, deleteDeck, listDecks, showDecks).
- AI Deck Creation: You can create a full deck of cards on any topic for the user. Use the advanced 'Smart Generation' view (showSmartGenerationView) which allows creation from a form (generateDeckFromForm) or from a document (generateDeckFromDocument). Guide the user toward this feature for powerful content creation.
- Adaptive Learning: You can analyze a user's weak points in a deck and generate new cards to help them improve using generateCardsFromWeakness.
- Import & Upload: The user can import decks from a CSV file (showImportView). The 'Smart Generation' view is the primary way to use uploaded text.
- Image Generation: You can generate an image from a text prompt. Use showImageGenerationView to open the screen, or generate directly with generateImage.
- Image Analysis: You can analyze an image the user uploads. Use showImageAnalysisView to open the screen.
- Text Analysis: You can analyze any piece of text for the user. Use showTextAnalysisView to open the screen.
- Audio Transcription: You can transcribe audio for the user. Use showTranscriptionView to open the screen.
- Card Management: You can create cards manually (createCard) and edit them (findCardToEdit, then updateCardContent). Cards can include questions, answers, and explanations.
- Card Statistics: You can show the user their learning progress on a specific card (showCardStats). While viewing stats, you can provide an AI explanation for that card (explainCard).
- Navigation: Use goBack to exit from special views like the deck list or import screen.
- Study Goals: The user can set study goals using setStudyGoal.

General Interaction:
Start by introducing yourself and telling the user to say "Start review for [deck name]" to begin. You can also mention other features like Smart Deck Creation.`,MA=`
Conversational Learning:
- If the user interrupts the review to ask a question about the current card's content (e.g., "why?", "explain that", "tell me more"), you MUST use the 'startConversation' tool. Pass their question as the 'query' parameter.`,Nt={connectLive:(i,n,o,a,r)=>{const d=dn(),m=r?Nh+MA:Nh,g=d.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:async()=>{const y=await navigator.mediaDevices.getUserMedia({audio:!0}),h=new(window.AudioContext||window.webkitAudioContext)({sampleRate:om}),v=h.createMediaStreamSource(y),E=h.createScriptProcessor(4096,1,1);E.onaudioprocess=A=>{const R=A.inputBuffer.getChannelData(0),q=R.length,G=new Int16Array(q);for(let J=0;J<q;J++)G[J]=R[J]*32768;const X={data:xA(new Uint8Array(G.buffer)),mimeType:`audio/pcm;rate=${om}`};g.then(J=>{J.sendRealtimeInput({media:X})})},v.connect(E),E.connect(h.destination)},onmessage:i,onerror:n,onclose:o},config:{responseModalities:[Yl.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:a}}},tools:[{functionDeclarations:RA}],inputAudioTranscription:{},systemInstruction:m}});return g},generateTts:async(i,n)=>{var o,a,r,d,m,g;try{return((g=(m=(d=(r=(a=(o=(await dn().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:i}]}],config:{responseModalities:[Yl.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}}}})).candidates)==null?void 0:o[0])==null?void 0:a.content)==null?void 0:r.parts)==null?void 0:d[0])==null?void 0:m.inlineData)==null?void 0:g.data)??""}catch(y){return ut.logError(y,je.API,$e.HIGH,{function:"generateTts",text:i.substring(0,100),voiceName:n}),""}},getExplanation:async(i,n)=>{try{const o=dn(),a=`A user is studying a flashcard and needs an explanation.
      Flashcard Question: "${i.question}"
      Flashcard Answer: "${i.answer}"
      ${i.explanation?`Existing Explanation: "${i.explanation}"`:""}
      User's Query: "${n}"

      Please provide a clear and helpful explanation that addresses the user's query based on the flashcard content. Be conversational and encouraging.`;return(await o.models.generateContent({model:"gemini-2.5-pro",contents:[{parts:[{text:a}]}],config:{thinkingConfig:{thinkingBudget:32768}}})).text}catch(o){return ut.logError(o,je.API,$e.MEDIUM,{function:"getExplanation",cardId:i.id,query:n}),"Sorry, I had trouble thinking of an explanation for that. Let's get back to the review."}},getCardExplanation:async i=>{try{const n=dn(),o=`A user is viewing statistics for a flashcard and has requested an explanation.
      Flashcard Question: "${i.question}"
      Flashcard Answer: "${i.answer}"

      Please provide a clear, comprehensive, and helpful explanation that connects the question to the answer.
      Break down complex topics if necessary. Be conversational and encouraging.`;return(await n.models.generateContent({model:"gemini-2.5-pro",contents:[{parts:[{text:o}]}],config:{thinkingConfig:{thinkingBudget:32768}}})).text}catch(n){return ut.logError(n,je.API,$e.MEDIUM,{function:"getCardExplanation",cardId:i.id}),"Sorry, I had trouble generating an explanation for this card. Please try again."}},generateDeckFromForm:async(i,n,o)=>{try{const a=dn(),r=`Generate ${o} flashcards for the topic "${i}" at a "${n}" level of complexity. Each card must have a clear question, a concise answer, and a brief, helpful explanation for context.`,m=(await a.models.generateContent({model:"gemini-2.5-pro",contents:[{parts:[{text:r}]}],config:{responseMimeType:"application/json",responseSchema:{type:j.ARRAY,items:{type:j.OBJECT,properties:{question:{type:j.STRING,description:"The question for the flashcard."},answer:{type:j.STRING,description:"The answer to the question."},explanation:{type:j.STRING,description:"A brief explanation for additional context."}},required:["question","answer","explanation"]}},thinkingConfig:{thinkingBudget:32768}}})).text.trim();return JSON.parse(m)}catch(a){return ut.logError(a,je.API,$e.HIGH,{function:"generateDeckFromForm",topic:i,depth:n,numberOfCards:o}),[]}},generateDeckFromDocument:async(i,n)=>{try{const o=dn(),a=`Analyze the following document text and generate a comprehensive deck of flashcards named "${i}". Identify the key concepts, definitions, and facts. For each, create a card with a clear question, a concise answer, and a brief, helpful explanation.

      Document Text:
      ---
      ${n}
      ---
      `,d=(await o.models.generateContent({model:"gemini-2.5-pro",contents:[{parts:[{text:a}]}],config:{responseMimeType:"application/json",responseSchema:{type:j.ARRAY,items:{type:j.OBJECT,properties:{question:{type:j.STRING,description:"The question for the flashcard."},answer:{type:j.STRING,description:"The answer to the question."},explanation:{type:j.STRING,description:"A brief explanation for additional context."}},required:["question","answer","explanation"]}},thinkingConfig:{thinkingBudget:32768}}})).text.trim();return JSON.parse(d)}catch(o){return ut.logError(o,je.API,$e.HIGH,{function:"generateDeckFromDocument",deckName:i,documentLength:n.length}),[]}},generateTargetedCards:async(i,n,o)=>{try{const a=dn(),r=`A user is struggling with the following flashcard:
      - Question: "${i.question}"
      - Answer: "${i.answer}"

      Here is some relevant context from a knowledge base:
      ---
      ${n}
      ---
      
      Based on this context, generate ${o} new, related flashcards to help the user better understand the topic. The new cards should not be identical to the original card. They should explore related concepts, provide different examples, or break down the topic in a new way. Each new card must include a question, answer, and a brief explanation.`,m=(await a.models.generateContent({model:"gemini-2.5-pro",contents:[{parts:[{text:r}]}],config:{responseMimeType:"application/json",responseSchema:{type:j.ARRAY,items:{type:j.OBJECT,properties:{question:{type:j.STRING,description:"The question for the flashcard."},answer:{type:j.STRING,description:"The answer to the question."},explanation:{type:j.STRING,description:"A brief explanation for additional context."}},required:["question","answer","explanation"]}},thinkingConfig:{thinkingBudget:32768}}})).text.trim();return JSON.parse(m)}catch(a){return ut.logError(a,je.API,$e.MEDIUM,{function:"generateTargetedCards",cardId:i.id,numberOfCards:o}),[]}},generateImage:async i=>{try{return`data:image/jpeg;base64,${(await dn().models.generateImages({model:"imagen-4.0-generate-001",prompt:i,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"1:1"}})).generatedImages[0].image.imageBytes}`}catch(n){return ut.logError(n,je.API,$e.MEDIUM,{function:"generateImage",prompt:i.substring(0,100)}),null}},analyzeImage:async(i,n,o)=>{try{const a=dn(),r={inlineData:{mimeType:o,data:n}},d={text:i};return(await a.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[r,d]}})).text}catch(a){return ut.logError(a,je.API,$e.MEDIUM,{function:"analyzeImage",prompt:i}),"Sorry, I had trouble analyzing that image."}},transcribeAudio:async(i,n)=>{try{const o=dn(),a={inlineData:{mimeType:n,data:i}},r={text:"Transcribe this audio precisely."};return(await o.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[a,r]}})).text}catch(o){return ut.logError(o,je.API,$e.MEDIUM,{function:"transcribeAudio",mimeType:n}),"Sorry, I had trouble transcribing that audio."}},analyzeText:async(i,n,o="simple")=>{try{const a=dn(),r=o==="complex"?"gemini-2.5-pro":"gemini-2.5-flash",d=o==="complex"?{thinkingConfig:{thinkingBudget:32768}}:{},m=`Analyze the following text based on the user's request.
      
      Text to Analyze:
      ---
      ${i}
      ---
      
      User's Request: "${n}"`;return(await a.models.generateContent({model:r,contents:[{parts:[{text:m}]}],config:d})).text}catch(a){return ut.logError(a,je.API,$e.MEDIUM,{function:"analyzeText",complexity:o,textLength:i.length}),"Sorry, I had trouble analyzing that text."}},decodeAudio:_A,decodeAudioData:NA},wA=["Confirmation Bias is the human tendency to search for, interpret, favor, and recall information in a way that confirms or supports one's prior beliefs or values. People display this bias when they gather or remember information selectively, or when they interpret it in a biased way. For example, a person who believes left-handed people are more creative may remember many instances of creative left-handed people but forget examples that do not support this belief. This bias affects individual and group decision-making and can lead to overconfidence and ignoring contrary evidence. It's a systematic error of inductive reasoning.","The Availability Heuristic is a mental shortcut that relies on immediate examples that come to a given person's mind when evaluating a specific topic, concept, method, or decision. The availability heuristic operates on the notion that if something can be recalled, it must be important, or at least more important than alternative solutions which are not as readily recalled. Consequently, people tend to heavily weigh their judgments toward more recent information, making new opinions biased toward that latest news. For example, after seeing several news reports about car thefts, you might make a judgment that vehicle theft is much more common than it really is in your area.","The Dunning-Kruger Effect is a cognitive bias in which people with low ability at a task overestimate their ability. It is related to the cognitive bias of illusory superiority and comes from the inability of people to recognize their lack of ability. Without the self-awareness of metacognition, people cannot objectively evaluate their own competence or incompetence. Conversely, highly competent individuals may underestimate their relative competence, erroneously assuming that tasks which are easy for them are also easy for others.",'Survivorship Bias or survival bias is the logical error of concentrating on the people or things that "survived" some process and inadvertently overlooking those that did not because of their lack of visibility. This can lead to false conclusions in several different ways. The survivors may be actual people, as in a medical study, or could be companies or subjects that withstood some selection process. For example, during World War II, researchers were asked to determine where to add armor to bombers. They analyzed the returning planes and recommended adding armor to the areas that showed the most damage. However, statistician Abraham Wald noted that the researchers had only considered the planes that survived their missions; the planes that had been shot down were not present for the analysis. The holes in the returning planes, therefore, represented areas where a bomber could take damage and still return home safely. Wald proposed that the Navy reinforce areas where the returning planes were unscathed, since those were the areas that, if hit, would cause the plane to be lost.','Anchoring Bias is a cognitive bias where an individual depends too heavily on an initial piece of information offered (the "anchor") when making decisions. During decision making, anchoring occurs when individuals use an initial piece of information to make subsequent judgments. Once an anchor is set, other judgments are made by adjusting away from that anchor, and there is a bias toward interpreting other information around the anchor. For example, the initial price offered for a used car sets the standard for the rest of the negotiations, so that prices lower than the initial price seem more reasonable even if they are still higher than what the car is really worth.'],bA={findRelevantChunk:i=>{const n=i.toLowerCase().split(/\s+/).filter(r=>r.length>3);let o="",a=0;return wA.forEach(r=>{const d=r.toLowerCase();let m=0;n.forEach(g=>{d.includes(g)&&m++}),m>a&&(a=m,o=r)}),o}};var nn=(i=>(i.SUCCESS="success",i.ERROR="error",i.WARNING="warning",i.INFO="info",i))(nn||{});const tg=V.createContext(void 0),ng=()=>{const i=V.useContext(tg);if(!i)throw new Error("useToast must be used within ToastProvider");return i},IA=({children:i})=>{const[n,o]=V.useState([]),a=V.useCallback(v=>{o(E=>E.filter(A=>A.id!==v))},[]),r=V.useCallback((v,E="info",A=5e3)=>{const R=`toast-${Date.now()}-${Math.random()}`,q={id:R,type:E,message:v,duration:A};o(G=>[...G,q]),A>0&&setTimeout(()=>a(R),A)},[a]),d=V.useCallback((v,E)=>{r(v,"success",E)},[r]),m=V.useCallback((v,E)=>{r(v,"error",E)},[r]),g=V.useCallback((v,E)=>{r(v,"warning",E)},[r]),y=V.useCallback((v,E)=>{r(v,"info",E)},[r]),h={toasts:n,addToast:r,removeToast:a,success:d,error:m,warning:g,info:y};return S.jsxs(tg.Provider,{value:h,children:[i,S.jsx(DA,{toasts:n,removeToast:a})]})},DA=({toasts:i,removeToast:n})=>i.length===0?null:S.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:i.map(o=>S.jsx(kA,{toast:o,onClose:()=>n(o.id)},o.id))}),kA=({toast:i,onClose:n})=>{const o=()=>{switch(i.type){case"success":return"bg-green-600 border-green-500";case"error":return"bg-red-600 border-red-500";case"warning":return"bg-yellow-600 border-yellow-500";case"info":default:return"bg-blue-600 border-blue-500"}},a=()=>{switch(i.type){case"success":return S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"info":default:return S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return S.jsxs("div",{className:`${o()} border rounded-lg shadow-lg p-4 text-white flex items-start space-x-3 animate-slide-in`,role:"alert",children:[S.jsx("div",{className:"flex-shrink-0",children:a()}),S.jsx("div",{className:"flex-1",children:S.jsx("p",{className:"text-sm font-medium",children:i.message})}),S.jsx("button",{onClick:n,className:"flex-shrink-0 text-white/80 hover:text-white transition-colors","aria-label":"Close notification",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},UA=({card:i,isFlipped:n,isEditing:o})=>o&&i?S.jsxs("div",{className:"w-full max-w-2xl h-96 bg-gray-800 rounded-lg shadow-lg flex flex-col justify-center p-6 border-2 border-dashed border-cyan-400 overflow-y-auto",children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"QUESTION"}),S.jsx("p",{className:"text-lg",children:i.question})]}),S.jsx("div",{className:"border-t border-gray-600 my-3"}),S.jsxs("div",{className:"mb-3",children:[S.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"ANSWER"}),S.jsx("p",{className:"text-xl font-bold",children:i.answer})]}),i.explanation&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"border-t border-gray-600 my-3"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"EXPLANATION"}),S.jsx("p",{className:"text-md text-gray-300",children:i.explanation})]})]})]}):S.jsx("div",{className:"w-full max-w-2xl h-80 perspective-1000",children:S.jsxs("div",{className:`card w-full h-full ${n?"flipped":""}`,children:[S.jsx("div",{className:"card-face absolute w-full h-full bg-gray-800 rounded-lg shadow-lg flex items-center justify-center p-6",children:S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"QUESTION"}),S.jsx("p",{className:"text-2xl text-center",children:(i==null?void 0:i.question)??"No card loaded."})]})}),S.jsxs("div",{className:"card-back card-face absolute w-full h-full bg-blue-900 rounded-lg shadow-lg flex flex-col items-center justify-center p-6 overflow-y-auto",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"ANSWER"}),S.jsx("p",{className:"text-3xl font-bold",children:(i==null?void 0:i.answer)??""})]}),(i==null?void 0:i.explanation)&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"border-t border-blue-700 my-4 w-1/2 mx-auto"}),S.jsx("p",{className:"text-sm text-gray-200 text-center whitespace-pre-wrap",children:i.explanation})]})]})]})}),GA=({status:i,isAssistantSpeaking:n})=>S.jsxs("div",{className:"w-full max-w-2xl p-4 bg-gray-800 rounded-lg flex items-center justify-center space-x-3",children:[n&&S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsxs("span",{className:"relative flex h-3 w-3",children:[S.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),S.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"})]}),S.jsx("span",{className:"text-sky-400",children:"Assistant is speaking..."})]}),!n&&S.jsx("span",{className:"text-gray-300",children:i})]}),LA=({messages:i})=>{const n=V.useRef(null);return V.useEffect(()=>{var o;(o=n.current)==null||o.scrollIntoView({behavior:"smooth"})},[i]),S.jsxs("div",{className:"w-full max-w-2xl h-48 bg-gray-950/50 rounded-lg p-4 overflow-y-auto space-y-4",children:[i.map((o,a)=>S.jsx("div",{className:`flex ${o.source==="user"?"justify-end":"justify-start"}`,children:S.jsx("div",{className:`px-4 py-2 rounded-lg max-w-sm ${o.source==="user"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:o.text})},a)),S.jsx("div",{ref:n})]})},qA=({decks:i,onStartReview:n,onShowImport:o,onShowSmartGeneration:a,onStrengthenWeakness:r,onShowImageGeneration:d,onShowImageAnalysis:m,onShowTranscription:g,onShowTextAnalysis:y,onShowBackup:h})=>{const[v,E]=V.useState(""),A=i.filter(R=>R.name.toLowerCase().includes(v.toLowerCase()));return S.jsxs("div",{className:"w-full max-w-4xl p-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Your Decks"}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[S.jsx("input",{type:"text",value:v,onChange:R=>E(R.target.value),placeholder:"Search decks...",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500","aria-label":"Search for a deck"}),S.jsxs("div",{className:"flex gap-2 flex-wrap justify-center",children:[S.jsx("button",{onClick:d,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold transition-colors whitespace-nowrap",children:"Generate Image"}),S.jsx("button",{onClick:m,className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 rounded-lg font-semibold transition-colors whitespace-nowrap",children:"Analyze Image"}),S.jsx("button",{onClick:y,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold transition-colors whitespace-nowrap",children:"Analyze Text"}),S.jsx("button",{onClick:g,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg font-semibold transition-colors whitespace-nowrap",children:"Transcribe Audio"}),S.jsx("button",{onClick:o,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition-colors whitespace-nowrap",children:"Import Deck"}),S.jsx("button",{onClick:a,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg font-semibold transition-colors whitespace-nowrap",children:"Smart Create Deck"}),S.jsx("button",{onClick:h,className:"px-4 py-2 bg-pink-600 hover:bg-pink-700 rounded-lg font-semibold transition-colors whitespace-nowrap",children:"Backup & Restore"})]})]}),A.length>0?S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:A.map(R=>S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 flex flex-col justify-between transition-transform hover:scale-105",children:[S.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:R.name}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("button",{onClick:()=>n(R.name),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors",children:"Start Review"}),S.jsx("button",{onClick:()=>r(R.name),className:"w-full px-4 py-2 bg-cyan-700 hover:bg-cyan-800 rounded-lg font-semibold text-sm transition-colors",children:"Strengthen Weak Points"})]})]},R.id))}):S.jsx("p",{className:"text-center text-gray-400",children:v?"No decks match your search.":"You haven't created any decks yet."})]})},BA=()=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),VA=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),HA=()=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10h6v4H9z"})]}),zA=({playbackState:i,onPlay:n,onPause:o,onStop:a})=>{const r=i===ln.PLAYING,d=i===ln.PAUSED,m=i===ln.STOPPED;return S.jsxs("div",{className:"flex items-center justify-center space-x-4 p-2 bg-gray-800/60 rounded-lg",children:[S.jsx("button",{onClick:n,disabled:!d,className:"p-2 rounded-full text-gray-300 disabled:text-gray-600 enabled:hover:bg-gray-700 enabled:hover:text-white transition-colors","aria-label":"Play audio",children:S.jsx(BA,{})}),S.jsx("button",{onClick:o,disabled:!r,className:"p-2 rounded-full text-gray-300 disabled:text-gray-600 enabled:hover:bg-gray-700 enabled:hover:text-white transition-colors","aria-label":"Pause audio",children:S.jsx(VA,{})}),S.jsx("button",{onClick:a,disabled:m,className:"p-2 rounded-full text-gray-300 disabled:text-gray-600 enabled:hover:bg-gray-700 enabled:hover:text-white transition-colors","aria-label":"Stop audio",children:S.jsx(HA,{})})]})},PA=({onImport:i,onCancel:n})=>{const[o,a]=V.useState(""),[r,d]=V.useState(""),[m,g]=V.useState(""),[y,h]=V.useState(""),v=A=>{var q;const R=(q=A.target.files)==null?void 0:q[0];if(R)if(R.type==="text/csv"||R.type==="text/plain"||R.name.endsWith(".csv")||R.name.endsWith(".txt")){const G=new FileReader;G.onload=X=>{var J;d((J=X.target)==null?void 0:J.result),g(R.name),h("")},G.readAsText(R)}else h("Please select a .csv or .txt file."),g(""),d("")},E=()=>{if(!o.trim()){h("Please provide a name for the new deck.");return}if(!r){h("Please select a file to import.");return}i(o,r)};return S.jsxs("div",{className:"w-full max-w-2xl p-6 bg-gray-800 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Import New Deck"}),S.jsxs("p",{className:"text-center text-gray-400 mb-6",children:["Select a ",S.jsx("code",{children:".csv"})," or ",S.jsx("code",{children:".txt"})," file. Each line should contain a question, an answer, and an optional explanation, separated by a comma or semicolon."]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("input",{type:"text",value:o,onChange:A=>a(A.target.value),placeholder:"New Deck Name",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500","aria-label":"New deck name"}),S.jsxs("label",{htmlFor:"file-upload",className:"w-full flex items-center justify-center px-4 py-6 bg-gray-700 text-gray-300 rounded-lg cursor-pointer hover:bg-gray-600 border-2 border-dashed border-gray-500",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),S.jsx("span",{children:m||"Choose a file to upload..."})]}),S.jsx("input",{id:"file-upload",type:"file",accept:".csv,.txt,text/csv,text/plain",onChange:v,className:"hidden"}),y&&S.jsx("p",{className:"text-red-400 text-sm text-center",children:y})]}),S.jsxs("div",{className:"flex gap-4 mt-6",children:[S.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors",children:"Cancel"}),S.jsx("button",{onClick:E,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500",disabled:!o||!r,children:"Import Deck"})]})]})},Vl=({label:i,value:n})=>S.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg",children:[S.jsx("p",{className:"text-sm text-gray-400",children:i}),S.jsx("p",{className:"text-lg font-semibold",children:n instanceof Date?n.toLocaleDateString():n.toString()})]}),OA=({card:i,onBack:n,explanation:o,isGenerating:a,onGenerateExplanation:r})=>{if(!i)return S.jsxs("div",{className:"w-full max-w-2xl text-center",children:[S.jsx("p",{children:"No card selected to view stats."}),S.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Go Back"})]});const d=o||i.explanation;return S.jsxs("div",{className:"w-full max-w-2xl p-6 bg-gray-800 rounded-lg shadow-lg animate-fade-in",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Card Statistics"}),S.jsxs("div",{className:"mb-6 p-4 border border-gray-600 rounded-lg",children:[S.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"QUESTION"}),S.jsx("p",{className:"text-xl mb-3",children:i.question}),S.jsx("div",{className:"border-t border-gray-700 my-2"}),S.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"ANSWER"}),S.jsx("p",{className:"text-xl font-bold",children:i.answer}),i.explanation&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"border-t border-gray-700 my-2"}),S.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"EXPLANATION"}),S.jsx("p",{className:"text-md text-gray-300",children:i.explanation})]})]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[S.jsx(Vl,{label:"State",value:i.state}),S.jsx(Vl,{label:"Due Date",value:i.dueDate}),S.jsx(Vl,{label:"Stability",value:i.stability.toFixed(2)}),S.jsx(Vl,{label:"Difficulty",value:i.difficulty.toFixed(2)}),S.jsx(Vl,{label:"Repetitions",value:i.reps}),S.jsx(Vl,{label:"Lapses",value:i.lapses})]}),S.jsxs("div",{className:"mt-6",children:[S.jsx("button",{onClick:r,disabled:a,className:"w-full px-4 py-2 bg-cyan-600 hover:bg-cyan-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center",children:a?S.jsxs(S.Fragment,{children:[S.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Explain with AI"}),d&&!a&&S.jsxs("div",{className:"mt-4 p-4 bg-gray-900/70 rounded-lg border border-gray-700",children:[S.jsx("h3",{className:"text-lg font-semibold text-cyan-300 mb-2",children:"AI Explanation"}),S.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:d})]})]}),S.jsx("button",{onClick:n,className:"w-full mt-6 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors",children:"Go Back"})]})},JA=({label:i,checked:n,onChange:o,id:a})=>S.jsxs("label",{htmlFor:a,className:"flex items-center cursor-pointer",children:[S.jsxs("div",{className:"relative",role:"switch","aria-checked":n,children:[S.jsx("input",{id:a,type:"checkbox",className:"sr-only",checked:n,onChange:r=>o(r.target.checked)}),S.jsx("div",{className:"block bg-gray-600 w-14 h-8 rounded-full"}),S.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${n?"transform translate-x-6 bg-cyan-400":""}`})]}),S.jsx("div",{className:"ml-3 text-gray-300 font-medium",children:i})]}),YA=({onGenerate:i,onBack:n,isGenerating:o,imageUrl:a})=>{const[r,d]=V.useState(""),m=()=>{r.trim()&&i(r)};return S.jsxs("div",{className:"w-full max-w-2xl p-6 bg-gray-800 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"AI Image Generation"}),S.jsx("p",{className:"text-center text-gray-400 mb-6",children:"Describe the image you want to create. Be as specific as possible for the best results."}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("textarea",{value:r,onChange:g=>d(g.target.value),placeholder:"e.g., A photorealistic image of a red panda wearing a tiny astronaut helmet, floating in space",className:"w-full h-24 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500","aria-label":"Image generation prompt",disabled:o}),S.jsx("button",{onClick:m,className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center",disabled:o||!r.trim(),children:o?S.jsxs(S.Fragment,{children:[S.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate Image"})]}),a&&S.jsxs("div",{className:"mt-6",children:[S.jsx("h3",{className:"text-lg font-semibold text-center mb-2",children:"Generated Image"}),S.jsx("img",{src:a,alt:r,className:"w-full max-w-md mx-auto rounded-lg shadow-lg"})]}),S.jsx("button",{onClick:n,className:"w-full mt-6 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors",children:"Go Back"})]})},FA=({onAnalyze:i,onBack:n,isAnalyzing:o,analysisResult:a,image:r,setImage:d})=>{const[m,g]=V.useState("What is in this image?"),y=v=>{var A;const E=(A=v.target.files)==null?void 0:A[0];if(E){const R=new FileReader;R.onload=q=>{var J;const G=(J=q.target)==null?void 0:J.result,X=G.split(",")[1];d({url:G,base64:X,mimeType:E.type})},R.readAsDataURL(E)}},h=()=>{m.trim()&&r&&i(m)};return S.jsxs("div",{className:"w-full max-w-4xl p-6 bg-gray-800 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"AI Image Analysis"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload an Image"}),S.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:y,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-600 file:text-white hover:file:bg-teal-700",disabled:o})]}),r&&S.jsx("img",{src:r.url,alt:"Uploaded for analysis",className:"w-full rounded-lg shadow-md"}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"analysis-prompt",className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Question"}),S.jsx("textarea",{id:"analysis-prompt",value:m,onChange:v=>g(v.target.value),placeholder:"e.g., What is in this image? or Explain this diagram.",className:"w-full h-24 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:o})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("button",{onClick:h,className:"w-full px-4 py-2 bg-teal-600 hover:bg-teal-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center",disabled:o||!m.trim()||!r,children:o?S.jsxs(S.Fragment,{children:[S.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):"Analyze Image"}),a&&S.jsxs("div",{className:"p-4 bg-gray-900/70 rounded-lg border border-gray-700 h-80 overflow-y-auto",children:[S.jsx("h3",{className:"text-lg font-semibold text-teal-300 mb-2",children:"Analysis Result"}),S.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:a})]})]})]}),S.jsx("button",{onClick:n,className:"w-full mt-6 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors",children:"Go Back"})]})},KA=({onStartRecording:i,onStopRecording:n,onBack:o,isRecording:a,isTranscribing:r,transcriptionResult:d})=>S.jsxs("div",{className:"w-full max-w-2xl p-6 bg-gray-800 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Audio Transcription"}),S.jsx("p",{className:"text-center text-gray-400 mb-6",children:"Record your voice and get a text transcription powered by Gemini."}),S.jsx("div",{className:"flex justify-center items-center my-6",children:a?S.jsx("button",{onClick:n,className:"w-24 h-24 bg-gray-600 hover:bg-gray-700 rounded-full font-semibold transition-colors text-white flex items-center justify-center text-sm",children:"Stop"}):S.jsx("button",{onClick:i,disabled:r,className:"w-24 h-24 bg-red-600 hover:bg-red-700 rounded-full font-semibold transition-colors text-white flex items-center justify-center text-sm disabled:bg-gray-500",children:"Record"})}),a&&S.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[S.jsxs("span",{className:"relative flex h-3 w-3",children:[S.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),S.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),S.jsx("span",{className:"text-red-400",children:"Recording..."})]}),S.jsx("div",{className:"min-h-[10rem] p-4 bg-gray-900/70 rounded-lg border border-gray-700",children:r?S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[S.jsxs("svg",{className:"animate-spin h-8 w-8 text-white mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),S.jsx("span",{children:"Transcribing..."})]}):S.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:d||"Your transcribed text will appear here."})}),S.jsx("button",{onClick:o,className:"w-full mt-6 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors",children:"Go Back"})]}),Rh=["The Italian Renaissance","Basics of Quantum Computing","The History of Jazz Music","Neurotransmitters and their Functions","The Silk Road","Key Principles of Stoicism","The process of Photosynthesis","The Life Cycle of a Star"],QA=({onGenerateFromForm:i,onGenerateFromDocument:n,onCancel:o})=>{const[a,r]=V.useState("form"),[d,m]=V.useState(""),[g,y]=V.useState("Intermediate"),[h,v]=V.useState(10),[E,A]=V.useState(""),[R,q]=V.useState(""),[G,X]=V.useState(""),[J,W]=V.useState(""),Q=Y=>{var F;const he=(F=Y.target.files)==null?void 0:F[0];if(he)if(he.type==="text/plain"||he.name.endsWith(".txt")){const ce=new FileReader;ce.onload=Re=>{var me;q((me=Re.target)==null?void 0:me.result),X(he.name),A(he.name.replace(/\.txt$/i,"")),W("")},ce.readAsText(he)}else W("Please select a .txt file."),X(""),q("")},ne=()=>{if(W(""),a==="form"){if(!d.trim()){W("Please provide a topic.");return}i(d,g,h)}else{if(!E.trim()){W("Please provide a name for the new deck.");return}if(!R){W("Please select a text file to analyze.");return}n(E,R)}},se=()=>{r("form");const Y=Rh[Math.floor(Math.random()*Rh.length)];m(Y),y("Intermediate"),v(5),W('Demo topic loaded! Adjust settings and click "Generate Deck".')},ue=a==="form"?!d.trim():!E.trim()||!R;return S.jsxs("div",{className:"w-full max-w-2xl p-6 bg-gray-800 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Smart Deck Generator"}),S.jsxs("div",{className:"flex justify-center mb-6 bg-gray-900/50 p-1 rounded-lg",children:[S.jsx("button",{onClick:()=>r("form"),className:`w-1/2 py-2 rounded-md transition-colors ${a==="form"?"bg-cyan-600 font-semibold":"hover:bg-gray-700"}`,children:"From Topic"}),S.jsx("button",{onClick:()=>r("document"),className:`w-1/2 py-2 rounded-md transition-colors ${a==="document"?"bg-cyan-600 font-semibold":"hover:bg-gray-700"}`,children:"From Document"})]}),S.jsxs("div",{className:"space-y-4",children:[a==="form"?S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"text-center text-gray-400",children:"Generate a new deck by providing a topic and complexity."}),S.jsx("input",{type:"text",value:d,onChange:Y=>m(Y.target.value),placeholder:"Topic (e.g., Photosynthesis)",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("select",{value:g,onChange:Y=>y(Y.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[S.jsx("option",{children:"Beginner"}),S.jsx("option",{children:"Intermediate"}),S.jsx("option",{children:"Expert"})]}),S.jsx("input",{type:"number",value:h,onChange:Y=>v(Math.max(1,parseInt(Y.target.value,10)||1)),placeholder:"Number of cards",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"text-center text-gray-400",children:"Upload a text file (.txt) with your notes or practice exam for analysis."}),S.jsx("input",{type:"text",value:E,onChange:Y=>A(Y.target.value),placeholder:"New Deck Name",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),S.jsxs("label",{htmlFor:"file-upload",className:"w-full flex items-center justify-center px-4 py-6 bg-gray-700 text-gray-300 rounded-lg cursor-pointer hover:bg-gray-600 border-2 border-dashed border-gray-500",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),S.jsx("span",{children:G||"Choose a .txt file..."})]}),S.jsx("input",{id:"file-upload",type:"file",accept:".txt,text/plain",onChange:Q,className:"hidden"})]}),J&&S.jsx("p",{className:"text-cyan-300 text-sm text-center",children:J})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[S.jsx("button",{onClick:o,className:"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors",children:"Cancel"}),S.jsx("button",{onClick:se,className:"w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg font-semibold transition-colors",children:"Run Demo"}),S.jsx("button",{onClick:ne,disabled:ue,className:"w-full px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500",children:"Generate Deck"})]})]})},XA=({onAnalyze:i,onBack:n,isAnalyzing:o,analysisResult:a})=>{const[r,d]=V.useState(""),[m,g]=V.useState("Summarize this text in three key points."),[y,h]=V.useState("simple"),v=()=>{m.trim()&&r.trim()&&i(r,m,y)};return S.jsxs("div",{className:"w-full max-w-4xl p-6 bg-gray-800 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"AI Text Analysis"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"text-to-analyze",className:"block text-sm font-medium text-gray-300 mb-2",children:"Text to Analyze"}),S.jsx("textarea",{id:"text-to-analyze",value:r,onChange:E=>d(E.target.value),placeholder:"Paste or type the text you want to analyze here...",className:"w-full h-48 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:o})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"analysis-prompt",className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Question / Prompt"}),S.jsx("textarea",{id:"analysis-prompt",value:m,onChange:E=>g(E.target.value),placeholder:"e.g., Summarize this text, or What is the main argument?",className:"w-full h-24 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:o})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Analysis Complexity"}),S.jsxs("div",{className:"flex justify-center bg-gray-900/50 p-1 rounded-lg",children:[S.jsx("button",{onClick:()=>h("simple"),className:`w-1/2 py-2 rounded-md transition-colors ${y==="simple"?"bg-cyan-600 font-semibold":"hover:bg-gray-700"}`,disabled:o,children:"Fast (Flash)"}),S.jsx("button",{onClick:()=>h("complex"),className:`w-1/2 py-2 rounded-md transition-colors ${y==="complex"?"bg-cyan-600 font-semibold":"hover:bg-gray-700"}`,disabled:o,children:"Complex (Pro)"})]})]}),S.jsx("button",{onClick:v,className:"w-full px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center",disabled:o||!m.trim()||!r.trim(),children:o?S.jsxs(S.Fragment,{children:[S.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):"Analyze Text"}),a&&S.jsxs("div",{className:"p-4 bg-gray-900/70 rounded-lg border border-gray-700 h-60 overflow-y-auto",children:[S.jsx("h3",{className:"text-lg font-semibold text-yellow-300 mb-2",children:"Analysis Result"}),S.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:a})]})]})]}),S.jsx("button",{onClick:n,className:"w-full mt-6 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors",children:"Go Back"})]})},ig=async(i={})=>{const{includePreferences:n=!0,includeChecksum:o=!0}=i;try{const a=ve.getDecks(),r=ve.getCards(),d=ve.getStudyProgress(),m=localStorage.getItem("echoCards_voicePreference")||"Zephyr",g=localStorage.getItem("echoCards_conversationalMode")==="true",y={version:"1.0",exportDate:new Date().toISOString(),decks:a,cards:r.map(h=>({...h,dueDate:h.dueDate instanceof Date?h.dueDate.toISOString():h.dueDate})),studyProgress:d,preferences:n?{voicePreference:m,conversationalMode:g}:{voicePreference:"Zephyr",conversationalMode:!1}};if(o){const h=JSON.stringify({decks:y.decks,cards:y.cards,studyProgress:y.studyProgress});y.checksum=await ZA(h)}return JSON.stringify(y,null,2)}catch(a){throw console.error("Error exporting to JSON:",a),new Error("Failed to export data to JSON")}},lg=()=>{try{const i=ve.getDecks(),n=ve.getCards(),o=new Map(i.map(d=>[d.id,d.name])),a=`Deck Name,Question,Answer,Explanation,Due Date,Stability,Difficulty,Lapses,Reps,State
`,r=n.map(d=>{const m=o.get(d.deckId)||"Unknown Deck",g=d.dueDate instanceof Date?d.dueDate.toISOString():d.dueDate;return[fs(m),fs(d.question),fs(d.answer),fs(d.explanation||""),g,d.stability.toFixed(2),d.difficulty.toFixed(2),d.lapses,d.reps,d.state].join(",")}).join(`
`);return a+r}catch(i){throw console.error("Error exporting to CSV:",i),new Error("Failed to export data to CSV")}},og=()=>{try{const i=ve.getDecks(),n=ve.getCards(),o=new Map(i.map(d=>[d.id,d.name])),a=`Question	Answer	Explanation	Tags
`,r=n.map(d=>{const g=`EchoCards ${o.get(d.deckId)||"Unknown"}`;return[ds(d.question),ds(d.answer),ds(d.explanation||""),ds(g)].join("	")}).join(`
`);return a+r}catch(i){throw console.error("Error exporting to Anki:",i),new Error("Failed to export data to Anki format")}},ag=(i,n,o)=>{try{const a=new Blob([i],{type:o}),r=URL.createObjectURL(a),d=document.createElement("a");d.href=r,d.download=n,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(r)}catch(a){throw console.error("Error downloading file:",a),new Error("Failed to download file")}},ZA=async i=>{try{const o=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(a)).map(m=>m.toString(16).padStart(2,"0")).join("")}catch(n){return console.error("Error generating checksum:",n),""}},fs=i=>i?i.includes(",")||i.includes('"')||i.includes(`
`)?`"${i.replace(/"/g,'""')}"`:i:"",ds=i=>i?i.replace(/\t/g,"    ").replace(/\n/g," ").trim():"",sg=i=>{const n=new Date().toISOString().split("T")[0];switch(i){case"json":return`echocards-backup-${n}.json`;case"csv":return`echocards-export-${n}.csv`;case"anki":return`echocards-anki-${n}.txt`;default:return`echocards-export-${n}.txt`}},rg=i=>{switch(i){case"json":return"application/json";case"csv":return"text/csv";case"anki":return"text/plain";default:return"text/plain"}},WA=async(i,n={})=>{try{let o;switch(i){case"json":o=await ig(n);break;case"csv":o=lg();break;case"anki":o=og();break;default:throw new Error(`Unsupported export format: ${i}`)}const a=sg(i),r=rg(i);ag(o,a,r)}catch(o){throw console.error("Error exporting data:",o),o}},$A={exportToJSON:ig,exportToCSV:lg,exportToAnki:og,exportData:WA,downloadFile:ag,getSuggestedFilename:sg,getMimeType:rg};var Sn=(i=>(i.REPLACE="replace",i.MERGE="merge",i.SKIP="skip",i))(Sn||{});const jA=async(i,n={})=>{const{strategy:o="merge",validateChecksum:a=!0,dryRun:r=!1}=n,d={success:!1,message:"",stats:{decksImported:0,cardsImported:0,decksSkipped:0,cardsSkipped:0,errors:[]}};try{let m;try{m=JSON.parse(i)}catch{throw new Error("Invalid JSON format")}const g=ug(m);if(!g.valid)return d.stats.errors=g.errors,d.message=`Validation failed: ${g.errors.join(", ")}`,d;if(a&&m.checksum){const y=JSON.stringify({decks:m.decks,cards:m.cards,studyProgress:m.studyProgress});if(await l_(y)!==m.checksum)throw new Error("Checksum verification failed - data may be corrupted")}return r?(d.success=!0,d.message="Validation successful (dry run)",d.stats.decksImported=m.decks.length,d.stats.cardsImported=m.cards.length,d):(o==="replace"?await e_(m,d):o==="merge"?await t_(m,d):o==="skip"&&await n_(m,d),m.preferences&&(localStorage.setItem("echoCards_voicePreference",m.preferences.voicePreference),localStorage.setItem("echoCards_conversationalMode",String(m.preferences.conversationalMode))),d.success=!0,d.message=`Successfully imported ${d.stats.decksImported} decks and ${d.stats.cardsImported} cards`,d)}catch(m){return d.success=!1,d.message=m instanceof Error?m.message:"Unknown import error",d.stats.errors.push(d.message),d}},e_=async(i,n)=>{try{localStorage.removeItem("echoCards_decks"),localStorage.removeItem("echoCards_cards"),localStorage.removeItem("echoCards_studyProgress");const o=i.decks.filter(r=>r.id&&r.name);localStorage.setItem("echoCards_decks",JSON.stringify(o)),n.stats.decksImported=o.length;const a=i.cards.filter(r=>r.id&&r.deckId&&r.question&&r.answer).map(r=>({...r,dueDate:typeof r.dueDate=="string"?new Date(r.dueDate):r.dueDate}));localStorage.setItem("echoCards_cards",JSON.stringify(a)),n.stats.cardsImported=a.length,i.studyProgress&&localStorage.setItem("echoCards_studyProgress",JSON.stringify(i.studyProgress))}catch(o){throw new Error("Failed to replace data: "+(o instanceof Error?o.message:"Unknown error"))}},t_=async(i,n)=>{try{const o=ve.getDecks(),a=ve.getCards(),r=new Map(o.map(y=>[y.id,y])),d=new Map(a.map(y=>[y.id,y])),m=[...o];for(const y of i.decks){const h=m.findIndex(v=>v.id===y.id);h>=0?(m[h]=y,n.stats.decksSkipped++):(m.push(y),n.stats.decksImported++)}const g=[...a];for(const y of i.cards){const h={...y,dueDate:typeof y.dueDate=="string"?new Date(y.dueDate):y.dueDate},v=g.findIndex(E=>E.id===h.id);v>=0?(g[v]=h,n.stats.cardsSkipped++):(g.push(h),n.stats.cardsImported++)}localStorage.setItem("echoCards_decks",JSON.stringify(m)),localStorage.setItem("echoCards_cards",JSON.stringify(g)),i.studyProgress&&localStorage.setItem("echoCards_studyProgress",JSON.stringify(i.studyProgress))}catch(o){throw new Error("Failed to merge data: "+(o instanceof Error?o.message:"Unknown error"))}},n_=async(i,n)=>{try{const o=ve.getDecks(),a=ve.getCards(),r=new Set(o.map(v=>v.id)),d=new Set(a.map(v=>v.id)),m=i.decks.filter(v=>!r.has(v.id)),g=[...o,...m];n.stats.decksImported=m.length,n.stats.decksSkipped=i.decks.length-m.length;const y=i.cards.filter(v=>!d.has(v.id)).map(v=>({...v,dueDate:typeof v.dueDate=="string"?new Date(v.dueDate):v.dueDate})),h=[...a,...y];n.stats.cardsImported=y.length,n.stats.cardsSkipped=i.cards.length-y.length,localStorage.setItem("echoCards_decks",JSON.stringify(g)),localStorage.setItem("echoCards_cards",JSON.stringify(h))}catch(o){throw new Error("Failed to skip-import data: "+(o instanceof Error?o.message:"Unknown error"))}},ug=i=>{const n={valid:!0,errors:[],warnings:[]};if(!i)return n.valid=!1,n.errors.push("No data provided"),n;if(i.version?i.version!=="1.0"&&n.warnings.push(`Unsupported version: ${i.version} (expected 1.0)`):n.warnings.push("No version field found"),Array.isArray(i.decks)?i.decks.forEach((o,a)=>{o.id||(n.errors.push(`Deck at index ${a} missing id`),n.valid=!1),o.name||(n.errors.push(`Deck at index ${a} missing name`),n.valid=!1)}):(n.valid=!1,n.errors.push("Decks must be an array")),Array.isArray(i.cards)?i.cards.forEach((o,a)=>{if(o.id||(n.errors.push(`Card at index ${a} missing id`),n.valid=!1),o.deckId||(n.errors.push(`Card at index ${a} missing deckId`),n.valid=!1),o.question||(n.errors.push(`Card at index ${a} missing question`),n.valid=!1),o.answer||(n.errors.push(`Card at index ${a} missing answer`),n.valid=!1),(typeof o.stability!="number"||o.stability<0)&&n.warnings.push(`Card ${o.id} has invalid stability`),(typeof o.difficulty!="number"||o.difficulty<1||o.difficulty>10)&&n.warnings.push(`Card ${o.id} has invalid difficulty`),["NEW","LEARNING","REVIEW","RELEARNING"].includes(o.state)||(n.errors.push(`Card ${o.id} has invalid state: ${o.state}`),n.valid=!1),o.dueDate){const r=new Date(o.dueDate);isNaN(r.getTime())&&(n.errors.push(`Card ${o.id} has invalid dueDate: ${o.dueDate}`),n.valid=!1)}}):(n.valid=!1,n.errors.push("Cards must be an array")),Array.isArray(i.decks)&&Array.isArray(i.cards)){const o=new Set(i.decks.map(r=>r.id)),a=i.cards.filter(r=>!o.has(r.deckId));a.length>0&&n.warnings.push(`Found ${a.length} orphaned cards (no matching deck)`)}return n},i_=i=>new Promise((n,o)=>{const a=new FileReader;a.onload=r=>{var d;(d=r.target)!=null&&d.result?n(r.target.result):o(new Error("Failed to read file"))},a.onerror=()=>o(new Error("File reading error")),a.readAsText(i)}),l_=async i=>{try{const o=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(a)).map(m=>m.toString(16).padStart(2,"0")).join("")}catch(n){return console.error("Error generating checksum:",n),""}},ps={importFromJSON:jA,validateImportData:ug,readFileContent:i_,ImportStrategy:Sn},o_=({onClose:i})=>{const n=ng(),o=V.useRef(null),[a,r]=V.useState("export"),[d,m]=V.useState("json"),[g,y]=V.useState(!0),[h,v]=V.useState(!0),[E,A]=V.useState(null),[R,q]=V.useState(Sn.MERGE),[G,X]=V.useState(null),[J,W]=V.useState(null),[Q,ne]=V.useState(!1),se=async()=>{try{ne(!0),await $A.exportData(d,{includePreferences:g,includeChecksum:d==="json"?h:!1}),n.success(`Data exported successfully as ${d.toUpperCase()}!`,nn.SUCCESS)}catch(F){console.error("Export error:",F),n.error("Failed to export data. Please try again.",nn.ERROR)}finally{ne(!1)}},ue=async F=>{var Re;const ce=(Re=F.target.files)==null?void 0:Re[0];if(ce){A(ce),X(null),W(null);try{const me=await ps.readFileContent(ce),Ke=JSON.parse(me),Xe=ps.validateImportData(Ke);X(Xe),Xe.valid?Xe.warnings.length>0?n.warning("File validated with warnings. Review before importing.",nn.WARNING):n.success("File validated successfully!",nn.SUCCESS):n.error("File validation failed. Please check errors below.",nn.ERROR)}catch(me){console.error("File validation error:",me),X({valid:!1,errors:["Invalid JSON file format"],warnings:[]}),n.error("Invalid file format. Please select a valid EchoCards backup file.",nn.ERROR)}}},Y=async()=>{if(!E){n.error("Please select a file to import",nn.ERROR);return}if(!(G!=null&&G.valid)){n.error("Cannot import invalid file. Please fix errors first.",nn.ERROR);return}try{ne(!0);const F=await ps.readFileContent(E),ce=await ps.importFromJSON(F,{strategy:R,validateChecksum:!0,dryRun:!1});W(ce),ce.success?(n.success(ce.message,nn.SUCCESS),setTimeout(()=>{window.location.reload()},2e3)):n.error(ce.message,nn.ERROR)}catch(F){console.error("Import error:",F),n.error("Failed to import data. Please try again.",nn.ERROR)}finally{ne(!1)}},he=()=>{A(null),X(null),W(null),o.current&&(o.current.value="")};return S.jsxs("div",{style:te.container,children:[S.jsxs("div",{style:te.header,children:[S.jsx("h2",{style:te.title,children:"Backup & Restore"}),S.jsx("button",{onClick:i,style:te.closeButton,children:""})]}),S.jsxs("div",{style:te.tabs,children:[S.jsx("button",{onClick:()=>r("export"),style:{...te.tab,...a==="export"?te.tabActive:{}},children:"Export Data"}),S.jsx("button",{onClick:()=>r("import"),style:{...te.tab,...a==="import"?te.tabActive:{}},children:"Import Data"})]}),a==="export"&&S.jsxs("div",{style:te.content,children:[S.jsxs("div",{style:te.section,children:[S.jsx("h3",{style:te.sectionTitle,children:"Export Format"}),S.jsxs("div",{style:te.radioGroup,children:[S.jsxs("label",{style:te.radioLabel,children:[S.jsx("input",{type:"radio",value:"json",checked:d==="json",onChange:F=>m(F.target.value),style:te.radio}),S.jsxs("span",{children:[S.jsx("strong",{children:"JSON"})," - Complete backup with all data (Recommended)"]})]}),S.jsxs("label",{style:te.radioLabel,children:[S.jsx("input",{type:"radio",value:"csv",checked:d==="csv",onChange:F=>m(F.target.value),style:te.radio}),S.jsxs("span",{children:[S.jsx("strong",{children:"CSV"})," - Cards only, for spreadsheet editing"]})]}),S.jsxs("label",{style:te.radioLabel,children:[S.jsx("input",{type:"radio",value:"anki",checked:d==="anki",onChange:F=>m(F.target.value),style:te.radio}),S.jsxs("span",{children:[S.jsx("strong",{children:"Anki"})," - Import into Anki flashcard app"]})]})]})]}),d==="json"&&S.jsxs("div",{style:te.section,children:[S.jsx("h3",{style:te.sectionTitle,children:"Options"}),S.jsxs("label",{style:te.checkboxLabel,children:[S.jsx("input",{type:"checkbox",checked:g,onChange:F=>y(F.target.checked),style:te.checkbox}),"Include preferences (voice, conversational mode)"]}),S.jsxs("label",{style:te.checkboxLabel,children:[S.jsx("input",{type:"checkbox",checked:h,onChange:F=>v(F.target.checked),style:te.checkbox}),"Include checksum for integrity verification"]})]}),S.jsx("div",{style:te.buttonContainer,children:S.jsx("button",{onClick:se,disabled:Q,style:te.primaryButton,children:Q?"Exporting...":`Export as ${d.toUpperCase()}`})}),S.jsx("div",{style:te.infoBox,children:S.jsxs("p",{style:te.infoText,children:[S.jsx("strong",{children:" Tip:"})," Export your data regularly to prevent data loss. JSON format is recommended for complete backups."]})})]}),a==="import"&&S.jsxs("div",{style:te.content,children:[S.jsxs("div",{style:te.section,children:[S.jsx("h3",{style:te.sectionTitle,children:"Select File"}),S.jsx("input",{ref:o,type:"file",accept:".json",onChange:ue,style:te.fileInput}),E&&S.jsxs("p",{style:te.fileName,children:["Selected: ",S.jsx("strong",{children:E.name})," (",(E.size/1024).toFixed(1)," KB)"]})]}),G&&S.jsxs("div",{style:te.section,children:[S.jsx("h3",{style:te.sectionTitle,children:"Validation Results"}),G.valid?S.jsx("div",{style:te.successBox,children:" File is valid and ready to import"}):S.jsx("div",{style:te.errorBox,children:" File validation failed"}),G.errors.length>0&&S.jsxs("div",{style:te.errorList,children:[S.jsx("strong",{children:"Errors:"}),S.jsx("ul",{children:G.errors.map((F,ce)=>S.jsx("li",{children:F},ce))})]}),G.warnings.length>0&&S.jsxs("div",{style:te.warningList,children:[S.jsx("strong",{children:"Warnings:"}),S.jsx("ul",{children:G.warnings.map((F,ce)=>S.jsx("li",{children:F},ce))})]})]}),(G==null?void 0:G.valid)&&!J&&S.jsxs("div",{style:te.section,children:[S.jsx("h3",{style:te.sectionTitle,children:"Import Strategy"}),S.jsxs("div",{style:te.radioGroup,children:[S.jsxs("label",{style:te.radioLabel,children:[S.jsx("input",{type:"radio",value:Sn.MERGE,checked:R===Sn.MERGE,onChange:F=>q(F.target.value),style:te.radio}),S.jsxs("span",{children:[S.jsx("strong",{children:"Merge"})," - Combine with existing data (imported overwrites conflicts)"]})]}),S.jsxs("label",{style:te.radioLabel,children:[S.jsx("input",{type:"radio",value:Sn.REPLACE,checked:R===Sn.REPLACE,onChange:F=>q(F.target.value),style:te.radio}),S.jsxs("span",{children:[S.jsx("strong",{children:"Replace"})," - Delete all existing data and import ( Destructive)"]})]}),S.jsxs("label",{style:te.radioLabel,children:[S.jsx("input",{type:"radio",value:Sn.SKIP,checked:R===Sn.SKIP,onChange:F=>q(F.target.value),style:te.radio}),S.jsxs("span",{children:[S.jsx("strong",{children:"Skip"})," - Only add new items, keep existing unchanged"]})]})]})]}),J&&S.jsxs("div",{style:te.section,children:[S.jsx("h3",{style:te.sectionTitle,children:"Import Results"}),J.success?S.jsxs("div",{style:te.successBox,children:[" ",J.message]}):S.jsxs("div",{style:te.errorBox,children:[" ",J.message]}),S.jsxs("div",{style:te.statsBox,children:[S.jsxs("div",{style:te.statItem,children:[S.jsx("span",{style:te.statLabel,children:"Decks Imported:"}),S.jsx("span",{style:te.statValue,children:J.stats.decksImported})]}),S.jsxs("div",{style:te.statItem,children:[S.jsx("span",{style:te.statLabel,children:"Cards Imported:"}),S.jsx("span",{style:te.statValue,children:J.stats.cardsImported})]}),J.stats.decksSkipped>0&&S.jsxs("div",{style:te.statItem,children:[S.jsx("span",{style:te.statLabel,children:"Decks Skipped:"}),S.jsx("span",{style:te.statValue,children:J.stats.decksSkipped})]}),J.stats.cardsSkipped>0&&S.jsxs("div",{style:te.statItem,children:[S.jsx("span",{style:te.statLabel,children:"Cards Skipped:"}),S.jsx("span",{style:te.statValue,children:J.stats.cardsSkipped})]})]}),J.stats.errors.length>0&&S.jsxs("div",{style:te.errorList,children:[S.jsx("strong",{children:"Errors:"}),S.jsx("ul",{children:J.stats.errors.map((F,ce)=>S.jsx("li",{children:F},ce))})]})]}),S.jsxs("div",{style:te.buttonContainer,children:[!J&&S.jsx("button",{onClick:Y,disabled:!(G!=null&&G.valid)||Q,style:te.primaryButton,children:Q?"Importing...":"Import Data"}),S.jsx("button",{onClick:he,style:te.secondaryButton,children:J?"Import Another File":"Clear"})]}),R===Sn.REPLACE&&!J&&S.jsx("div",{style:te.warningBox,children:S.jsxs("p",{style:te.warningText,children:[S.jsx("strong",{children:" Warning:"})," Replace strategy will permanently delete all existing data. Make sure to export your current data first!"]})})]})]})},te={container:{maxWidth:"800px",margin:"20px auto",padding:"30px",backgroundColor:"#1e1e1e",borderRadius:"12px",color:"#e0e0e0",fontFamily:"system-ui, -apple-system, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},title:{margin:0,fontSize:"28px",fontWeight:"bold",color:"#ffffff"},closeButton:{background:"none",border:"none",fontSize:"28px",color:"#888",cursor:"pointer",padding:"0",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",transition:"all 0.2s"},tabs:{display:"flex",gap:"10px",marginBottom:"30px",borderBottom:"2px solid #333"},tab:{flex:1,padding:"12px 24px",background:"none",border:"none",borderBottom:"3px solid transparent",color:"#888",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},tabActive:{color:"#4fc3f7",borderBottomColor:"#4fc3f7"},content:{display:"flex",flexDirection:"column",gap:"25px"},section:{display:"flex",flexDirection:"column",gap:"15px"},sectionTitle:{margin:0,fontSize:"18px",fontWeight:"600",color:"#ffffff"},radioGroup:{display:"flex",flexDirection:"column",gap:"12px"},radioLabel:{display:"flex",alignItems:"flex-start",gap:"12px",cursor:"pointer",padding:"12px",borderRadius:"8px",transition:"background-color 0.2s"},radio:{marginTop:"3px",cursor:"pointer"},checkboxLabel:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"8px"},checkbox:{cursor:"pointer"},buttonContainer:{display:"flex",gap:"15px",marginTop:"10px"},primaryButton:{flex:1,padding:"14px 28px",backgroundColor:"#4fc3f7",color:"#1e1e1e",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},secondaryButton:{padding:"14px 28px",backgroundColor:"#333",color:"#e0e0e0",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},fileInput:{padding:"12px",backgroundColor:"#2a2a2a",border:"2px dashed #555",borderRadius:"8px",color:"#e0e0e0",cursor:"pointer"},fileName:{fontSize:"14px",color:"#aaa",marginTop:"8px"},successBox:{padding:"12px 16px",backgroundColor:"#1b5e20",color:"#a5d6a7",borderRadius:"8px",border:"1px solid #2e7d32"},errorBox:{padding:"12px 16px",backgroundColor:"#b71c1c",color:"#ef9a9a",borderRadius:"8px",border:"1px solid #c62828"},warningBox:{padding:"16px",backgroundColor:"#e65100",borderRadius:"8px",border:"1px solid #f57c00"},warningText:{margin:0,color:"#fff3e0",fontSize:"14px"},infoBox:{padding:"16px",backgroundColor:"#1565c0",borderRadius:"8px",border:"1px solid #1976d2"},infoText:{margin:0,color:"#e3f2fd",fontSize:"14px"},errorList:{marginTop:"10px",padding:"12px",backgroundColor:"#2a2a2a",borderRadius:"8px",color:"#ef9a9a"},warningList:{marginTop:"10px",padding:"12px",backgroundColor:"#2a2a2a",borderRadius:"8px",color:"#ffcc80"},statsBox:{marginTop:"15px",padding:"16px",backgroundColor:"#2a2a2a",borderRadius:"8px",display:"flex",flexDirection:"column",gap:"8px"},statItem:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #333"},statLabel:{color:"#aaa",fontSize:"14px"},statValue:{color:"#4fc3f7",fontSize:"16px",fontWeight:"600"}},tn=new(window.AudioContext||window.webkitAudioContext)({sampleRate:Fu}),a_=()=>{const i=ng(),[n,o]=V.useState(ee.IDLE),[a,r]=V.useState(null),[d,m]=V.useState("Say 'Start Review' to begin."),[g,y]=V.useState([]),[h,v]=V.useState([]),[E,A]=V.useState(null),[R,q]=V.useState(null),[G,X]=V.useState(null),[J,W]=V.useState(!1),[Q,ne]=V.useState([]),[se,ue]=V.useState(null),[Y,he]=V.useState(null),[F,ce]=V.useState(0),[Re,me]=V.useState(!1),[Ke,Xe]=V.useState(ln.STOPPED),[it,k]=V.useState("Zephyr"),[Z,de]=V.useState(!1),Ce=V.useRef([]).current,be=V.useRef(null),[N,H]=V.useState(null),[$,ie]=V.useState(!1),[ge,Se]=V.useState(null),[Ie,ct]=V.useState(!1),[ze,Yn]=V.useState(null),[Zi,Si]=V.useState(null),[Xo,an]=V.useState(!1),[Xl,Ei]=V.useState(!1),[Cs,Wi]=V.useState(!1),[Zl,Ci]=V.useState(null),sn=V.useRef(null),Wl=V.useRef([]),[As,mt]=V.useState(!1),[_s,$i]=V.useState(null),ji=V.useRef(null);V.useEffect(()=>{y(ve.getDecks());const U=ve.getStudyProgress();ue(U),U&&he(U.goal);const O=ve.getVoicePreference();O&&k(O),de(ve.getConversationalMode())},[]);const el=U=>{const O=U.target.value;k(O),ve.setVoicePreference(O)},xs=U=>{de(U),ve.setConversationalMode(U)},Fn=V.useCallback(async()=>{if(Re||Ce.length===0)return;me(!0);const U=Ce.shift();if(U){tn.state==="suspended"&&await tn.resume();const O=tn.createBufferSource();O.buffer=U,O.connect(tn.destination),be.current=O,Xe(ln.PLAYING),O.start(),O.onended=()=>{be.current=null,me(!1),Ce.length===0?Xe(ln.STOPPED):Fn()}}else me(!1),Ce.length===0&&Xe(ln.STOPPED)},[Ce,Re]),K=V.useCallback(async U=>{const O=await Nt.generateTts(U,it);if(O)try{const z=Nt.decodeAudio(O),oe=await Nt.decodeAudioData(z,tn,Fu,1);Ce.push(oe),Fn()}catch(z){console.error("Failed to decode or queue TTS audio:",z),m("Sorry, there was an audio playback error.")}},[it,Ce,Fn]),Ns=V.useCallback(()=>{tn.state==="running"&&(tn.suspend(),Xe(ln.PAUSED))},[]),Ai=V.useCallback(()=>{tn.state==="suspended"&&(tn.resume(),Xe(ln.PLAYING))},[]),At=V.useCallback(()=>{be.current&&(be.current.onended=null,be.current.stop(),be.current=null),Ce.length=0,me(!1),Xe(ln.STOPPED),tn.state==="suspended"&&tn.resume()},[Ce]),Jt=V.useCallback(U=>{Rt(),ce(0),o(ee.PROCESSING),m(`Loading deck: ${U}...`);const O=g.find(z=>z.name.toLowerCase()===U.toLowerCase());if(O){const z=ve.getDueCardsForDeck(O.id);z.length>0?(v(z),A(z[0]),W(!1),o(ee.READING_QUESTION)):(o(ee.AWAITING_COMMAND),m(`No cards due for review in ${U}.`),K(`No cards due for review in ${U}.`))}else o(ee.AWAITING_COMMAND),m(`Sorry, I couldn't find a deck named "${U}".`),K(`Sorry, I couldn't find a deck named "${U}".`)},[g,K]),Tt=V.useCallback(()=>{n===ee.AWAITING_ANSWER_REVEAL&&(W(!0),o(ee.READING_ANSWER))},[n]),Zo=V.useCallback(U=>{if(n===ee.AWAITING_RATING&&E)try{o(ee.PROCESSING);const O=On[U],z=Gv(E,O);ve.updateCard(z);const oe=F+1;ce(oe);let Me=!1,Oe="";if((Y==null?void 0:Y.type)==="session"&&oe>=Y.target&&(Me=!0,Oe=`Great job! You've reached your session goal of ${Y.target} cards.`),se){const Mt=se.progress+1;ve.updateStudyProgress(Mt),ue(_t=>_t?{..._t,progress:Mt}:null),(Y==null?void 0:Y.type)==="daily"&&Mt>=Y.target&&(Me=!0,Oe=`Great job! You've reached your daily goal of ${Y.target} cards.`)}Me&&(m(Oe),K(Oe));const St=h.slice(1);v(St),St.length>0?(A(St[0]),W(!1),o(ee.READING_QUESTION)):(A(null),o(ee.AWAITING_COMMAND),m("Review complete! Well done."),K("Review complete! Well done."))}catch{i.error("Failed to save card rating. Please try again."),o(ee.AWAITING_RATING)}},[n,E,h,F,Y,se,K,i]),Wo=V.useCallback(async(U,O)=>{const z={target:U,type:O};if(he(z),ce(0),O==="daily"){const Me=ve.setStudyGoal(z);ue(Me)}const oe=`Ok, I've set your goal to ${U} cards per ${O}.`;m(oe),K(oe)},[K]),$o=V.useCallback(async U=>{try{const O=ve.createDeck(U);y(oe=>[...oe,O]);const z=`I've created the "${U}" deck for you.`;m(z),K(z),i.success(`Deck "${U}" created successfully!`)}catch{i.error("Failed to create deck. Storage may be full.");const z=`Sorry, I couldn't create the "${U}" deck. Please try again.`;m(z),K(z)}},[K,i]),_i=V.useCallback(async U=>{const O=g.find(z=>z.name.toLowerCase()===U.toLowerCase());if(O)if(ve.deleteDeck(O.id)){y(Me=>Me.filter(Oe=>Oe.id!==O.id));const oe=`Okay, the "${U}" deck has been deleted.`;m(oe),K(oe),i.success(`Deck "${U}" deleted successfully!`)}else{i.error("Failed to delete deck. Please try again.");const oe=`Sorry, I couldn't delete the "${U}" deck.`;m(oe),K(oe)}else{const z=`Sorry, I couldn't find a deck named "${U}".`;m(z),K(z)}},[g,K,i]),xi=V.useCallback(async()=>{let U;g.length>0?U=`Here are your decks: ${g.map(z=>z.name).join(", ")}.`:U="You don't have any decks yet.",m(U),K(U)},[g,K]),Ni=V.useCallback(async()=>{o(ee.SHOWING_DECKS);const U="Here are your decks. You can select one to start or tell me which one to review.";m("Select a deck to begin a review session."),K(U)},[K]),hn=V.useCallback(async(U,O,z,oe)=>{const Me=g.find(Oe=>Oe.name.toLowerCase()===U.toLowerCase());if(Me)try{ve.createCard(Me.id,O,z,oe);const Oe=`Okay, I've added that card to the "${U}" deck.`;m(Oe),K(Oe),i.success("Card created successfully!")}catch{i.error("Failed to create card. Storage may be full.");const St="Sorry, I couldn't create that card. Please try again.";m(St),K(St)}else{const Oe=`Sorry, I couldn't find a deck named "${U}" to add the card to.`;m(Oe),K(Oe)}},[g,K,i]),En=V.useCallback(async(U,O)=>{const z=g.find(Me=>Me.name.toLowerCase()===U.toLowerCase());if(!z){const Me=`Sorry, I couldn't find a deck named "${U}".`;return m(Me),K(Me),null}const oe=ve.findCardsByQuestion(z.id,O);if(oe.length>0)return oe[0];{const Me=`I couldn't find any card in "${U}" with a question containing "${O}".`;return m(Me),K(Me),null}},[g,K]),Kn=V.useCallback(async(U,O)=>{const z=await En(U,O);if(z){q(z),o(ee.EDITING_CARD);const oe=`I found the card: "${z.question}". What should the new question, answer, or explanation be?`;m("Editing: "+z.question),K(oe)}},[En,K]),jo=V.useCallback(async U=>{if(!R||n!==ee.EDITING_CARD){const O="Sorry, you need to find a card to edit first.";m(O),K(O);return}try{const O={...R,question:U.newQuestion??R.question,answer:U.newAnswer??R.answer,explanation:U.newExplanation??R.explanation};ve.updateCard(O),q(null),o(ee.AWAITING_COMMAND);const z="I've updated the card.";m(z),K(z),i.success("Card updated successfully!")}catch{i.error("Failed to update card. Please try again.");const z="Sorry, I couldn't update the card. Please try again.";m(z),K(z)}},[R,n,K,i]),Rt=V.useCallback(()=>{q(null),X(null),H(null),ie(!1),Se(null),ct(!1),Yn(null),Si(null),an(!1),Ei(!1),Wi(!1),Ci(null),mt(!1),$i(null),sn.current&&sn.current.state==="recording"&&sn.current.stop(),r(null),o(ee.AWAITING_COMMAND),m("What would you like to do next?")},[]),Ri=V.useCallback(async()=>{o(ee.IMPORTING_DECK);const U="Okay, let's import a new deck. Please choose a file and give the deck a name.";m("Import a deck from a .csv or .txt file."),K(U)},[K]),Cn=V.useCallback(async()=>{o(ee.SMART_GENERATION);const U="Welcome to the Smart Deck Generator. You can tell me a topic to create a deck from, or upload a document for me to analyze.";m("Create a deck with AI from a topic or document."),K(U)},[K]),Rs=V.useCallback(async(U,O)=>{try{const z=ve.importDeckFromCsv(U,O);y(ve.getDecks()),o(ee.AWAITING_COMMAND);const oe=`Great! The "${z.name}" deck has been imported successfully.`;m(oe),K(oe),i.success(`Deck "${U}" imported successfully!`)}catch{i.error("Failed to import deck. Check file format or storage space."),o(ee.AWAITING_COMMAND);const oe=`Sorry, I couldn't import the "${U}" deck. Please check the file format.`;m(oe),K(oe)}},[K,i]),Mi=V.useCallback((U,O)=>{if(O&&O.length>0){const z=ve.createDeck(U);O.forEach(Me=>ve.createCard(z.id,Me.question,Me.answer,Me.explanation)),y(ve.getDecks()),o(ee.AWAITING_COMMAND);const oe=`I've created the "${U}" deck for you with ${O.length} cards.`;m(oe),K(oe)}else{o(ee.AWAITING_COMMAND);const z=`Sorry, I had trouble creating the deck about "${U}". Please try again.`;m(z),K(z)}},[K]),tl=V.useCallback(async(U,O,z)=>{let oe=`Okay, generating a new "${O}" level deck about "${U}" with ${z} cards. This might take a moment...`;m(oe),K(oe),o(ee.PROCESSING);const Me=await Nt.generateDeckFromForm(U,O,z);Mi(U,Me)},[K,Mi]),nl=V.useCallback(async(U,O)=>{let z=`Okay, analyzing your document to create the "${U}" deck. This may take a few moments...`;m(z),K(z),o(ee.PROCESSING);const oe=await Nt.generateDeckFromDocument(U,O);Mi(U,oe)},[K,Mi]),il=V.useCallback(async(U,O)=>{H(null),ie(!1);const z=await En(U,O);if(z){X(z),o(ee.SHOWING_CARD_STATS);const oe=`Here are the stats for the card "${z.question}". You can also ask me to explain this card.`;m(`Viewing stats for: ${z.question}`),K(oe)}},[En,K]),wi=V.useCallback(async()=>{if(n!==ee.SHOWING_CARD_STATS||!G){K("You need to be viewing a card's stats to ask for an explanation.");return}ie(!0),H(null);const U=`Okay, I'm generating an explanation for "${G.question}". One moment...`;m("Generating AI explanation..."),K(U);const O=await Nt.getCardExplanation(G);H(O),ie(!1),m("Explanation generated."),K("The explanation is ready for you to read.")},[G,n,K]),$l=V.useCallback(async U=>{if(!E)return;r(n),o(ee.CONVERSATION),m("Thinking about your question...");const O=await Nt.getExplanation(E,U);ne(z=>[...z,{source:"assistant",text:O}]),K(O)},[E,n,K]),ll=V.useCallback(async U=>{o(ee.PROCESSING);let O=`Alright, analyzing your performance in the "${U}" deck to find your weak points...`;m(O),K(O);const z=g.find(Mt=>Mt.name.toLowerCase()===U.toLowerCase());if(!z){O=`Sorry, I couldn't find a deck named "${U}".`,m(O),K(O),o(ee.AWAITING_COMMAND);return}const oe=ve.getWeakestCard(z.id);if(!oe||oe.lapses===0){O=`You don't seem to have any weak points in "${U}" right now. Great job!`,m(O),K(O),o(ee.SHOWING_DECKS);return}O=`It looks like you're struggling with: "${oe.question}". I'll consult my knowledge base to create some new cards to help you practice.`,m("Found weak point, generating new cards..."),K(O);const Me=`${oe.question} ${oe.answer}`,Oe=bA.findRelevantChunk(Me);Oe||(O="I couldn't find specific information on that topic in my knowledge base, but I'll try to create some cards anyway.",K(O));const St=await Nt.generateTargetedCards(oe,Oe,3);St.length>0?(St.forEach(Mt=>ve.createCard(z.id,Mt.question,Mt.answer,Mt.explanation)),O=`I've added ${St.length} new cards to the "${U}" deck to help you master this topic.`,m(O),K(O)):(O="I had some trouble generating new cards for that topic. Please try again later.",m(O),K(O)),o(ee.SHOWING_DECKS)},[g,K]),Yt=V.useCallback(()=>{o(ee.GENERATING_IMAGE),m("Enter a prompt to generate an image."),K("What kind of image would you like me to create?")},[K]),et=V.useCallback(async U=>{ct(!0),Se(null),m(`Generating an image of "${U}"...`),K(`Okay, generating an image of ${U}. This might take a moment.`);const O=await Nt.generateImage(U);O?(Se(O),m("Image generated successfully."),K("Here is the image you requested.")):(m("Sorry, I failed to generate the image."),K("Sorry, I had a problem generating that image. Please try again.")),ct(!1)},[K]),dt=V.useCallback(()=>{o(ee.ANALYZING_IMAGE),m("Upload an image to analyze."),K("Please upload an image, and let me know what you want to know about it.")},[K]),Qn=V.useCallback(async U=>{if(!ze){K("Please upload an image first.");return}an(!0),Si(null),m("Analyzing image..."),K("Okay, analyzing the image. One moment.");const O=await Nt.analyzeImage(U,ze.base64,ze.mimeType);Si(O),m("Image analysis complete."),K("Here is the analysis of the image."),an(!1)},[ze,K]),bi=V.useCallback(()=>{o(ee.TRANSCRIBING_AUDIO),m("Ready to transcribe audio."),Ci(null),K("I'm ready to transcribe. Press the record button to start.")},[K]),Ms=V.useCallback(async()=>{try{const U=await navigator.mediaDevices.getUserMedia({audio:!0}),O=new MediaRecorder(U);sn.current=O,Wl.current=[],O.ondataavailable=z=>{Wl.current.push(z.data)},O.onstop=async()=>{const z=new Blob(Wl.current,{type:"audio/webm"}),oe=new FileReader;oe.readAsDataURL(z),oe.onloadend=async()=>{const Me=oe.result.split(",")[1];Wi(!0),m("Transcribing audio...");const Oe=await Nt.transcribeAudio(Me,"audio/webm");Ci(Oe),Wi(!1),m("Transcription complete.")},U.getTracks().forEach(Me=>Me.stop())},O.start(),Ei(!0),m("Recording...")}catch(U){console.error("Error starting recording:",U),m("Could not start recording. Please check microphone permissions.")}},[]),ws=V.useCallback(()=>{sn.current&&sn.current.state==="recording"&&(sn.current.stop(),Ei(!1))},[]),ol=V.useCallback(()=>{o(ee.ANALYZING_TEXT),m("Enter some text to analyze."),K("Please provide the text you want me to analyze, and tell me what you want to know.")},[K]),An=V.useCallback(()=>{o(ee.SHOWING_BACKUP),m("Backup and restore your flashcard data."),K("You can export your data to JSON, CSV, or Anki format, or import a backup file.")},[K]),jl=V.useCallback(async(U,O,z)=>{mt(!0),$i(null),m("Analyzing text..."),K(`Okay, analyzing the text using the ${z} model. One moment.`);const oe=await Nt.analyzeText(U,O,z);$i(oe),m("Text analysis complete."),K("Here is the analysis."),mt(!1)},[K]),_n=V.useCallback(U=>{var oe;const{name:O,args:z}=U;switch(console.log(`Tool call: ${O}`,z),O){case"startReview":Jt(z.deckName);break;case"showAnswer":Tt();break;case"rateCard":Zo(z.rating);break;case"startConversation":$l(z.query);break;case"setStudyGoal":Wo(z.target,z.goalType);break;case"createDeck":$o(z.deckName);break;case"deleteDeck":_i(z.deckName);break;case"listDecks":xi();break;case"showDecks":Ni();break;case"createCard":hn(z.deckName,z.question,z.answer,z.explanation);break;case"findCardToEdit":Kn(z.deckName,z.questionQuery);break;case"updateCardContent":jo({newQuestion:z.newQuestion,newAnswer:z.newAnswer,newExplanation:z.newExplanation});break;case"goBack":Rt();break;case"showImportView":Ri();break;case"showSmartGenerationView":Cn();break;case"generateDeckFromForm":tl(z.topic,z.depth,z.numberOfCards);break;case"generateDeckFromDocument":nl(z.deckName,z.documentText);break;case"showCardStats":il(z.deckName,z.questionQuery);break;case"explainCard":wi();break;case"generateCardsFromWeakness":ll(z.deckName);break;case"showImageGenerationView":Yt();break;case"generateImage":et(z.prompt);break;case"showImageAnalysisView":dt();break;case"showTranscriptionView":bi();break;case"showTextAnalysisView":ol();break;case"showBackupView":An();break;default:console.warn(`Unknown tool call: ${O}`)}(oe=ji.current)==null||oe.sendToolResponse({functionResponses:{id:U.id,name:U.name,response:{result:"OK"}}})},[Jt,Tt,Zo,$l,Wo,$o,_i,xi,Ni,hn,Kn,jo,Rt,Ri,Cn,tl,nl,il,wi,ll,Yt,et,dt,bi,ol,An]),xn=V.useCallback(async U=>{var z,oe,Me,Oe,St,Mt;if((z=U.serverContent)!=null&&z.inputTranscription){const _t=U.serverContent.inputTranscription.text;_t&&ne(rn=>{const wt=rn[rn.length-1];if(wt&&wt.source==="user"){const bt={...wt,text:wt.text+_t};return[...rn.slice(0,-1),bt]}return[...rn,{source:"user",text:_t}]})}U.toolCall&&U.toolCall.functionCalls.forEach(_n);const O=(Mt=(St=(Oe=(Me=(oe=U.serverContent)==null?void 0:oe.modelTurn)==null?void 0:Me.parts)==null?void 0:Oe[0])==null?void 0:St.inlineData)==null?void 0:Mt.data;if(O)try{const _t=Nt.decodeAudio(O),rn=await Nt.decodeAudioData(_t,tn,Fu,1);Ce.push(rn),Fn()}catch(_t){console.error("Failed to decode or queue assistant audio:",_t),m("Sorry, there was an audio playback error.")}},[_n,Ce,Fn]);V.useEffect(()=>{(async()=>{switch(n){case ee.READING_QUESTION:E&&(m("Reading question..."),K(E.question),o(ee.AWAITING_ANSWER_REVEAL),m("Say 'Show Answer' when ready."));break;case ee.READING_ANSWER:if(E){m("Reading answer...");const O=`${E.answer}. How did you do? Say Again, Hard, Good, or Easy.`;K(O),o(ee.AWAITING_RATING),m("Rate your answer: Again, Hard, Good, or Easy.")}break}})()},[n,E,K]),V.useEffect(()=>{if(Ke===ln.STOPPED&&n===ee.CONVERSATION&&a){o(a);const U={[ee.AWAITING_RATING]:"Okay, let's continue. How did you do on the card?",[ee.AWAITING_ANSWER_REVEAL]:"Alright, back to it. Say 'Show Answer' when you're ready.",[ee.AWAITING_COMMAND]:"Hope that helped! What's next?"};m(U[a]||"Let's continue."),r(null)}},[Ke,n,a]);const Ii=V.useCallback(async()=>{try{if(ji.current)return;ne([]);const U=await Nt.connectLive(xn,O=>{console.error(O),o(ee.ERROR),m("Connection error.")},()=>{console.log("closed"),o(ee.IDLE),m("Session ended.")},it,Z);ji.current=U,o(ee.AWAITING_COMMAND)}catch(U){console.error(U),o(ee.ERROR),m("Failed to start session. Check API key and permissions.")}},[xn,it,Z]),Xn=()=>{switch(n){case ee.SHOWING_DECKS:return S.jsx(qA,{decks:g,onStartReview:Jt,onShowImport:Ri,onShowSmartGeneration:Cn,onStrengthenWeakness:ll,onShowImageGeneration:Yt,onShowImageAnalysis:dt,onShowTranscription:bi,onShowTextAnalysis:ol,onShowBackup:An});case ee.IMPORTING_DECK:return S.jsx(PA,{onImport:Rs,onCancel:Rt});case ee.SMART_GENERATION:return S.jsx(QA,{onGenerateFromForm:tl,onGenerateFromDocument:nl,onCancel:Rt});case ee.SHOWING_CARD_STATS:return S.jsx(OA,{card:G,onBack:Rt,explanation:N,isGenerating:$,onGenerateExplanation:wi});case ee.GENERATING_IMAGE:return S.jsx(YA,{onGenerate:et,onBack:Rt,isGenerating:Ie,imageUrl:ge});case ee.ANALYZING_IMAGE:return S.jsx(FA,{onAnalyze:Qn,onBack:Rt,isAnalyzing:Xo,analysisResult:Zi,image:ze,setImage:Yn});case ee.TRANSCRIBING_AUDIO:return S.jsx(KA,{onStartRecording:Ms,onStopRecording:ws,onBack:Rt,isRecording:Xl,isTranscribing:Cs,transcriptionResult:Zl});case ee.ANALYZING_TEXT:return S.jsx(XA,{onAnalyze:jl,onBack:Rt,isAnalyzing:As,analysisResult:_s});case ee.SHOWING_BACKUP:return S.jsx(o_,{onClose:Rt});default:const U=R??E;return S.jsx(UA,{card:U,isFlipped:J,isEditing:n===ee.EDITING_CARD})}},lt=()=>{if(!Y||n===ee.IDLE||[ee.EDITING_CARD,ee.SHOWING_DECKS,ee.IMPORTING_DECK,ee.SHOWING_CARD_STATS,ee.GENERATING_IMAGE,ee.ANALYZING_IMAGE,ee.TRANSCRIBING_AUDIO,ee.SMART_GENERATION,ee.ANALYZING_TEXT].includes(n))return null;const U=Y.type==="session"?F:(se==null?void 0:se.progress)??0,O=Y.type.charAt(0).toUpperCase()+Y.type.slice(1);return S.jsxs("div",{className:"text-lg text-cyan-400 bg-gray-800/50 px-4 py-2 rounded-md",children:[O," Goal: ",U," / ",Y.target," cards"]})};return S.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 space-y-6 font-sans",children:[S.jsxs("div",{className:"w-full max-w-2xl flex justify-center items-start relative",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-5xl font-bold",children:"EchoCards"}),S.jsx("p",{className:"text-gray-400 mt-2",children:"Your voice-powered study partner"})]}),S.jsxs("div",{className:"absolute top-0 right-0",children:[S.jsx("label",{htmlFor:"voice-select",className:"sr-only",children:"Assistant Voice"}),S.jsx("select",{id:"voice-select",value:it,onChange:el,className:"bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500","aria-label":"Select assistant voice",children:bv.map(U=>S.jsx("option",{value:U,children:U},U))})]})]}),lt(),Xn(),S.jsx(GA,{status:d,isAssistantSpeaking:Re}),n!==ee.IDLE&&S.jsx(zA,{playbackState:Ke,onPlay:Ai,onPause:Ns,onStop:At}),n!==ee.IDLE&&S.jsx(LA,{messages:Q}),n===ee.IDLE&&S.jsxs("div",{className:"flex flex-col items-center gap-6",children:[S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx(JA,{id:"conversational-mode",label:"Enable Conversational Learning",checked:Z,onChange:xs}),S.jsx("p",{className:"text-xs text-gray-500 max-w-xs text-center",children:"Allows you to interrupt a review to ask questions about the current card."})]}),S.jsx("button",{onClick:Ii,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors",children:"Start Session"})]})]})};class s_ extends V.Component{constructor(n){super(n),this.resetErrorBoundary=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,o){console.error("ErrorBoundary caught an error:",n,o),this.props.onError&&this.props.onError(n,o),this.setState({error:n,errorInfo:o})}componentDidUpdate(n){if(this.state.hasError&&this.props.resetKeys){const o=n.resetKeys||[],a=this.props.resetKeys||[];(o.length!==a.length||o.some((r,d)=>r!==a[d]))&&this.resetErrorBoundary()}}render(){return this.state.hasError?this.props.fallback?this.props.fallback:S.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:S.jsxs("div",{className:"max-w-2xl w-full bg-red-900/20 border border-red-500 rounded-lg p-6 space-y-4",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),S.jsx("h1",{className:"text-2xl font-bold text-red-400",children:"Something went wrong"})]}),S.jsx("p",{className:"text-gray-300",children:"We encountered an unexpected error. Don't worry, your data should be safe in local storage."}),this.state.error&&S.jsxs("details",{className:"bg-gray-800 rounded p-4 text-sm",children:[S.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-white mb-2",children:"Error Details"}),S.jsxs("div",{className:"space-y-2 text-red-300",children:[S.jsxs("div",{children:[S.jsx("strong",{children:"Error:"})," ",this.state.error.toString()]}),this.state.errorInfo&&S.jsxs("div",{className:"mt-2",children:[S.jsx("strong",{children:"Component Stack:"}),S.jsx("pre",{className:"mt-1 text-xs overflow-auto max-h-48 bg-gray-900 p-2 rounded",children:this.state.errorInfo.componentStack})]})]})]}),S.jsxs("div",{className:"flex space-x-3",children:[S.jsx("button",{onClick:this.resetErrorBoundary,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors",children:"Try Again"}),S.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-colors",children:"Reload Page"})]}),S.jsxs("div",{className:"text-sm text-gray-400",children:[S.jsx("p",{children:"If this problem persists, you can:"}),S.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[S.jsx("li",{children:"Clear your browser cache and reload"}),S.jsx("li",{children:"Check the browser console for more details"}),S.jsx("li",{children:"Report this issue on GitHub"})]})]})]})}):this.props.children}}const cg=document.getElementById("root");if(!cg)throw new Error("Could not find root element to mount to");const r_=(i,n)=>{ut.logError(i,je.RENDER,$e.CRITICAL,{componentStack:n.componentStack})},u_=wv.createRoot(cg);u_.render(S.jsx(Ev.StrictMode,{children:S.jsx(s_,{onError:r_,children:S.jsx(IA,{children:S.jsx(a_,{})})})}));
